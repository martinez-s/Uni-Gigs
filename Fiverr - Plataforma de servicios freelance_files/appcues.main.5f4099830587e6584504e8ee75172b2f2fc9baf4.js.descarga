var Appcues=(function(){"use strict";function Le(e){return e.reduce((t,n)=>Object.assign(t,{[n]:n}),{})}const hd=["_hostname","_lastBrowserLanguage","_lastPageTitle","_lastPageUrl","_currentPageTitle","_currentPageUrl","_localId","_sessionPageviews","_updatedAt","_userAgent","_appcuesId","_sessionRandomizer","_testContentId","_showChecklist","_doNotTrack","_lastSeenAt","_timezoneCode","_timezoneOffset","_appId"],md=["flow_started","flow_completed","flow_skipped","flow_aborted","step_started","step_completed","step_skipped","step_interacted","step_aborted","form_submitted","form_field_submitted","nps_feedback","nps_score","nps_clicked_update_nps_score","nps_ask_me_later_selected_at","nps_survey_started","checklist_shown","checklist_completed","checklist_skipped","checklist_dismissed","checklist_item_started","checklist_item_completed","appcues_custom","experiment_entered","v2:experience_started","v2:step_seen","v2:icon_seen","v2:step_interaction","v2:button_pin_seen"],Ed="_appcuesForm_",wn="_appcuesSatisfaction_",$i="AppcuesSettings",Bi="apc_user_id",Br="apc_group_id",Wi="apc_local_id",Nn="apc_next_content_id",Xt="apc_user",Vi="apc_debug_enabled",Hs="apc_debug_url",Wr="apc_ann_errors",Jt="apc_curr_flow",Vr="apc_curr_checklist",Gi="apc_cl:",ji="apc_followed_test_link",Fe="localStorage",Ie="sessionStorage",gd=720*60*60,Qt={PAGE_VIEW:"appcues:page_view"},On={NPS:"nps",FLOW:"flow"},yd=["v2:experience_completed","v2:experience_skipped","v2:experience_snoozed"],Q=Le(["PENDING","STARTED","CALCULATING_POSITIONS","READY","WILL_SHOW","SHOWING","WILL_CLOSE","ERROR","FETCHING","RUNNING","DISMISSED","HIDING"]),qi=[Q.READY,Q.WILL_SHOW,Q.SHOWING,Q.WILL_CLOSE],kt=Le(["COMPLETED","SKIPPED","SHOWING_OTHER_CONTENT","CLEAR"]),Ms={EVENT_TRIGGER:"event_trigger",PAGE_VIEW:"page_view"},z={MODAL:"modal",HOTSPOTS:"hotspot-group",SEQUENTIAL_HOTSPOTS:"hotspot-group-sequential",DEBUGGER:"debugger",JOURNEY:"journey",ACTION:"action",SATISFACTION_SURVEY:"satisfaction-survey",CHECKLIST:"checklist",TEST_MODE:"test-mode",WIDGET:"widget",ANNOTATION:["hotspot-group"]},mt={REDIRECT:"redirect",WAIT_FOR_PAGE:"wait-for-page",SHOW_FLOW:"show_flow"},Ki=2,kn={COMPLETED:"completed",DISMISSED:"dismissed",SHOWN_MANUALLY:"shown_manually"},Bt={EXPANDED:"expanded",COLLAPSED:"collapsed",FIRSTVIEW:"first_view"},Yi={OPENED:"opened",CLOSED:"closed",OPEN_ONCE:"open_once"},Sd=["identify","track","page","anonymous","show","on","off","once","reset","debug","user","settings","content","injectContent","injectStyles","start","initMixpanel","initHeap","initIntercom","initCIO","initVero","initWoopra","initAmplitude","initKlaviyo","initCalq","initTD","initLl","initKM","initGA","initGTM","initSegment","initRudderstack","initBraze","initFullStory","initHotjar","initLogRocket","loadLaunchpad","group"],$s=20,Td=300,Cd=700,Rn=2147483647,Et=24,_d=20,Id=10,Ad=1,zi=3,Bs={CALCULATE:"CALCULATE"},Ln=Le(["WAIT_FOR_ONE_ELEMENT","WAIT_FOR_MOUSE_EVENT"]),Zt=200,q=Le(["STEP_ATTEMPTED","STEP_SHOWN","STEP_COMPLETED","STEP_SKIPPED","STEP_END","STEP_INTERACTED","STEP_ERRORED","CHILD_ACTIVATED","CHILD_DEACTIVATED","CHILDREN_ERRORED","CHILDREN_RECOVERED","CHILD_NEXT","CHILD_RUN","CSS_LOADED","STEP_REVEALED"]),vd=1e3,Xi=300,bd=500,wd=50,Ji=3e3,Qi={TEXT:"text",EXIT_SYMBOL:"exit-symbol"},cr={LABEL_TOOLTIP:"Tooltip",LABEL_CHECKLIST:"Contextual help checklist present on screen",ROLE_CONTAINER:"alert",ROLE_TOOLTIP:"alertdialog",HASPOPUP_TOOLTIP:"dialog"},Ws=6e4,Gr="apc_session",Nd=30,Zi="launchpad_kb_search";var Od=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en=function(t){return"@@redux-saga/"+t},Gs=en("TASK"),js=en("HELPER"),eo=en("MATCH"),qs=en("CANCEL_PROMISE"),Ks=en("SAGA_ACTION"),Ys=en("SELF_CANCELLATION"),kd=function(t){return function(){return t}},zs=kd(!0),xe=function(){},Xs=function(t){return t};function Ee(e,t,n){if(!t(e))throw Qs("error","uncaught at check",n),new Error(n)}var Rd=Object.prototype.hasOwnProperty;function to(e,t){return M.notUndef(e)&&Rd.call(e,t)}var M={undef:function(t){return t==null},notUndef:function(t){return t!=null},func:function(t){return typeof t=="function"},number:function(t){return typeof t=="number"},string:function(t){return typeof t=="string"},array:Array.isArray,object:function(t){return t&&!M.array(t)&&(typeof t>"u"?"undefined":Vs(t))==="object"},promise:function(t){return t&&M.func(t.then)},iterator:function(t){return t&&M.func(t.next)&&M.func(t.throw)},iterable:function(t){return t&&M.func(Symbol)?M.func(t[Symbol.iterator]):M.array(t)},task:function(t){return t&&t[Gs]},observable:function(t){return t&&M.func(t.subscribe)},buffer:function(t){return t&&M.func(t.isEmpty)&&M.func(t.take)&&M.func(t.put)},pattern:function(t){return t&&(M.string(t)||(typeof t>"u"?"undefined":Vs(t))==="symbol"||M.func(t)||M.array(t))},channel:function(t){return t&&M.func(t.take)&&M.func(t.close)},helper:function(t){return t&&t[js]},stringableFunc:function(t){return M.func(t)&&to(t,"toString")}},no={assign:function(t,n){for(var r in n)to(n,r)&&(t[r]=n[r])}};function jr(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}var Ld={from:function(t){var n=Array(t.length);for(var r in t)to(t,r)&&(n[r]=t[r]);return n}};function xd(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Od({},e),n=new Promise(function(r,i){t.resolve=r,t.reject=i});return t.promise=n,t}function ro(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=void 0,r=new Promise(function(i){n=setTimeout(function(){return i(t)},e)});return r[qs]=function(){return clearTimeout(n)},r}function Pd(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(){return++e}}var Js=Pd(),Dd=function(t){throw t},Fd=function(t){return{value:t,done:!0}};function io(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dd,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",r=arguments[3],i={name:n,next:e,throw:t,return:Fd};return r&&(i[js]=!0),typeof Symbol<"u"&&(i[Symbol.iterator]=function(){return i}),i}function Qs(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:""}function oo(e,t){return function(){return e.apply(void 0,arguments)}}var Zs=function(t){return new Error(`
  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug
  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.
  Error: `+t+`
`)},ec=function(t,n){return(t?t+".":"")+"setContext(props): argument "+n+" is not a plain object"},Ud=function(t){return function(n){return t(Object.defineProperty(n,Ks,{value:!0}))}},tc=en("IO"),qr="TAKE",so="PUT",nc="ALL",rc="RACE",ic="CALL",Hd="CPS",co="FORK",oc="JOIN",sc="CANCEL",cc="SELECT",lc="ACTION_CHANNEL",ac="CANCELLED",uc="FLUSH",dc="GET_CONTEXT",Md="SET_CONTEXT",fc=`
(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)`,Ye=function(t,n){var r;return r={},r[tc]=!0,r[t]=n,r},$d=function(t){return Ee($e.fork(t),M.object,"detach(eff): argument must be a fork effect"),t[co].detached=!0,t};function V(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"*";if(arguments.length&&Ee(arguments[0],M.notUndef,"take(patternOrChannel): patternOrChannel is undefined"),M.pattern(e))return Ye(qr,{pattern:e});if(M.channel(e))return Ye(qr,{channel:e});throw new Error("take(patternOrChannel): argument "+String(e)+" is not valid channel or a valid pattern")}V.maybe=function(){var e=V.apply(void 0,arguments);return e[qr].maybe=!0,e},V.maybe;function g(e,t){return arguments.length>1?(Ee(e,M.notUndef,"put(channel, action): argument channel is undefined"),Ee(e,M.channel,"put(channel, action): argument "+e+" is not a valid channel"),Ee(t,M.notUndef,"put(channel, action): argument action is undefined")):(Ee(e,M.notUndef,"put(action): argument action is undefined"),t=e,e=null),Ye(so,{channel:e,action:t})}g.resolve=function(){var e=g.apply(void 0,arguments);return e[so].resolve=!0,e},g.sync=oo(g.resolve);function at(e){return Ye(nc,e)}function Ge(e){return Ye(rc,e)}function pc(e,t,n){Ee(t,M.notUndef,e+": argument fn is undefined");var r=null;if(M.array(t)){var i=t;r=i[0],t=i[1]}else if(t.fn){var o=t;r=o.context,t=o.fn}return r&&M.string(t)&&M.func(r[t])&&(t=r[t]),Ee(t,M.func,e+": argument "+t+" is not a function"),{context:r,fn:t,args:n}}function E(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ye(ic,pc("call",e,n))}function F(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ye(co,pc("fork",e,n))}function _t(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $d(F.apply(void 0,[e].concat(n)))}function tn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1)return at(t.map(function(i){return tn(i)}));var r=t[0];return Ee(r,M.notUndef,"join(task): argument task is undefined"),Ee(r,M.task,"join(task): argument "+r+" is not a valid Task object "+fc),Ye(oc,r)}function rt(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1)return at(t.map(function(i){return rt(i)}));var r=t[0];return t.length===1&&(Ee(r,M.notUndef,"cancel(task): argument task is undefined"),Ee(r,M.task,"cancel(task): argument "+r+" is not a valid Task object "+fc)),Ye(sc,r||Ys)}function v(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return arguments.length===0?e=Xs:(Ee(e,M.notUndef,"select(selector,[...]): argument selector is undefined"),Ee(e,M.func,"select(selector,[...]): argument "+e+" is not a function")),Ye(cc,{selector:e,args:n})}function Bd(e,t){return Ee(e,M.notUndef,"actionChannel(pattern,...): argument pattern is undefined"),arguments.length>1&&(Ee(t,M.notUndef,"actionChannel(pattern, buffer): argument buffer is undefined"),Ee(t,M.buffer,"actionChannel(pattern, buffer): argument "+t+" is not a valid buffer")),Ye(lc,{pattern:e,buffer:t})}function Kr(){return Ye(ac,{})}function Wd(e){return Ee(e,M.channel,"flush(channel): argument "+e+" is not valid channel"),Ye(uc,e)}function Vd(e){return Ee(e,M.string,"getContext(prop): argument "+e+" is not a string"),Ye(dc,e)}var je=function(t){return function(n){return n&&n[tc]&&n[t]}},$e={take:je(qr),put:je(so),all:je(nc),race:je(rc),call:je(ic),cps:je(Hd),fork:je(co),join:je(oc),cancel:je(sc),select:je(cc),actionChannel:je(lc),cancelled:je(ac),flush:je(uc),getContext:je(dc),setContext:je(Md)},hc={done:!0,value:void 0},Yr={};function Gd(e){return M.channel(e)?"channel":Array.isArray(e)?String(e.map(function(t){return String(t)})):String(e)}function jd(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"iterator",r=void 0,i=t;function o(s,c){if(i===Yr)return hc;if(c)throw i=Yr,c;r&&r(s);var l=e[i](),u=l[0],d=l[1],f=l[2];return i=u,r=f,i===Yr?hc:d}return io(o,function(s){return o(null,s)},n,!0)}var qd="Channel's Buffer overflow!",mc=1,Kd=2,Ec=3,gc=4,Yd={isEmpty:zs,put:xe,take:xe};function zr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,t=arguments[1],n=new Array(e),r=0,i=0,o=0,s=function(d){n[i]=d,i=(i+1)%e,r++},c=function(){if(r!=0){var d=n[o];return n[o]=null,r--,o=(o+1)%e,d}},l=function(){for(var d=[];r;)d.push(c());return d};return{isEmpty:function(){return r==0},put:function(d){if(r<e)s(d);else{var f=void 0;switch(t){case mc:throw new Error(qd);case Ec:n[i]=d,i=(i+1)%e,o=i;break;case gc:f=2*e,n=l(),r=n.length,i=n.length,o=0,n.length=f,e=f,s(d);break}}},take:c,flush:l}}var xn={none:function(){return Yd},fixed:function(t){return zr(t,mc)},dropping:function(t){return zr(t,Kd)},sliding:function(t){return zr(t,Ec)},expanding:function(t){return zr(t,gc)}},yc=[],Xr=0;function zd(e){try{lo(),e()}finally{Tc()}}function Sc(e){yc.push(e),Xr||(lo(),Cc())}function lo(){Xr++}function Tc(){Xr--}function Cc(){Tc();for(var e=void 0;!Xr&&(e=yc.shift())!==void 0;)zd(e)}var Xd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_c="@@redux-saga/CHANNEL_END",lr={type:_c},Jr=function(t){return t&&t.type===_c};function Jd(){var e=[];function t(r){return e.push(r),function(){return jr(e,r)}}function n(r){for(var i=e.slice(),o=0,s=i.length;o<s;o++)i[o](r)}return{subscribe:t,emit:n}}var Qd="invalid buffer passed to channel factory function",Zd="Saga was provided with an undefined action";function Ic(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xn.fixed(),t=!1,n=[];Ee(e,M.buffer,Qd);function r(){if(t&&n.length)throw Zs("Cannot have a closed channel with pending takers");if(n.length&&!e.isEmpty())throw Zs("Cannot have pending takers with non empty buffer")}function i(l){if(r(),Ee(l,M.notUndef,Zd),!t){if(!n.length)return e.put(l);for(var u=0;u<n.length;u++){var d=n[u];if(!d[eo]||d[eo](l))return n.splice(u,1),d(l)}}}function o(l){r(),Ee(l,M.func,"channel.take's callback must be a function"),t&&e.isEmpty()?l(lr):e.isEmpty()?(n.push(l),l.cancel=function(){return jr(n,l)}):l(e.take())}function s(l){if(r(),Ee(l,M.func,"channel.flush' callback must be a function"),t&&e.isEmpty()){l(lr);return}l(e.flush())}function c(){if(r(),!t&&(t=!0,n.length)){var l=n;n=[];for(var u=0,d=l.length;u<d;u++)l[u](lr)}}return{take:o,put:i,flush:s,close:c,get __takers__(){return n},get __closed__(){return t}}}function ar(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xn.none(),n=arguments[2];arguments.length>2&&Ee(n,M.func,"Invalid match function passed to eventChannel");var r=Ic(t),i=function(){r.__closed__||(o&&o(),r.close())},o=e(function(s){if(Jr(s)){i();return}n&&!n(s)||r.put(s)});if(r.__closed__&&o(),!M.func(o))throw new Error("in eventChannel: subscribe should return a function to unsubscribe");return{take:r.take,flush:r.flush,close:i}}function ef(e){var t=ar(function(n){return e(function(r){if(r[Ks]){n(r);return}Sc(function(){return n(r)})})});return Xd({},t,{take:function(r,i){arguments.length>1&&(Ee(i,M.func,"channel.take's matcher argument must be a function"),r[eo]=i),t.take(r)}})}function tf(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o={done:!1,value:V(e)},s=function(d){return{done:!1,value:F.apply(void 0,[t].concat(r,[d]))}},c=void 0,l=function(d){return c=d};return jd({q1:function(){return["q2",o,l]},q2:function(){return c===lr?[Yr]:["q1",s(c)]}},"q1","takeEvery("+Gd(e)+", "+t.name+")")}function ur(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return F.apply(void 0,[tf,e,t].concat(r))}const nf=Object.prototype.toString,rf=["Object","Arguments","Function","String","Number","Date","RegExp","Error"],ne={};function Ac(e){return t=>nf.call(t)===`[object ${e}]`}rf.forEach(e=>{ne[e.toLowerCase()]=Ac(e)}),ne.array=Array.isArray||Ac("Array"),ne.undefined=e=>typeof e>"u",ne.defined=e=>!ne.undefined(e)&&e!==null,ne.inArray=(e,t)=>{let n=e.length;for(;n--;)if(e[n]===t)return!0;return!1};function P(e,t=null){return(...n)=>{try{const r=e(...n);return ne.defined(r)?r:t}catch{return t}}}function it(e,t){const n=new Object(e),r=n.length>>>0;if(typeof t!="function")throw new TypeError("predicate must be a function");let i=0;for(;i<r;){const o=n[i];if(t(o,i,n))return o;i+=1}return null}const Pn=e=>e&&e.type===z.JOURNEY,Dn=P(e=>Pn(e)?e.attributes.steps:{[e.id]:e},{}),vc=P(e=>Pn(e)?Object.keys(Dn(e)).length:1,0),nn=P(e=>{const t=e.attributes;return t.children||t.steps||t.hotspots||t.annotations},[]),rn=P((e,t)=>{let n=-1;return nn(e).forEach((r,i)=>{r.id===t&&(n=i)}),n},-1),ao=P((e,t)=>nn(e)[t]),bc=P((e,t)=>{const n=e.step||e;return it(nn(n),r=>r.id===t)}),Fn=P(e=>e.attributes.sequential,!1),wc=P((e,t)=>{const n=ao(e,t);return e.type===z.HOTSPOTS&&Fn(e)&&n.ui_conditions&&n.ui_conditions.next&&n.ui_conditions.next.type===Ln.WAIT_FOR_MOUSE_EVENT},!1),dr=P(e=>e.type===z.ACTION&&e.attributes.action_type===mt.REDIRECT,!1),on=P(e=>e.type===z.ACTION&&e.attributes.action_type===mt.WAIT_FOR_PAGE,!1),of=P(e=>e.type===z.ACTION,!1),Un=P(e=>e.type!==z.SATISFACTION_SURVEY),Rt=P((e,t)=>{if(Pn(e)){let n;const r=Dn(e);return Object.keys(r).forEach(i=>{const o=r[i];o.index===t&&(n=o)}),n.step}return e}),ot=P((e,t)=>Pn(e)?Dn(e)[t].step:e),Hn=P((e,t)=>Pn(e)?Dn(e)[t].index:t===e.id?0:-1,-1),Nc=P((e,t)=>{let n=e;return n=Object.keys(n||{}).map(r=>n[r]),it(n,r=>bc(r,t))}),sf=P((e,t)=>{let n=e;return n=Object.keys(n||{}).map(r=>n[r]),it(n,r=>{const i=Dn(r);return Nc(i,t)})});function uo(e={}){const{selector:t,selector_settings:n,backup_selectors:r}=e,i=Object.keys(n||{}).length>0?n:t;return ne.array(r)?[i,...r]:[i]}const sn=P(e=>e.currentContent.flowId),ze=P(e=>e.content[e.currentContent.flowId]),se=P(e=>e.currentContent.stepId),Oc=P(e=>e.previousActiveElement),cf=P(e=>e.forceFocus,!0),ye=P(e=>ot(ze(e),se(e))),lf=P(e=>e.settings.styling,{}),ut=P(e=>e),af=P(e=>e.settings.accountId),Lt=P(e=>e.reporter),uf=P((e,t)=>e.eventListeners[t],[]),be=P(e=>e.user,{}),kc=P(e=>e.userIdentified,!1),df=P(e=>({groupId:e.groupId,groupProps:e.groupProps}),!1),ff=P(e=>e.settings.account.skipAutoProperties,!1),pf=P(e=>e.settings.account.gates.enableCTTEventIntegrations,!1),hf=P(e=>e.settings.account.gates.responseFormatV2Enabled,!1),It=P(e=>e.session.id),Mn=P(e=>e.session,{}),mf=P(e=>e.settings,{}),Qr=P((e,t)=>e.tasks[t]),Ef=P((e,t)=>e.pendingEvents[t],[]),fo=e=>e.lastCheckedForInitialContent||{},fr=P(e=>e.content),gf=P(e=>e.orderedContent),po=P((e,t)=>fr(e)[t]),yf=P(e=>e.styles,{}),$n=P(e=>ye(e).type),Be=P(e=>e.currentContent.status),pr=P(e=>e.currentContent.state),Sf=P(e=>e.currentContent.shownUrl),ho=P(e=>ye(e).attributes.style),Rc=P(e=>e.styles[ye(e).attributes.style]),Tf=P(e=>e.currentContent.eventChannel),st=P(e=>pr(e).currentStepChildId),Wt=P((e,t)=>rn(ye(e),t),-1),Xe=P(e=>nn(ye(e)),[]),At=P(e=>e.currentContent.state.children,{}),Cf=P(e=>Object.keys(e.currentContent.state.children).length,0),Zr=P((e,t)=>Xe(e)[t].id),_f=P(e=>pr(e).isScrollingToAnnotation),Lc=P((e,t)=>{const n=Wt(e,t);return ne.defined(n)?Zr(e,n+1):!1}),mo=P((e,t)=>{const n=Wt(e,t);return ne.defined(n)?Zr(e,n-1):!1}),If=P((e,t,n)=>{const r=Wt(e,t),i=Wt(e,n),o=Math.min(r,i),s=Math.max(r,i);if(ne.defined(r)&&ne.defined(i)){const[,...c]=Xe(e).slice(o,s).map(({id:l})=>l);return c}return!1}),xc=P((e,t)=>At(e)[t].activatedAt),Eo=P((e,t)=>ne.defined(xc(e,t)),!1),ei=P(e=>e.reportedErrors.child,{}),Bn=P(e=>e.currentContent.state.activeAnnotations,[]),Pc=P(e=>e.transport.initialized,!1),Af=P(e=>e.transport.details.socket),Wn=e=>e.debugger||null,Dc=P(e=>Wn(e).viewState),vf=P(e=>Dc(e).rowState),Fc=P(e=>Wn(e).currentPage),Uc=P(e=>Wn(e).lastTrackedPage),bf=P(e=>Wn(e).contentErrors,[]),wf=P(e=>Wn(e).childErrors,{}),cn=P(e=>e.checklists,[]),ln=P((e,t)=>it(cn(e),n=>n.id===t),{}),go=P((e,t)=>cn(e).filter(n=>n.status===t)),Nf=P((e,t,n)=>{const r=ln(e,t);return it(r.attributes.items,i=>i.id===n)}),Of=P((e,t)=>it(cn(e),n=>n.id===t).status),kf=P(e=>e.widget.history,{}),Rf=P(e=>e.widget.flows,[]),Hc=P(e=>e.widget.selector,null),Lf=P(e=>e.widget.position,"default"),xf=P(e=>e.widget.header,null),Pf=P(e=>e.widget.footer,null),yo=P(e=>e.widget.expanded,!1),Df=P(e=>e.widget.icon,null),Mc=P(e=>ze(e).format_version,1),Ff=P(e=>e.settings.isInjectableSDK,!1),So=P(e=>e.Appcues,null),Uf=P(e=>e.initializingOpenBuilder,!1),Hf=P(e=>e.experiments,[]),Mf=P(e=>e.onHold.launchpads,[]);function $f(e,t){return document.createElement(e,t)}function Bf(e,t,n){return document.createElementNS(e,t,n)}function Wf(){return an(document.createDocumentFragment())}function Vf(e){return document.createTextNode(e)}function Gf(e){return document.createComment(e)}function jf(e,t,n){if(xt(e)){let r=e;for(;r&&xt(r);)r=an(r).parent;e=r??e}xt(t)&&(t=an(t,e)),n&&xt(n)&&(n=an(n).firstChildNode),e.insertBefore(t,n)}function qf(e,t){e.removeChild(t)}function Kf(e,t){xt(t)&&(t=an(t,e)),e.appendChild(t)}function $c(e){if(xt(e)){for(;e&&xt(e);)e=an(e).parent;return e??null}return e.parentNode}function Yf(e){var t;if(xt(e)){const n=an(e),r=$c(n);if(r&&n.lastChildNode){const i=Array.from(r.childNodes),o=i.indexOf(n.lastChildNode);return(t=i[o+1])!==null&&t!==void 0?t:null}return null}return e.nextSibling}function zf(e){return e.tagName}function Xf(e,t){e.textContent=t}function Jf(e){return e.textContent}function Qf(e){return e.nodeType===1}function Zf(e){return e.nodeType===3}function ep(e){return e.nodeType===8}function xt(e){return e.nodeType===11}function an(e,t){var n,r,i;const o=e;return(n=o.parent)!==null&&n!==void 0||(o.parent=t??null),(r=o.firstChildNode)!==null&&r!==void 0||(o.firstChildNode=e.firstChild),(i=o.lastChildNode)!==null&&i!==void 0||(o.lastChildNode=e.lastChild),o}const To={createElement:$f,createElementNS:Bf,createTextNode:Vf,createDocumentFragment:Wf,createComment:Gf,insertBefore:jf,removeChild:qf,appendChild:Kf,parentNode:$c,nextSibling:Yf,tagName:zf,setTextContent:Xf,getTextContent:Jf,isElement:Qf,isText:Zf,isComment:ep,isDocumentFragment:xt};function We(e,t,n,r,i){const o=t===void 0?void 0:t.key;return{sel:e,data:t,children:n,text:r,elm:i,key:o}}const Vn=Array.isArray;function un(e){return typeof e=="string"||typeof e=="number"||e instanceof String||e instanceof Number}const Co=We("",{},[],void 0,void 0);function hr(e,t){var n,r;const i=e.key===t.key,o=((n=e.data)===null||n===void 0?void 0:n.is)===((r=t.data)===null||r===void 0?void 0:r.is),s=e.sel===t.sel,c=!e.sel&&e.sel===t.sel?typeof e.text==typeof t.text:!0;return s&&i&&o&&c}function tp(){throw new Error("The document fragment is not supported on this platform.")}function np(e,t){return e.isElement(t)}function rp(e,t){return e.isDocumentFragment(t)}function ip(e,t,n){var r;const i={};for(let o=t;o<=n;++o){const s=(r=e[o])===null||r===void 0?void 0:r.key;s!==void 0&&(i[s]=o)}return i}const op=["create","update","remove","destroy","pre","post"];function Gn(e,t,n){const r={create:[],update:[],remove:[],destroy:[],pre:[],post:[]},i=t!==void 0?t:To;for(const h of op)for(const m of e){const T=m[h];T!==void 0&&r[h].push(T)}function o(h){const m=h.id?"#"+h.id:"",T=h.getAttribute("class"),_=T?"."+T.split(" ").join("."):"";return We(i.tagName(h).toLowerCase()+m+_,{},[],void 0,h)}function s(h){return We(void 0,{},[],void 0,h)}function c(h,m){return function(){if(--m===0){const _=i.parentNode(h);_!==null&&i.removeChild(_,h)}}}function l(h,m){var T,_,S,A,I;let C;const k=h.data,L=k?.hook;(T=L?.init)===null||T===void 0||T.call(L,h);const H=h.children,R=h.sel;if(R==="!")(_=h.text)!==null&&_!==void 0||(h.text=""),h.elm=i.createComment(h.text);else if(R==="")h.elm=i.createTextNode(h.text);else if(R!==void 0){const K=R.indexOf("#"),G=R.indexOf(".",K),ue=K>0?K:R.length,w=G>0?G:R.length,J=K!==-1||G!==-1?R.slice(0,Math.min(ue,w)):R,de=k?.ns,pe=de===void 0?i.createElement(J,k):i.createElementNS(de,J,k);for(h.elm=pe,ue<w&&pe.setAttribute("id",R.slice(ue+1,w)),G>0&&pe.setAttribute("class",R.slice(w+1).replace(/\./g," ")),C=0;C<r.create.length;++C)r.create[C](Co,h);if(un(h.text)&&(!Vn(H)||H.length===0)&&i.appendChild(pe,i.createTextNode(h.text)),Vn(H))for(C=0;C<H.length;++C){const Ce=H[C];Ce!=null&&i.appendChild(pe,l(Ce,m))}L!==void 0&&((S=L.create)===null||S===void 0||S.call(L,Co,h),L.insert!==void 0&&m.push(h))}else if(!((A=n?.experimental)===null||A===void 0)&&A.fragments&&h.children){for(h.elm=((I=i.createDocumentFragment)!==null&&I!==void 0?I:tp)(),C=0;C<r.create.length;++C)r.create[C](Co,h);for(C=0;C<h.children.length;++C){const K=h.children[C];K!=null&&i.appendChild(h.elm,l(K,m))}}else h.elm=i.createTextNode(h.text);return h.elm}function u(h,m,T,_,S,A){for(;_<=S;++_){const I=T[_];I!=null&&i.insertBefore(h,l(I,A),m)}}function d(h){var m,T;const _=h.data;if(_!==void 0){(T=(m=_?.hook)===null||m===void 0?void 0:m.destroy)===null||T===void 0||T.call(m,h);for(let S=0;S<r.destroy.length;++S)r.destroy[S](h);if(h.children!==void 0)for(let S=0;S<h.children.length;++S){const A=h.children[S];A!=null&&typeof A!="string"&&d(A)}}}function f(h,m,T,_){for(var S,A;T<=_;++T){let I;const C=m[T];if(C!=null)if(C.sel!==void 0){d(C),I=r.remove.length+1;const k=c(C.elm,I);for(let H=0;H<r.remove.length;++H)r.remove[H](C,k);const L=(A=(S=C?.data)===null||S===void 0?void 0:S.hook)===null||A===void 0?void 0:A.remove;L!==void 0?L(C,k):k()}else C.children?(d(C),f(h,C.children,0,C.children.length-1)):i.removeChild(h,C.elm)}}function p(h,m,T,_){let S=0,A=0,I=m.length-1,C=m[0],k=m[I],L=T.length-1,H=T[0],R=T[L],K,G,ue,w;for(;S<=I&&A<=L;)C==null?C=m[++S]:k==null?k=m[--I]:H==null?H=T[++A]:R==null?R=T[--L]:hr(C,H)?(y(C,H,_),C=m[++S],H=T[++A]):hr(k,R)?(y(k,R,_),k=m[--I],R=T[--L]):hr(C,R)?(y(C,R,_),i.insertBefore(h,C.elm,i.nextSibling(k.elm)),C=m[++S],R=T[--L]):hr(k,H)?(y(k,H,_),i.insertBefore(h,k.elm,C.elm),k=m[--I],H=T[++A]):(K===void 0&&(K=ip(m,S,I)),G=K[H.key],G===void 0?(i.insertBefore(h,l(H,_),C.elm),H=T[++A]):K[R.key]===void 0?(i.insertBefore(h,l(R,_),i.nextSibling(k.elm)),R=T[--L]):(ue=m[G],ue.sel!==H.sel?i.insertBefore(h,l(H,_),C.elm):(y(ue,H,_),m[G]=void 0,i.insertBefore(h,ue.elm,C.elm)),H=T[++A]));A<=L&&(w=T[L+1]==null?null:T[L+1].elm,u(h,w,T,A,L,_)),S<=I&&f(h,m,S,I)}function y(h,m,T){var _,S,A,I,C,k,L,H;const R=(_=m.data)===null||_===void 0?void 0:_.hook;(S=R?.prepatch)===null||S===void 0||S.call(R,h,m);const K=m.elm=h.elm;if(h===m)return;if(m.data!==void 0||m.text!==void 0&&m.text!==h.text){(A=m.data)!==null&&A!==void 0||(m.data={}),(I=h.data)!==null&&I!==void 0||(h.data={});for(let w=0;w<r.update.length;++w)r.update[w](h,m);(L=(k=(C=m.data)===null||C===void 0?void 0:C.hook)===null||k===void 0?void 0:k.update)===null||L===void 0||L.call(k,h,m)}const G=h.children,ue=m.children;m.text===void 0?G!==void 0&&ue!==void 0?G!==ue&&p(K,G,ue,T):ue!==void 0?(h.text!==void 0&&i.setTextContent(K,""),u(K,null,ue,0,ue.length-1,T)):G!==void 0?f(K,G,0,G.length-1):h.text!==void 0&&i.setTextContent(K,""):h.text!==m.text&&(G!==void 0&&f(K,G,0,G.length-1),i.setTextContent(K,m.text)),(H=R?.postpatch)===null||H===void 0||H.call(R,h,m)}return function(m,T){let _,S,A;const I=[];for(_=0;_<r.pre.length;++_)r.pre[_]();for(np(i,m)?m=o(m):rp(i,m)&&(m=s(m)),hr(m,T)?y(m,T,I):(S=m.elm,A=i.parentNode(S),l(T,I),A!==null&&(i.insertBefore(A,T.elm,i.nextSibling(S)),f(A,[m],0,0))),_=0;_<I.length;++_)I[_].data.hook.insert(I[_]);for(_=0;_<r.post.length;++_)r.post[_]();return T}}function ti(e,t,n){if(e.ns="http://www.w3.org/2000/svg",n!=="foreignObject"&&t!==void 0)for(let r=0;r<t.length;++r){const i=t[r];if(typeof i=="string")continue;const o=i.data;o!==void 0&&ti(o,i.children,i.sel)}}function ni(e,t,n){let r={},i,o,s;if(n!==void 0?(t!==null&&(r=t),Vn(n)?i=n:un(n)?o=n.toString():n&&n.sel&&(i=[n])):t!=null&&(Vn(t)?i=t:un(t)?o=t.toString():t&&t.sel?i=[t]:r=t),i!==void 0)for(s=0;s<i.length;++s)un(i[s])&&(i[s]=We(void 0,void 0,void 0,i[s],void 0));return e.startsWith("svg")&&(e.length===3||e[3]==="."||e[3]==="#")&&ti(r,i,e),We(e,r,i,o,void 0)}function sp(e){let t,n;if(Vn(e)?t=e:un(t)?n=e:t&&t.sel&&(t=[e]),t!==void 0)for(let r=0;r<t.length;++r)un(t[r])&&(t[r]=We(void 0,void 0,void 0,t[r],void 0));return We(void 0,{},t,n,void 0)}function ri(e,t){var n;const r=(n=t.data)===null||n===void 0?void 0:n.ns;e.data.fn=t.data.fn,e.data.args=t.data.args,t.data=e.data,t.children=e.children,t.text=e.text,t.elm=e.elm,r&&ti(t.data,t.children,t.sel)}function cp(e){const t=e.data,n=t.fn(...t.args);ri(n,e)}function lp(e,t){let n;const r=e.data,i=t.data,o=r.args,s=i.args;if(r.fn!==i.fn||o.length!==s.length){ri(i.fn(...s),t);return}for(n=0;n<s.length;++n)if(o[n]!==s[n]){ri(i.fn(...s),t);return}ri(e,t)}const ap=function(t,n,r,i){return i===void 0&&(i=r,r=n,n=void 0),ni(t,{key:n,hook:{init:cp,prepatch:lp},fn:r,args:i})};function up(e,t){const n=e.data.attachData;t.data.attachData.placeholder=n.placeholder,t.data.attachData.real=n.real,e.elm=e.data.attachData.real}function dp(e,t){t.elm=t.data.attachData.placeholder}function fp(e){e.elm!==void 0&&e.elm.parentNode.removeChild(e.elm),e.elm=e.data.attachData.real}function pp(e,t){const n=t.elm,r=t.data.attachData,i=document.createElement("span");t.elm=i,r.target.appendChild(n),r.real=n,r.placeholder=i}function hp(e,t){t.data===void 0&&(t.data={}),t.data.hook===void 0&&(t.data.hook={});const n=t.data,r=t.data.hook;return n.attachData={target:e,placeholder:void 0,real:void 0},r.create=pp,r.prepatch=up,r.postpatch=dp,r.destroy=fp,t}function mp(e){return e.slice(5).replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Bc(e,t){var n;const r=t!==void 0?t:To;let i;if(r.isElement(e)){const o=e.id?"#"+e.id:"",s=(n=e.getAttribute("class"))===null||n===void 0?void 0:n.match(/[^\t\r\n\f ]+/g),c=s?"."+s.join("."):"",l=r.tagName(e).toLowerCase()+o+c,u={},d={},f={},p=[];let y,h,m;const T=e.attributes,_=e.childNodes;for(h=0,m=T.length;h<m;h++)y=T[h].nodeName,y.startsWith("data-")?d[mp(y)]=T[h].nodeValue||"":y!=="id"&&y!=="class"&&(u[y]=T[h].nodeValue);for(h=0,m=_.length;h<m;h++)p.push(Bc(_[h],t));return Object.keys(u).length>0&&(f.attrs=u),Object.keys(d).length>0&&(f.dataset=d),l.startsWith("svg")&&(l.length===3||l[3]==="."||l[3]==="#")&&ti(f,p,l),We(l,f,p,void 0,e)}else return r.isText(e)?(i=r.getTextContent(e),We(void 0,void 0,void 0,i,e)):r.isComment(e)?(i=r.getTextContent(e),We("!",{},[],i,e)):We("",{},[],void 0,e)}const Ep="http://www.w3.org/1999/xlink",gp="http://www.w3.org/2000/xmlns/",yp="http://www.w3.org/XML/1998/namespace",Wc=58,Sp=120,Tp=109;function Vc(e,t){let n;const r=t.elm;let i=e.data.attrs,o=t.data.attrs;if(!(!i&&!o)&&i!==o){i=i||{},o=o||{};for(n in o){const s=o[n];i[n]!==s&&(s===!0?r.setAttribute(n,""):s===!1?r.removeAttribute(n):n.charCodeAt(0)!==Sp?r.setAttribute(n,s):n.charCodeAt(3)===Wc?r.setAttributeNS(yp,n,s):n.charCodeAt(5)===Wc?n.charCodeAt(1)===Tp?r.setAttributeNS(gp,n,s):r.setAttributeNS(Ep,n,s):r.setAttribute(n,s))}for(n in i)n in o||r.removeAttribute(n)}}const jn={create:Vc,update:Vc};function Gc(e,t){let n,r;const i=t.elm;let o=e.data.class,s=t.data.class;if(!(!o&&!s)&&o!==s){o=o||{},s=s||{};for(r in o)o[r]&&!Object.prototype.hasOwnProperty.call(s,r)&&i.classList.remove(r);for(r in s)n=s[r],n!==o[r]&&i.classList[n?"add":"remove"](r)}}const qn={create:Gc,update:Gc},jc=/[A-Z]/g;function qc(e,t){const n=t.elm;let r=e.data.dataset,i=t.data.dataset,o;if(!r&&!i||r===i)return;r=r||{},i=i||{};const s=n.dataset;for(o in r)o in i||(s?o in s&&delete s[o]:n.removeAttribute("data-"+o.replace(jc,"-$&").toLowerCase()));for(o in i)r[o]!==i[o]&&(s?s[o]=i[o]:n.setAttribute("data-"+o.replace(jc,"-$&").toLowerCase(),i[o]))}const Cp={create:qc,update:qc};function Kc(e,t,n){if(typeof e=="function")e.call(t,n,t);else if(typeof e=="object")for(let r=0;r<e.length;r++)Kc(e[r],t,n)}function _p(e,t){const n=e.type,r=t.data.on;r&&r[n]&&Kc(r[n],t,e)}function Ip(){return function e(t){_p(t,e.vnode)}}function _o(e,t){const n=e.data.on,r=e.listener,i=e.elm,o=t&&t.data.on,s=t&&t.elm;let c;if(n!==o){if(n&&r)if(o)for(c in n)o[c]||i.removeEventListener(c,r,!1);else for(c in n)i.removeEventListener(c,r,!1);if(o){const l=t.listener=e.listener||Ip();if(l.vnode=t,n)for(c in o)n[c]||s.addEventListener(c,l,!1);else for(c in o)s.addEventListener(c,l,!1)}}}const Kn={create:_o,update:_o,destroy:_o};function Yc(e,t){let n,r,i;const o=t.elm;let s=e.data.props,c=t.data.props;if(!(!s&&!c)&&s!==c){s=s||{},c=c||{};for(n in c)r=c[n],i=s[n],i!==r&&(n!=="value"||o[n]!==r)&&(o[n]=r)}}const Yn={create:Yc,update:Yc},zc=typeof window?.requestAnimationFrame=="function"?window.requestAnimationFrame.bind(window):setTimeout,Ap=e=>{zc(()=>{zc(e)})};let Io=!1;function vp(e,t,n){Ap(()=>{e[t]=n})}function Xc(e,t){let n,r;const i=t.elm;let o=e.data.style,s=t.data.style;if(!o&&!s||o===s)return;o=o||{},s=s||{};const c="delayed"in o;for(r in o)r in s||(r[0]==="-"&&r[1]==="-"?i.style.removeProperty(r):i.style[r]="");for(r in s)if(n=s[r],r==="delayed"&&s.delayed)for(const l in s.delayed)n=s.delayed[l],(!c||n!==o.delayed[l])&&vp(i.style,l,n);else r!=="remove"&&n!==o[r]&&(r[0]==="-"&&r[1]==="-"?i.style.setProperty(r,n):i.style[r]=n)}function bp(e){let t,n;const r=e.elm,i=e.data.style;if(!(!i||!(t=i.destroy)))for(n in t)r.style[n]=t[n]}function wp(e,t){const n=e.data.style;if(!n||!n.remove){t();return}Io||(e.elm.offsetLeft,Io=!0);let r;const i=e.elm;let o=0;const s=n.remove;let c=0;const l=[];for(r in s)l.push(r),i.style[r]=s[r];const d=getComputedStyle(i)["transition-property"].split(", ");for(;o<d.length;++o)l.indexOf(d[o])!==-1&&c++;i.addEventListener("transitionend",f=>{f.target===i&&--c,c===0&&t()})}function Np(){Io=!1}const zn={pre:Np,create:Xc,update:Xc,destroy:bp,remove:wp};function Op(e,...t){const n=Ao(t,[]);return n.length===1&&!n[0].sel&&n[0].text?We(void 0,void 0,void 0,n[0].text,void 0):We(void 0,e??{},n,void 0,void 0)}function Ao(e,t){for(const n of e)n!=null&&n!==!1&&n!==""&&(Array.isArray(n)?Ao(n,t):typeof n=="string"||typeof n=="number"||typeof n=="boolean"?t.push(We(void 0,void 0,void 0,String(n),void 0)):t.push(n));return t}function kp(e,t,...n){const r=Ao(n,[]);return typeof e=="function"?e(t,r):r.length===1&&!r[0].sel&&r[0].text?ni(e,t,r[0].text):ni(e,t,r)}const Rp=Object.freeze(Object.defineProperty({__proto__:null,Fragment:Op,array:Vn,attachTo:hp,attributesModule:jn,classModule:qn,datasetModule:Cp,eventListenersModule:Kn,fragment:sp,h:ni,htmlDomApi:To,init:Gn,jsx:kp,primitive:un,propsModule:Yn,styleModule:zn,thunk:ap,toVNode:Bc,vnode:We},Symbol.toStringTag,{value:"Module"}));var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Lp(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var bo,Qc;function xp(){if(Qc)return bo;Qc=1;var e="http://www.w3.org/2000/svg",t=["hook","on","style","class","props","attrs","dataset"],n=Array.prototype.slice;function r(f){return typeof f=="string"||typeof f=="number"||typeof f=="boolean"||typeof f=="symbol"||f===null||f===void 0}function i(f,p,y,h){for(var m={ns:p},T=0,_=h.length;T<_;T++){var S=h[T];f[S]&&(m[S]=f[S])}for(var A in f)if(A!=="key"&&A!=="classNames"&&A!=="selector"){var I=A.indexOf("-");I>0?C(A.slice(0,I),A.slice(I+1),f[A]):m[A]||C(y,A,f[A])}return m;function C(k,L,H){var R=m[k]||(m[k]={});R[L]=H}}function o(f,p,y,h,m,T){if(m.selector&&(h=h+m.selector),m.classNames){var _=m.classNames;h=h+"."+(Array.isArray(_)?_.join("."):_.replace(/\s+/g,"."))}return{sel:h,data:i(m,f,p,y),children:T.map(function(S){return r(S)?{text:S}:S}),key:m.key}}function s(f,p,y,h,m,T){var _;if(typeof h=="function")_=h(m,T);else if(h&&typeof h.view=="function")_=h.view(m,T);else if(h&&typeof h.render=="function")_=h.render(m,T);else throw"JSX tag must be either a string, a function or an object with 'view' or 'render' methods";return _.key=m.key,_}function c(f,p,y){for(var h=p,m=f.length;h<m;h++){var T=f[h];Array.isArray(T)?c(T,0,y):y.push(T)}}function l(f){if(f){for(var p=0,y=f.length;p<y;p++)if(Array.isArray(f[p])){var h=f.slice(0,p);c(f,p,h),f=h;break}}return f}function u(f,p,y,h,m,T){return m=m||{},T=l(T),typeof h=="string"?o(f,p,y,h,m,T):s(f,p,y,h,m,T)}function d(f,p,y){return function(m,T,_){return(arguments.length>3||!Array.isArray(_))&&(_=n.call(arguments,2)),u(f,p||"props",y||t,m,T,_)}}return bo={html:d(void 0),svg:d(e,"attrs"),JSX:d},bo}var a=xp(),mr={},Zc;function Pp(){if(Zc)return mr;Zc=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.createApi=n;var e="textContent";function t(i,o){var s=i;return s.parent==null&&(s.parent=null),s.firstChildNode==null&&(s.firstChildNode=i.firstChild),s.lastChildNode==null&&(s.lastChildNode=i.lastChild),s}function n(i){var o=void 0;function s(){if(o&&o.defaultView)return o;if(i&&i.clean){var c=document.createElement("iframe");document.head.appendChild(c),o=c.contentDocument,i.trustedTypesPolicy&&c.contentWindow.trustedTypes.createPolicy("default",{createHTML:function(u){return i.trustedTypesPolicy.createHTML(u).toString()},createScript:function(u){return i.trustedTypesPolicy.createScript(u).toString()},createScriptURL:function(u){return i.trustedTypesPolicy.createScriptURL(u).toString()}})}else o=document;return o}return s(),{createElement:function(l){return s().createElement(l)},createElementNS:function(l,u){return s().createElementNS(l,u)},createTextNode:function(l){return s().createTextNode(l)},appendChild:function(l,u){r("appendChild",l,u)},removeChild:function(l,u){r("removeChild",l,u)},insertBefore:function(l,u,d){r("insertBefore",l,u,d)},parentNode:function(l){return l.parentNode},nextSibling:function(l){return l.nextSibling},tagName:function(l){return l.tagName},setTextContent:function(l,u){r(e,l,u)},isElement:function(l){return l.nodeType===1},isText:function(l){return l.nodeType===3},isComment:function(l){return l.nodeType===8},isDocumentFragment:function(l){return l.nodeType===11},createDocumentFragment:function(){return t(s().createDocumentFragment())},createComment:function(l){return s().createComment(l)},getTextContent:function(l){return l.textContent||null}}}mr.default=n();function r(i,o,s,c){if(o.tagName!=="IFRAME")i===e?o[e]=s:o[i](s,c);else{var l=function(){r(i,o.contentDocument.body,s,c)};o.contentDocument&&o.contentDocument.readyState==="complete"?l():o.addEventListener("load",l)}}return mr}var ii=Pp(),wo={exports:{}},el;function Dp(){return el||(el=1,(function(e){function t(o){var s=typeof o=="object"&&!!o.composed;return s?n(this):r(this)}function n(o){var s=r(o);return i(s)?n(s.host):s}function r(o){return o.parentNode!=null?r(o.parentNode):o}function i(o){return o.nodeName==="#document-fragment"&&o.constructor.name==="ShadowRoot"}e.exports&&(e.exports=t)})(wo)),wo.exports}var Fp=Dp();const Up=vo(Fp),tl="|shadow-root|",nl="|iframe|",oi=(e,t=document)=>e.includes(tl)||e.includes(nl)?e.split(tl).flatMap(n=>n.split(nl)).reduce((n,r)=>n===null?[...t.querySelectorAll(r)]:n.flatMap(i=>i.shadowRoot?[...i.shadowRoot.querySelectorAll(r)]:i.tagName==="IFRAME"?[...i.contentDocument.querySelectorAll(r)]:[]),null)??[]:[...t.querySelectorAll(e)];function si(e,t,n){const r=e.data||{};Object.assign(e,{data:Object.assign(r,{[t]:{...r[t],...n}})})}function Hp(e,t,n){const r=e.data||{};Object.assign(e,{data:Object.assign(r,{[t]:n})})}function Xn(e,t){return new RegExp(`(?:^${t}[#.]|^${t}$)`,"i").test(e.sel)}function Ne(e,t){try{return e.data.attrs[t]||null}catch{return null}}function ge(e,t,n){si(e,"attrs",{[t]:n})}function rl(e,t){if(!Object.prototype.hasOwnProperty.call(e.data,"attrs"))return;const{[t]:n=null,...r}=e.data.attrs;Hp(e,"attrs",r)}function gt(e,t,n){si(e,"on",{[t]:n})}function Mp(e,t){si(e,"class",{[t]:!0})}function No(e,t,n){si(e,"hook",{[t]:n})}function dn(e,t){try{return e.data.class[t]===!0}catch{return!1}}function il(e){return Xn(e,"a")}function ol(e){return Xn(e,"img")}function $p(e){return Xn(e,"input")}function Bp(e){return Xn(e,"form")}function Wp(e){return Xn(e,"video")}function sl(e,t){const n=/window\.parent\.Appcues\.show\('(.*)'\)/,i=(Ne(e,"onclick")??"").match(n);if(!i)return!0;const[,o]=i;return o&&(rl(e,"onclick"),t(function(){window.Appcues?.show?.(o)})),!0}const cl=e=>e.tagName==="IFRAME",ci=e=>{const t=e.getRootNode(e),n=t.parentWindow||t.defaultView;return n&&n!==window?n.frameElement:null};function fn(e){return{error:!0,errorMessage:e}}function Vp(){return Object.prototype.hasOwnProperty.call(Node.prototype,"getRootNode")}function Gp(e){return Vp()?e.getRootNode():Up.call(e)}function ll(e){return e&&["appcues-container","appcues-layer","appcues-checklists","appcues-debugger"].some(n=>e?.tagName?.toLowerCase().includes(n))?!0:e&&e!==document.body&&e!==document.documentElement?ll(e.parentElement):!1}const jp=e=>{let t=0;for(let n=0;n<e.length&&!(e[n].nodeName!=="APPCUES-EXPERIENCE-CONTAINER"||e[n].nodeName!=="APPCUES-EXPERIENCE-CONTAINER-BUILDER");n++)t=n;return e.slice(t+1)},qp=(e,t=window.document)=>{try{const n=/^((body\s(>?\s?))?)(?<tagName>[\da-z]+):nth-child\((?<index>\d+)\)(?<remainingSelector>.*)/i,r=e.match(n),i=t.body.firstChild?.nodeName==="APPCUES-EXPERIENCE-CONTAINER"||t.body.firstChild?.nodeName==="APPCUES-EXPERIENCE-CONTAINER-BUILDER";if(!r||!i)return[];const{tagName:o,index:s,remainingSelector:c}=r.groups,l=Number.parseInt(s,10)-1,u=jp([...document.body.children]),d=u[l]?.nodeName===o.toUpperCase()?u[l]:null;return c?d?oi(`* ${c}`,d):[]:[d]}catch{return[]}};function al(e,t){const n=typeof e=="string"&&e||typeof e=="object"&&e.selector;if(!n)return fn("Missing selector.");const r=qp(n,t);let i=r.length>0?r:oi(n,t?.documentElement??t);const o=e.text_filter||e.textFilter,s=!!o,c=typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"order_filter"),l=e.order_filter;if(s&&o.length>=0&&(i=Array.prototype.slice.call(i).filter(u=>u.innerText==null?!1:u.innerText.replace(/\r\n|\r|\n/g," ").toLowerCase().trim()===o.toString().toLowerCase().trim())),c&&l>=0&&(i=i[l]?[i[l]]:[]),i.length===0){let u="",d="";return s&&(u=` with text filter "${o}"`),c&&(d=` with order value ${l}`),fn(`Could not find element for selector "${n}"${s?u:""}${s&&c?" and":""}${c?d:""}.`)}return i=[...i].filter(u=>!ll(u)),i.length>1?fn(`Found ${i.length} elements for selector ${e.selector}.`):i.length===0?fn(`Could not find element for selector "${n}"`):i[0]}function Kp(e,t){if(e.length===0)return fn("Missing selector.");let n;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=al(e[r],t);if(i&&!i.error){n=i;break}}return n||fn("Could not find an element for list of selectors.")}function Oo(e,t=window.document){let n=e;if(n&&typeof n=="object"&&n.length>0){if(n.length>1)return Kp(n,t);[n]=n}return al(n,t)}function ko(e,t={}){return!!(!(t.display!=="contents")||e&&(e.offsetWidth||e.offsetHeight)&&e.offsetWidth>0&&e.offsetHeight>0)}function Ro(e,t){if(cl(e)){const n=e.contentDocument.body;return n.scrollHeight>n.clientHeight}return t!=="visible"&&e.scrollHeight>e.clientHeight}function Lo(e){return e==="fixed"||e==="relative"||e==="absolute"||e==="sticky"}function ul(e){return e.display==="flex"||e.display==="inline-flex"}function dl(e,t,n,r,i={}){const o=i;let s=t.zIndex;const c=t.position,u=ci(e)||e.parentElement,d=u?r.getComputedStyle(u):{};if(o.fixed||(o.fixed=c==="fixed"||c==="sticky"),o.absolute||(o.absolute=c==="absolute"),o.opacity=Number.parseFloat(ne.defined(o.opacity)?o.opacity:1)*Number.parseFloat(t.opacity),o.hiddenOverflow||(o.hiddenOverflow=!ko(e,t)&&t.overflow==="hidden"&&!o.fixed&&!o.absolute),o.hasScrollableParent||(o.hasScrollableParent=Ro(e,t.overflowY)),s!==""&&s!=="auto"&&!Lo(c)&&!ul(d)&&(s="auto"),(ne.undefined(o.zIndex)||s!==""&&s!=="auto"&&(Lo(c)||ul(d)))&&(o.zIndex=s),u&&u!==n.body&&u!==n.documentElement)return dl(u,d,n,r,o);if(/^\d+$/.test(o.zIndex)){let f=Number.parseInt(o.zIndex,10);f+=1,o.zIndex=f}return o}function Yp(e,t){const{documentElement:n}=e;return{xOffset:(t.pageXOffset||0)-n.clientLeft,yOffset:(t.pageYOffset||0)-n.clientTop}}function xo({left:e,top:t,right:n,bottom:r},{xOffset:i,yOffset:o}){return{left:e+i,top:t+o,right:n+i,bottom:r+o}}function zp(e){const t=e.getRootNode(),n=t.parentWindow||t.defaultView;if(n!==window&&n){const{frameElement:i}=n,{top:o,left:s}=i.getBoundingClientRect();return{top:o,left:s}}return{top:0,left:0}}function fl(e,t,n=window.document){let r=e;const i=Oo(t,n);if(i.error)return i;r=i;const o=ci(r),s={element:r},c=r.ownerDocument||document,l=c.defaultView||window,u=zp(r),{left:d,top:f,right:p,bottom:y}=r.getBoundingClientRect(),h={left:d,top:f,right:p,bottom:y};let m={left:d,top:f,right:p,bottom:y};const T=l.getComputedStyle(r),{fixed:_,zIndex:S,opacity:A,hiddenOverflow:I,hasScrollableParent:C}=dl(r,T,c,l);if(!_&&!o){const H=c.body,R=Yp(c,l);if(m=xo(m,R),Lo(l.getComputedStyle(H).position)){const{documentElement:K}=c,{overflowY:G}=l.getComputedStyle(K),{overflowY:ue}=l.getComputedStyle(H);Ro(H,ue)&&G!=="visible"&&(R.yOffset-=H.scrollTop);const w=xo(H.getBoundingClientRect(),R);m=xo(m,{xOffset:-1*w.left,yOffset:-1*w.top})}}const k=(m.right<0||m.bottom<0)&&!C;return!ko(r)||T.visibility==="hidden"||A===0||I||k?fn("Targeted element is present but not visible."):Object.assign(s,{boundingRect:m,fixed:_,zIndex:S,relativeBoundingRect:h,viewport:{width:c.documentElement.clientWidth,height:c.documentElement.clientHeight},iframeParent:o,padding:u})}function Xp(e,t,n,r){return{xRegion:Math.floor(Math.min(Math.max(e,0),n-1)/(n/4)),yRegion:Math.floor(Math.min(Math.max(t,0),r-1)/(r/4))}}function Jp(e,t){return Math.min(Cd,Math.max(Td,(e-t)/2))}function Qp(e){const{documentElement:t}=e;return t.scrollTop>0||t.clientHeight<t.scrollHeight?t:e.body}function Zp(e,t,n,r,i,o,s){const c=Math.ceil(r+e+i-n-s*o);let l=!1;c>e&&c<e+r&&(l=!0);const u=c-r/2,d=t-r;return{idealScrollTop:Math.max(0,Math.min(u,d)),visibleInContainer:l}}const pl=e=>{if(e.assignedSlot){const{host:r}=e.assignedSlot.parentNode;return r??e.assignedSlot.parentNode}const t=ci(e);return t||(e.parentNode?.host?.tagName?.includes("-")?e.parentNode?.host:e.parentElement)};function eh(e,t){const n=[];let r=pl(e);const i=t||document,{documentElement:o,body:s}=i;let c=window.getComputedStyle(e).position==="fixed";for(;!c&&r&&r!==s;){const{overflowY:u,position:d}=window.getComputedStyle(r);Ro(r,u)&&(cl(r)?n.push(r.contentDocument.body):n.push(r)),c=d==="fixed",r=pl(r)}const l=Qp(i);return!c&&(o.scrollHeight>o.clientHeight||l.scrollHeight>l.clientHeight)&&n.push(l),n}function hl(e,t,n,r){const i=r||document,o=e.getBoundingClientRect(),{height:s}=o;let{bottom:c}=o;return n.map(l=>{let{bottom:u}=l.getBoundingClientRect();const{scrollTop:d,scrollHeight:f}=l;let{clientHeight:p}=l;(l===i.documentElement||l===i.body)&&(p=Math.min(i.documentElement.clientHeight||Number.POSITIVE_INFINITY,i.body.clientHeight||Number.POSITIVE_INFINITY),p=p===Number.POSITIVE_INFINITY?window.innerHeight:p,u=p);const{idealScrollTop:y,visibleInContainer:h}=Zp(d,f,u,p,c,s,t);return c+=d-y,{el:l,scrollTop:y,visibleInContainer:h}})}function li(e,t){return e&&t?Object.keys(e).every(n=>e[n]===t[n]):!1}function th(e,t){return e.error||t.error?e.error&&t.error&&e.errorMessage===t.errorMessage:e.fixed===t.fixed&&e.zIndex===t.zIndex&&e.element===t.element&&li(e.boundingRect||{},t.boundingRect||{})&&li(e.relativeBoundingRect||{},t.relativeBoundingRect||{})&&li(e.viewport||{},t.viewport||{})&&li(e.padding||{},t.padding||{})}function Po(e){const t=e.ownerDocument;return t&&t.documentElement.contains(e)}function nh(e){const{height:t,width:n,top:r,left:i}=e.getBoundingClientRect(),o=n/2+i,s=-1*(t/2+r);return{originX:o,originY:s,majorAxis:n/2-.5,minorAxis:t/2-.5}}function rh(e,t,n){const{originX:r,originY:i,majorAxis:o,minorAxis:s}=n,c=e,l=-1*t;return(c-r)**2/o**2+(l-i)**2/s**2<=1}function ih(e,t,n){return[(-1*t+Math.sqrt(t**2-4*e*n))/(2*e),(-1*t-Math.sqrt(t**2-4*e*n))/(2*e)]}function ml(e,t){return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)}function oh(e,t,n){const{originX:r,originY:i,majorAxis:o,minorAxis:s}=n,c=e,l=-1*t,u=(l-i)/(c-r),d=l-u*c,f=s**2+o**2*u**2,p=2*(o**2*u*(d-i)-s**2*r),y=s**2*r**2+o**2*(d-i)**2-s**2*o**2,h=ih(f,p,y).map(m=>{const T=u*m+d;return{x:m,y:T}}).reduce((m,T)=>!m||ml({x:c,y:l},T)<ml({x:c,y:l},m)?T:m,null);return{...h,y:-1*h.y}}function El(e,t,n){const r=n?.ownerDocument??window.document;let i=(n?Gp(n):null)??r;i.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&i.nodeType!==Node.DOCUMENT_NODE&&(i=r);const o=getComputedStyle(n).pointerEvents==="none",{pointerEvents:s}=n.style;o&&(n.style.pointerEvents="auto");const c=i.msElementsFromPoint?i.msElementsFromPoint(e,t):i.elementsFromPoint(e,t);if(o&&(n.style.pointerEvents=s),!c)return!1;const l=r.documentElement.querySelector("appcues-layer"),u=it(c,d=>!(l&&l.contains(d)));return n.contains(u)}function sh({xOffset:e,yOffset:t,element:n}){if(!n)return!1;if(document.fullscreenElement&&/appcues-/.test(document.fullscreenElement.className))return!0;const{left:r,top:i,right:o,bottom:s}=n.getBoundingClientRect(),c=o-r,l=s-i,u=Math.min(Math.max(1,e*c),c-1)+r,d=Math.min(Math.max(1,t*l),l-1)+i;if(El(u,d,n))return!0;const f=nh(n);if(rh(u,d,f)||f.majorAxis<=0||f.minorAxis<=0)return!1;const{x:p,y}=oh(u,d,f);return El(p,y,n)}function ch(e,t){const n=e,r=n.className.split(" ");r.includes(t)||(n.className=[...r,t].filter(i=>i).join(" "))}function lh(e,t){const n=e,r=n.className.split(" "),i=r.indexOf(t);i>-1&&(r.splice(i,1),n.className=r.join(" "))}function Er(e){return(e.readyState==="interactive"||e.readyState==="complete")&&e.body}function ai(e,t,n){const r=t.lastIndexOf("/")+1,i=t.slice(r);Array.prototype.some.call([...e.styleSheets],o=>(o?.href??"").indexOf(i)!==-1)?setTimeout(()=>n(),5):setTimeout(()=>ai(e,t,n),5)}function ah(e,t){e.requestAnimationFrame(()=>{e.requestAnimationFrame(()=>{t()})})}function uh(e,t,n){let r;const i=new Promise(o=>{r=s=>{n&&!n(s)||(e.removeEventListener(t,r),o(!0))},e.addEventListener(t,r)});return{listener:r,promise:i}}function ct(e,t=5){const n=e.ownerDocument;t<=0||e&&n.activeElement!==e&&(e.focus({preventScroll:!0}),setTimeout(()=>{n.documentElement.contains(e)&&ct(e,t-1)},200))}function gl(e){e&&e.tagName==="BODY"?e.hasAttribute("tabindex")?e.focus({preventScroll:!0}):(e.setAttribute("tabindex",-1),e.focus({preventScroll:!0}),setTimeout(()=>{e.removeAttribute("tabindex")},500)):e&&e.focus({preventScroll:!0})}function ui(e){return[...e.querySelectorAll('a, button, input, textarea, select, details,[tabindex]:not([tabindex="-1"])')].filter(t=>!t.hasAttribute("disabled"))}const vt=P(e=>e.target.textContent,"");function dh(e="",t=!0){const n=["h1","h2","h3","h4","h5","h6"];let o=!1;return s=>{n.some(c=>Xn(s,c))&&!o&&(o=!0,ge(s,"tabindex","0"),e&&ge(s,"id",e),gt(s,"blur",c=>{setTimeout(()=>{c.target.removeAttribute("tabindex"),rl(s,"tabindex")},400)}),No(s,"insert",c=>{c.elm&&t&&setTimeout(()=>{ct(c.elm)},500)}))}}function fh(){return a.svg("svg",{width:"16px",height:"13px",viewBox:"0 0 16 13"},a.svg("defs",null),a.svg("g",{id:"Icon-Check-Mark",stroke:"none","stroke-width":"1",fill:"white","fill-rule":"evenodd"},a.svg("path",{d:"M5.4375,12.4668236 L0.21875,7.27932363 C0.0729165077,7.13349013 0,6.94599013 0,6.71682363 C0,6.48765712 0.0729165077,6.30015712 0.21875,6.15432363 L1.375,5.02932363 C1.52083349,4.86265712 1.703125,4.77932363 1.921875,4.77932363 C2.140625,4.77932363 2.33333349,4.86265712 2.5,5.02932363 L6,8.52932363 L13.5,1.02932363 C13.6666665,0.86265712 13.859375,0.779323627 14.078125,0.779323627 C14.296875,0.779323627 14.4791665,0.86265712 14.625,1.02932363 L15.78125,2.15432363 C15.9270835,2.30015712 16,2.48765712 16,2.71682363 C16,2.94599013 15.9270835,3.13349013 15.78125,3.27932363 L6.5625,12.4668236 C6.41666651,12.6334901 6.22916651,12.7168236 6,12.7168236 C5.77083349,12.7168236 5.58333349,12.6334901 5.4375,12.4668236 Z",id:"",fill:"#ffffff"})))}function ph({color:e="#039be5"}){return a.svg("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},a.svg("defs",null),a.svg("g",{id:"Icon-Caret-Right",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},a.svg("path",{d:"M6.82142857,1.03571182 L7.60714286,0.249999404 C7.77380971,0.083332953 7.97619029,0 8.21428571,0 C8.45238113,0 8.65476172,0.083332953 8.82142857,0.249999404 L15.75,7.17855431 C15.9166668,7.34522076 16,7.54760087 16,7.78569572 C16,8.02379058 15.9166668,8.22617068 15.75,8.39283713 L8.82142857,15.321392 C8.65476172,15.4880585 8.45238113,15.5713914 8.21428571,15.5713914 C7.97619029,15.5713914 7.77380971,15.4880585 7.60714286,15.321392 L6.82142857,14.5356796 C6.63095256,14.3690132 6.54166685,14.1666331 6.55357143,13.9285382 C6.56547601,13.6904434 6.65476172,13.4880633 6.82142857,13.3213968 L11.1071429,9.21426375 L0.857142857,9.21426375 C0.619047437,9.21426375 0.416666848,9.13093079 0.25,8.96426434 C0.0833331517,8.79759789 0,8.59521778 0,8.35712293 L0,7.21426851 C0,6.97617366 0.0833331517,6.77379356 0.25,6.6071271 C0.416666848,6.44046065 0.619047437,6.3571277 0.857142857,6.3571277 L11.1071429,6.3571277 L6.82142857,2.24999464 C6.65476172,2.08332818 6.56547601,1.88094808 6.55357143,1.64285323 C6.54166685,1.40475837 6.63095256,1.20237827 6.82142857,1.03571182 Z",id:"",fill:e})))}function hh({color:e="#999"}){return a.svg("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},a.svg("defs",null),a.svg("g",{id:"Icon-Arrow-Down",stroke:"none","stroke-width":"1",fill:e,"fill-rule":"evenodd"},a.svg("path",{d:"M7.18944314,11.1875067 L3.20507764,7.20314121 C3.06835906,7.06642263 3,6.9004077 3,6.70509552 C3,6.50978333 3.06835906,6.3437684 3.20507764,6.20704983 L3.87890415,5.56252012 C4.01562273,5.42580154 4.18163766,5.35744248 4.37694984,5.35744248 C4.57226203,5.35744248 4.73827696,5.42580154 4.87499553,5.56252012 L7.68748882,8.37501341 L10.4999821,5.56252012 C10.6367007,5.42580154 10.8027156,5.35744248 10.9980278,5.35744248 C11.19334,5.35744248 11.3593549,5.42580154 11.4960735,5.56252012 L12.1699,6.20704983 C12.3066186,6.3437684 12.3749776,6.50978333 12.3749776,6.70509552 C12.3749776,6.9004077 12.3066186,7.06642263 12.1699,7.20314121 L8.18553451,11.1875067 C8.04881594,11.3242253 7.88280101,11.3925843 7.68748882,11.3925843 C7.49217664,11.3925843 7.32616171,11.3242253 7.18944314,11.1875067 Z",id:"",fill:e})))}function mh({width:e,height:t,color:n}){return a.svg("svg",{"attrs-width":e,"attrs-height":t,"attrs-viewBox":"0 0 24.7 22.8"},a.svg("title",null,"checkmark"),a.svg("path",{"attrs-fill":n,class:"cls-1",d:"M18.4,17.4l-.3.3-.3.3h0a8.54,8.54,0,0,1-5.4,2,8.5,8.5,0,0,1,0-17,8.66,8.66,0,0,1,5.4,1.9l2.1-2.1A11.55,11.55,0,0,0,12.4,0,11.4,11.4,0,1,0,23.8,11.9Zm-5.8.5L6.1,11.4a1,1,0,0,1,0-1.4L7.5,8.6a1.08,1.08,0,0,1,.7-.3.91.91,0,0,1,.7.3L13.2,13l9.3-9.4a1,1,0,0,1,1.4,0L25.4,5a1,1,0,0,1,0,1.4L14,17.9a1,1,0,0,1-1.4,0Z",transform:"translate(-1 0)"}))}function Eh({width:e,height:t,color:n}){return a.svg("svg",{width:e,height:t,viewBox:"0 0 77 77",fill:"blue"},a.svg("title",null,"Artboard"),a.svg("desc",null,"Created with Sketch."),a.svg("defs",null),a.svg("g",{id:"Artboard",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},a.svg("g",{id:"Group",transform:"translate(2.000000, 2.000000)",fill:n},a.svg("path",{d:"M36.5,72.5 C16.617749,72.5 0.5,56.382251 0.5,36.5 C0.5,16.617749 16.617749,0.5 36.5,0.5 C56.382251,0.5 72.5,16.617749 72.5,36.5 C72.5,56.382251 56.382251,72.5 36.5,72.5 Z M36.5,69.5 C54.7253967,69.5 69.5,54.7253967 69.5,36.5 C69.5,18.2746033 54.7253967,3.5 36.5,3.5 C18.2746033,3.5 3.5,18.2746033 3.5,36.5 C3.5,54.7253967 18.2746033,69.5 36.5,69.5 Z M32.7096583,27.0197504 C32.3597576,27.0197504 32.0723398,26.9364171 31.8474039,26.7697504 C31.622468,26.6030837 31.51,26.390121 31.51,26.1308615 L31.51,23.9086393 C31.51,23.6493797 31.622468,23.4364171 31.8474039,23.2697504 C32.0723398,23.1030837 32.3597576,23.0197504 32.7096583,23.0197504 L54.3035083,23.0197504 C54.653409,23.0197504 54.9408268,23.1030837 55.1657627,23.2697504 C55.3906987,23.4364171 55.5031667,23.6493797 55.5031667,23.9086393 L55.5031667,26.1308615 C55.5031667,26.390121 55.3906987,26.6030837 55.1657627,26.7697504 C54.9408268,26.9364171 54.653409,27.0197504 54.3035083,27.0197504 L32.7096583,27.0197504 Z M32.7096583,39.1382527 C32.3597576,39.1382527 32.0723398,39.0549194 31.8474039,38.8882527 C31.622468,38.7215861 31.51,38.5086234 31.51,38.2493638 L31.51,36.0271416 C31.51,35.7678821 31.622468,35.5549194 31.8474039,35.3882527 C32.0723398,35.2215861 32.3597576,35.1382527 32.7096583,35.1382527 L54.3035083,35.1382527 C54.653409,35.1382527 54.9408268,35.2215861 55.1657627,35.3882527 C55.3906987,35.5549194 55.5031667,35.7678821 55.5031667,36.0271416 L55.5031667,38.2493638 C55.5031667,38.5086234 55.3906987,38.7215861 55.1657627,38.8882527 C54.9408268,39.0549194 54.653409,39.1382527 54.3035083,39.1382527 L32.7096583,39.1382527 Z M32.7096583,51.2567551 C32.3597576,51.2567551 32.0723398,51.1734217 31.8474039,51.0067551 C31.622468,50.8400884 31.51,50.6271257 31.51,50.3678662 L31.51,48.1456439 C31.51,47.8863844 31.622468,47.6734217 31.8474039,47.5067551 C32.0723398,47.3400884 32.3597576,47.2567551 32.7096583,47.2567551 L54.3035083,47.2567551 C54.653409,47.2567551 54.9408268,47.3400884 55.1657627,47.5067551 C55.3906987,47.6734217 55.5031667,47.8863844 55.5031667,48.1456439 L55.5031667,50.3678662 C55.5031667,50.6271257 55.3906987,50.8400884 55.1657627,51.0067551 C54.9408268,51.1734217 54.653409,51.2567551 54.3035083,51.2567551 L32.7096583,51.2567551 Z M23.2982062,28.2493526 L22.1735266,29.4602668 C21.9735831,29.6116311 21.7486472,29.6873132 21.4987187,29.6873132 C21.2487903,29.6873132 21.0238544,29.6116311 20.8239109,29.4602668 L17.2999146,25.8275243 C17.0999711,25.6761601 17,25.4743407 17,25.2220673 C17,24.9697939 17.0749786,24.7427475 17.2249359,24.5409281 L18.4245943,23.405696 C18.6245377,23.2038766 18.8494736,23.1029675 19.0994021,23.1029675 C19.3493305,23.1029675 19.549274,23.2038766 19.6992312,23.405696 L21.4237401,25.070703 L26.2223734,20.2270464 C26.3723307,20.0756821 26.5722742,20 26.8222026,20 C27.072131,20 27.297067,20.0756821 27.4970104,20.2270464 L28.7716474,21.5136427 C28.9216047,21.7154621 28.9965833,21.9298944 28.9965833,22.1569408 C28.9965833,22.3839872 28.8966122,22.5984196 28.6966687,22.800239 L28.7716474,22.800239 L23.2982062,28.2493526 Z M23.2982062,40.4435371 L22.1735266,41.5787691 C21.9735831,41.7805885 21.7486472,41.8814977 21.4987187,41.8814977 C21.2487903,41.8814977 21.0238544,41.7805885 20.8239109,41.5787691 L17.2999146,38.0217088 C17.0999711,37.8198894 17,37.6054571 17,37.3784107 C17,37.1513643 17.0749786,36.9369319 17.2249359,36.7351125 L18.4245943,35.5241984 C18.6245377,35.3728341 18.8494736,35.297152 19.0994021,35.297152 C19.3493305,35.297152 19.549274,35.3728341 19.6992312,35.5241984 L21.4237401,37.1892053 L26.2223734,32.4212309 C26.3723307,32.2194115 26.5722742,32.1185023 26.8222026,32.1185023 C27.072131,32.1185023 27.297067,32.2194115 27.4970104,32.4212309 L28.7716474,33.7078272 C28.9216047,33.8591914 28.9965833,34.0610108 28.9965833,34.3132842 C28.9965833,34.5655576 28.8966122,34.792604 28.6966687,34.9944234 L28.7716474,34.9944234 L23.2982062,40.4435371 Z M23.2982062,52.5620394 L22.1735266,53.6972715 C21.9735831,53.8990909 21.7486472,54 21.4987187,54 C21.2487903,54 21.0238544,53.8990909 20.8239109,53.6972715 L17.2999146,50.1402111 C17.0999711,49.9383917 17,49.7239594 17,49.496913 C17,49.2698666 17.0749786,49.0554343 17.2249359,48.8536149 L18.4245943,47.6427007 C18.6245377,47.4913364 18.8494736,47.4156543 19.0994021,47.4156543 C19.3493305,47.4156543 19.549274,47.4913364 19.6992312,47.6427007 L21.4237401,49.3077077 L26.2223734,44.5397332 C26.3723307,44.3379138 26.5722742,44.2370047 26.8222026,44.2370047 C27.072131,44.2370047 27.297067,44.3379138 27.4970104,44.5397332 L28.7716474,45.8263295 C28.9216047,45.9776938 28.9965833,46.1795132 28.9965833,46.4317866 C28.9965833,46.68406 28.8966122,46.9111064 28.6966687,47.1129258 L28.7716474,47.1129258 L23.2982062,52.5620394 Z",id:""}))))}const gh=e=>{const{label:t,items_remaining:n,onBeaconClicked:r,setWidth:i,isBottomRight:o,styles:s,percentComplete:c,isChecklistExpanded:l,controls:u,setRef:d}=e,{beacon_background_color:f,beacon_text_color:p}=s,y=h=>{h.key==="Tab"&&(h.currentTarget.style.outline=""),(h.key===" "||h.key==="Enter")&&r()};return a.html("div",{"attrs-role":"button","attrs-aria-expanded":l?"true":"false","attrs-aria-controls":u,"class-beacon":!0,"class-right":o,"hook-update":h=>i(h.elm),"attrs-tabindex":"0","attrs-aria-label":`${t} ${n} items remaining, ${c} complete`,"on-keyup":y,"hook-insert":d,"on-mousedown":h=>{h.currentTarget.style.outline="none"},"on-click":r,style:{backgroundColor:f}},a.html("div",{"attrs-aria-hidden":"true"},a.html("div",{"class-icon":!0,style:{color:p}}),a.html(mh,{height:"20px",width:"20px",color:p||"#FFFFFF"}),a.html("div",{"class-label":!0,style:{color:p}},t),a.html("div",{"class-badge":!0,style:{color:f}},n)))},yh=e=>{const{actions:t,label:n,state:r,onItemClicked:i,styles:o,itemNumberLabel:s,isSequential:c,depends_on:l,items:u,isChecklistExpanded:d,setRef:f}=e,p=r==="complete",y=t?t.length===0:!1,h=u.reduce((I,C)=>({...I,[C.id]:C}),{}),T=(l||[]).filter(I=>h[I]&&h[I].state==="incomplete").map(I=>h[I].label).length===0,_=c&&!T&&!p,S=I=>{(I.key===" "||I.key==="Enter")&&i()},A=t?t.some(I=>I.attributes.action_type==="redirect"):!1;return a.html("li",{"class-item":!0,"class-completed":p,"class-locked":_,"class-actionless":y,"on-click":_?()=>{}:i,"attrs-tabindex":d?"0":"-1","on-keyup":_?()=>{}:S,"attrs-role":A?"link":"button","attrs-type":A?"":"button","hook-insert":s==="1"?f:void 0},a.html("a",null,a.html("span",{"class-checkmark":!0},a.html("span",{"class-sequential-label":c&&!p},s),a.html(fh,null)),a.html("p",null,n,a.html("span",{"class-sr-only":!0},` - ${p?"completed":"incomplete"}`)),a.html(ph,{color:o.beacon_background_color})))};function le(){return We(void 0,{},void 0,"")}function Pt(e){if(window.AppcuesBundleSettings&&window.AppcuesBundleSettings.GENERIC_BUNDLE_DOMAIN){const{GENERIC_BUNDLE_DOMAIN:t}=window.AppcuesBundleSettings;return`${t}${e}`}return`https://fast.appcues.com${e}`}const Sh="/generic/main/7.7.5/checklist.5f4099830587e6584504e8ee75172b2f2fc9baf4.css",Th="CIdJsbqZD3OCb40Kncy+q/MzuR2VTtMLi6Unvcp2N9c=",Do=Pt(Sh),yl=30,Ch=-300,_h="//cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/";let gr=null,yr=null;const Ih=e=>{const{id:t,name:n,styles:r,text_tokens:i,items:o,is_checklist_expanded:s,is_first_view:c,frameHeight:l,beaconWidth:u,onBeaconClicked:d,onItemClicked:f,onOutsideClicked:p,onDismissClicked:y,onDismissCanceled:h,onDismissConfirmed:m,onCSSLoaded:T,onMinimizedClicked:_,shouldShowConfirmDismiss:S,onExpandChecklistResize:A,onCollapseBeaconResize:I,status:C,progress_state:k,is_sequential:L,is_dismissable:H,showBadge:R,collisionMode:K,collisionCoordinates:G,isInjectableSDK:ue}=e,w=me=>{ue||setTimeout(()=>{ct(me.elm)},300)},J=i.beacon_text||"Get Started",de=60,{length:pe}=o.length>0?o.filter(me=>me&&me.state&&me.state!=="complete"):[],Ce="appcues-checklist-main",Re=`${Math.floor((o.length-pe)/o.length*100)||0}%`,nt=pe===0,Pe=i.header_text||"Getting Started",W=i.description_text||"Here are a few things to do first.",Y=i.completion_dismiss_text||"I'm done",ie=i.completion_title||"Congratulations!",_e=i.completion_text||"Youve completed the first few steps. You can always come back if you need more help.",oe=k==="shown_manually"?nt:k==="completed",fe=i.dismiss_text||"No thanks",N=i.dismiss_prompt_text||"Are you sure you want to dismiss this list?",x=i.dismiss_cancel_text||"Keep it",O=i.dismiss_confirm_text||"Dismiss it",X=`.checklist .checklist-body .item:hover:not(.completed):not(.locked) a,
    .checklist .checklist-header.checklist-congrats:hover .dismiss-link,
    .checklist .skip-link:hover,
    .checklist .checklist-main .powered-by-appcues:hover {
        color: ${r.beacon_background_color};
      }
      .checklist .checklist-body .item:hover:not(.completed):not(.locked) a .checkmark {
        border-color: ${r.beacon_background_color};
      }
      .checklist .checklist-body .item:hover:not(.completed):not(.locked) a .checkmark .sequential-label{
        color: ${r.beacon_background_color};
      }
      .checklist .checklist-body .item.completed a .checkmark {
        background-color: ${r.success_color};
        border-color: ${r.success_color};
      }
      .checklist .checklist-header.checklist-congrats h3 {
        color: ${r.success_color};
      }`,ee=`
    @keyframes checkAppear {
      0% {
        border-color: inherit;
        background-color: inherit;
        -webkit-transform: none;
                transform: none;
      }
      20% {
        border-color: #555555;
      }
      35% {
        -webkit-transform: none;
                transform: none;
      }
      45% {
        border-color: #555555;
        background-color: white;
        -webkit-transform: scale(0.7);
                transform: scale(0.7);
      }
      58% {
        border-color: ${r.success_color};
        background-color: ${r.success_color};
        -webkit-transform: scale(1.25);
                transform: scale(1.25);
      }
      64% {
        -webkit-transform: scale(1.25);
                transform: scale(1.25);
      }
      100% {
        border-color: ${r.success_color};
        background-color: ${r.success_color};
        -webkit-transform: none;
                transform: none;
      }
    }
    .checklist .checklist-body .item.completed a .checkmark {
      animation-name: checkAppear;
      animation-duration: 1.5s;
      animation-timing-function: cubic-bezier(0, 0, 0.23, 1.27);
      animation-iteration-count: 1;
    }
  `,{position:Z}=r,B=Z==="Bottom Right",j=s?{height:`${l}px`,width:"364px"}:{height:`${de}px`,width:`${u}px`,transition:"all 0s linear 1s"},Oe=12,De=12,{beacon_vertical_offset:ir,beacon_horizontal_offset:or}=r,Ot=B?"right":"left",Hi=c?Ch:yl,eA={opacity:0,delayed:{opacity:100},remove:{opacity:0},destroy:{opacity:0},bottom:K?`${G.y}px`:`${yl+ir}px`,[Ot]:K?`${G.x}px`:`${Hi+or}px`},sr=me=>{if(me){const zt=me.getBoundingClientRect().height+de+Oe+De;Math.ceil(zt)!==l&&window.requestAnimationFrame(()=>A(t,zt))}else window.requestAnimationFrame(()=>A(t,359))},tA=18,nA=me=>{if(me){const zt=me.getBoundingClientRect().width+tA;Math.ceil(zt)!==u&&window.requestAnimationFrame(()=>{I(t,zt)})}},ud=me=>{me.target.nodeName!=="APPCUES-EXPERIENCE-CONTAINER"&&!K&&p(t)},Mi=r.font,dd=r.font_url,rA=`
    .checklist-main .title, .desc, .completed-caption, .sequential-label,
    .item a, .skip-link, .dismiss-text, .button-default {
      font-family: ${Mi};
    }

    .checklist-main .checklist-congrats h3, p, .dismiss-link {
      font-family: ${Mi};
    }

    .beacon .label, .badge {
      font-family: ${Mi};
    }
  `,fd=r.custom_background_color,iA=`
    .checklist-main,
    .checklist-main .checklist-body .item .checkmark,
    .checklist-main .checklist-body .dismiss-container,
    .checklist-main .checklist-header.checklist-congrats
     {
      background-color: ${fd};
    }
  `,$r=r.custom_font_color,oA=`
    .checklist-main .title, .desc, .completed-caption, .sequential-label,
    .item a, .skip-link, .dismiss-text, .button-default,
    .checklist-main .checklist-header.checklist-congrats p,
    .checklist-main .checklist-body .item p,
    .checklist-main .checklist-body .item .checkmark,
    .checklist-main .checklist-body .item .checkmark > span,
    .checklist-main .checklist-footer .skip-link,
    .checklist-main .checklist-footer .powered-by-appcues {
      color: ${$r};
    }
    .checklist-main .checklist-header {
      border-bottom: 1px solid ${$r};
    }
    .checklist-main .checklist-body .item .checkmark {
      border: 2px solid ${$r};
    }
    .checklist-main .checklist-footer .skip-link:hover,
    .checklist-main .checklist-footer .powered-by-appcues:hover,
    .checklist-main .checklist-body .item:hover:not(.actionless) p
     {
      color: ${r.beacon_background_color};
    }
  `,pd=r.custom_hover_state_color,sA=`
    .checklist-main .checklist-body .item:hover:not(.actionless) {
      background-color: ${pd};
    }
  `;return a.html("appcues-checklist",{"class-apcl-right":B,"class-apcl-left":!B,"class-first-view":c,key:t,"hook-remove":()=>document.removeEventListener("click",ud),style:eA},a.html("iframe",{"style-border":"none",style:j,"style-color-scheme":"none"},a.html("link",{"attrs-href":Do,"attrs-type":"text/css","attrs-rel":"stylesheet","attrs-integrity":Th,"attrs-crossorigin":"anonymous","on-load":()=>{T(t,Do,!0),document.addEventListener("click",ud)},"on-error":()=>{T(t,Do,!1)}}),dd?a.html("link",{"attrs-href":dd,"attrs-rel":"stylesheet"}):a.html(le,null),a.html("style",{"attrs-type":"text/css"},X),a.html("style",{"attrs-type":"text/css"},ee),Mi?a.html("style",{"attrs-type":"text/css"},rA):a.html(le,null),fd?a.html("style",{"attrs-type":"text/css"},iA):a.html(le,null),$r?a.html("style",{"attrs-type":"text/css"},oA):a.html(le,null),pd?a.html("style",{"attrs-type":"text/css"},sA):a.html(le,null),C===Q.SHOWING?a.html("div",{"class-checklist":!0},r.type==="beacon"&&!K?a.html(gh,{styles:r,label:J,items_remaining:pe,onBeaconClicked:()=>{d(t),sr()},setWidth:nA,isBottomRight:B,percentComplete:Re,isChecklistExpanded:s,controls:Ce,setRef:me=>{yr=me}}):a.html(le,null),a.html("div",{"attrs-id":Ce,"class-checklist-main":!0,"class-expanded":s,"hook-update":me=>sr(me.elm)},a.html("div",{"class-checklist-container":!0},a.html("div",{"class-checklist-header":!0,"class-checklist-congrats":oe},oe?a.html("div",{"class-header-content":!0},a.html("span",{"class-emoji":!0},a.html(Ah,{successImageCode:r.success_image_code,customSuccessImageUrl:r.custom_success_image_url,successColor:r.success_color})),a.html("h3",null,ie),a.html("p",null,_e)):a.html("div",{"class-header-content":!0},a.html("h2",{"class-title":!0},Pe),a.html("div",{"class-desc":!0},W),a.html("div",{"class-progress-container":!0},a.html("span",{"class-completed-caption":!0},Re),a.html("span",{"class-progress-bar":!0},a.html("span",{"class-progress-bar-complete":!0,"class-progress-bar-done":nt,"style-width":Re,"style-backgroundColor":r.beacon_background_color})))),oe?a.html("button",{type:"button","class-dismiss-link":!0,"attrs-tabindex":"0","on-keyup":me=>{(me.key===" "||me.key==="Enter")&&m(t,n,oe)},"on-click":()=>m(t,n,oe)},Y):s?a.html("div",{style:{visibility:s?"visible":"hidden"},"attrs-role":"button","attrs-aria-expanded":s?"true":"false","attrs-aria-controls":Ce,"attrs-aria-label":"Minimize checklist","class-minimize":!0,"attrs-tabindex":"0","hook-insert":w,"on-keyup":me=>{(me.key===" "||me.key==="Enter")&&(_(t),yr&&w(yr))},"on-click":()=>{_(t),yr&&w(yr)}},a.html("div",{"attrs-aria-hidden":"true"},a.html(hh,{color:$r||"#999"}))):a.html(le,null)),a.html("div",{"class-checklist-body":!0,"class-show-confirm":S},S?a.html(le,null):a.html("ul",{"class-items":!0},o.map((me,zt)=>a.html(yh,{...me,checklistId:t,items:o,onItemClicked:()=>s&&f(t,me.id),styles:r,isSequential:L,itemNumberLabel:`${zt+1}`,isChecklistExpanded:s,setRef:cA=>{gr=cA}}))),S?a.html("div",{"class-dismiss-container":!0},a.html("div",{"class-content-container":!0},a.html("div",{"class-dismiss-content":!0},a.html("div",{"class-dismiss-text":!0},N),a.html("div",{"class-button-container":!0},a.html("div",{"class-button-row":!0},a.html("a",{"class-button-default":!0,"class-alt":!0,"class-cancel-dismiss":!0,"attrs-tabindex":"0",role:"button",type:"button","hook-insert":w,"on-keyup":me=>{(me.key===" "||me.key==="Enter")&&(h(t),sr(),gr&&w(gr))},"on-click":()=>{h(t),sr(),gr&&w(gr)}},x),a.html("a",{"class-button-default":!0,"attrs-tabindex":"0",role:"button",type:"button","on-keyup":me=>{(me.key===" "||me.key==="Enter")&&m(t,n,nt)},"on-click":()=>m(t,n,nt)},a.html("strong",null,"")," ",O)))))):a.html(le,null)),a.html("div",{"class-checklist-footer":!0},H&&s&&!oe&&!S?a.html("button",{type:"button","class-skip-link":!0,"class-left":B,"attrs-tabindex":"0","on-keyup":me=>{(me.key===" "||me.key==="Enter")&&(y(t),document.querySelector("appcues-checklist iframe").contentDocument.documentElement.querySelector(".cancel-dismiss").focus(),sr())},"on-click":()=>{y(t),sr()}},fe):a.html(le,null),s&&oe&&R?a.html("a",{"class-powered-by-appcues":!0,"class-left":B,"attrs-href":"http://www.appcues.com","attrs-target":"_blank"},"Brought to you by Appcues"):a.html(le,null))))):a.html(le,null)))};function Ah({successImageCode:e,customSuccessImageUrl:t,successColor:n}){if(t)return a.html("img",{alt:"Success!",src:`${t}`,style:{height:"60px",width:"60px"}});if(e==="none")return a.html(le,null);if(!e||e==="default")return a.html(Eh,{width:"60px",height:"60px",color:n});if(e&&e!=="none")return a.html("img",{alt:"",src:`https:${_h}${e}.svg`,style:{height:"60px",width:"60px"}})}const vh=e=>{const{id:t,attributes:n,beaconWidth:r,viewState:i,frameHeight:o,shouldShowConfirmDismiss:s,callbacks:c,showBadge:l,status:u,collisionMode:d,collisionCoordinates:f,isInjectableSDK:p}=e;return a.html(Ih,{id:t,status:u,styles:n.styles||{},beaconWidth:r,frameHeight:o,items:n.items||[],is_checklist_expanded:i===Bt.EXPANDED,is_first_view:i===Bt.FIRSTVIEW,text_tokens:n.text_tokens||{},name:n.name||"Untitled Checklist",shouldShowConfirmDismiss:s,progress_state:n.progress_state,is_sequential:n.is_sequential||!1,is_dismissable:n?.is_dismissable??!0,showBadge:l,collisionMode:d,collisionCoordinates:f,isInjectableSDK:p,...c})};function di(){return!1}function bh(e){let t=document.body;if(window.AppcuesSettings&&window.AppcuesSettings.customContainer){const r=document.documentElement.querySelector(window.AppcuesSettings.customContainer);r&&(t=r)}const n=document.createElement("div");return t.appendChild(n),e(n,a.html("div",{"class-appcues":!0}))}function wh(){const e=Gn([Yn,Kn,qn,zn,jn],ii.createApi({clean:!0,trustedTypesPolicy:window.trustedTypes?.defaultPolicy}));let t=null;return function(r){if(Er(document)){const i=ye(r)||{},{status:o}=r.currentContent||{},s=Ff(r),c=i.type&&ne.inArray(qi,o),l=cn(r),u=it(l,f=>qi.includes(f.status)),d=di(r.settings);if(c||u){(!t||!Po(t.elm))&&(t=bh(e));const f=r.views.callbacks[z.CHECKLIST];t=e(t,a.html("div",{"class-appcues":!0,"class-injectable":s},c&&r.views.renderers[i.type]?r.views.renderers[i.type](r):a.html(le,null),u?a.html("appcues-checklists",{"attrs-role":cr.ROLE_CONTAINER,"attrs-aria-label":cr.LABEL_CHECKLIST},vh({...u,showBadge:d,callbacks:f,collisionMode:r.collisionMode,collisionCoordinates:r.collisionCoordinates,isInjectableSDK:s})):a.html(le,null)))}else t&&(t=e(t,a.html("div",{"class-appcues":!0})))}}}var fi={},Fo,Sl;function Nh(){return Sl||(Sl=1,Fo={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Fo}var Uo,Tl;function Oh(){if(Tl)return Uo;Tl=1;var e=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,t=Nh();return Uo=function(n){var r=0,i,o=!0,s={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return n.replace(e,function(c){if(c==="="){o=!0,r++;return}o?r===0?((t[c]||n.charAt(n.length-2)==="/")&&(s.voidElement=!0),s.name=c):(s.attrs[i]=c.replace(/^['"]|['"]$/g,""),i=void 0):(i&&(s.attrs[i]=i),i=c),r++,o=!1}),s},Uo}var Ho,Cl;function kh(){if(Cl)return Ho;Cl=1;var e=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"|'[^']*'|[^'">])+>)/g,t=Oh(),n=Object.create?Object.create(null):{};function r(i,o,s,c,l){var u=o.indexOf("<",c),d=o.slice(c,u===-1?void 0:u);/^\s*$/.test(d)&&(d=" "),(!l&&u>-1&&s+i.length>=0||d!==" ")&&i.push({type:"text",content:d})}return Ho=function(o,s){s||(s={}),s.components||(s.components=n);var c=[],l,u=-1,d=[],f={},p=!1;return o.replace(e,function(y,h){if(p){if(y!=="</"+l.name+">")return;p=!1}var m=y.charAt(1)!=="/",T=y.indexOf("<!--")===0,_=h+y.length,S=o.charAt(_),A;m&&!T&&(u++,l=t(y),l.type==="tag"&&s.components[l.name]&&(l.type="component",p=!0),!l.voidElement&&!p&&S&&S!=="<"&&r(l.children,o,u,_,s.ignoreWhitespace),f[l.tagName]=l,u===0&&c.push(l),A=d[u-1],A&&A.children.push(l),d[u]=l),(T||!m||l.voidElement)&&(T||u--,!p&&S!=="<"&&S&&(A=u===-1?c:d[u].children,r(A,o,u,_,s.ignoreWhitespace)))}),!c.length&&o.length&&r(c,o,0,0,s.ignoreWhitespace),c},Ho}const _l=Lp(Rp);var Jn={},Il;function Rh(){if(Il)return Jn;Il=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.createTextVNode=t,Jn.transformName=n,Jn.unescapeEntities=o;var e=_l;function t(s,c){return(0,e.vnode)(void 0,void 0,void 0,o(s,c))}function n(s){s=s.replace(/-(\w)/g,function(u,d){return d.toUpperCase()});var c=s.charAt(0).toLowerCase();return""+c+s.substring(1)}var r=new RegExp("&[a-z0-9#]+;","gi"),i=null;function o(s,c){return i||(i=c.createElement("div")),s.replace(r,function(l){return i.innerHTML=l,i.textContent})}return Jn}var Al;function Lh(){if(Al)return fi;Al=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.default=function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=p.context||document;if(!f)return null;var h=[],m=s((0,t.default)(f),h,y),T=void 0;return m?m.length===1?T=m[0]:T=m:T=c({type:"text",content:f},h,y),p.hooks&&p.hooks.create&&h.forEach(function(_){p.hooks.create(_)}),T};var e=kh(),t=i(e),n=_l,r=Rh();function i(f){return f&&f.__esModule?f:{default:f}}function o(f,p,y){return p in f?Object.defineProperty(f,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[p]=y,f}function s(f,p,y){if(f instanceof Array&&f.length>0)return f.map(function(h){return c(h,p,y)})}function c(f,p,y){var h=void 0;return f.type==="text"?h=(0,r.createTextVNode)(f.content,y):h=(0,n.h)(f.name,l(f,y),s(f.children,p,y)),p.push(h),h}function l(f,p){var y={};if(!f.attrs)return y;var h=Object.keys(f.attrs).reduce(function(_,S){if(S!=="style"&&S!=="class"){var A=(0,r.unescapeEntities)(f.attrs[S],p);_?_[S]=A:_=o({},S,A)}return _},null);h&&(y.attrs=h);var m=u(f);m&&(y.style=m);var T=d(f);return T&&(y.class=T),y}function u(f){try{return f.attrs.style.split(";").reduce(function(p,y){var h=y.split(":"),m=(0,r.transformName)(h[0].trim());if(m){var T=h[1].replace("!important","").trim();p?p[m]=T:p=o({},m,T)}return p},null)}catch{return null}}function d(f){try{return f.attrs.class.split(" ").reduce(function(p,y){return y=y.trim(),y&&(p?p[y]=!0:p=o({},y,!0)),p},null)}catch{return null}}return fi}var Mo,vl;function xh(){return vl||(vl=1,Mo=Lh()),Mo}var Ph=xh();const Dt=vo(Ph);function Dh(e,t,n){let r=0,i=0,o=e;if(o.offsetParent)for(;r+=o.offsetLeft,i+=o.offsetTop,!!(o=o.offsetParent););return{left:r+e.offsetWidth/2+t,top:i+e.offsetHeight+10+n}}function Fh(e){const t=e.includes("top"),n=e.includes("left"),r=e.includes("right");return n?t?-140:-135:r?t?130:135:0}function bl(e){return window.getComputedStyle(e).position==="fixed"?!0:e.parentElement!==null&&e.parentElement!==document.body?bl(e.parentElement):!1}function Uh(e,t){const n=e.includes("top"),r=Fh(e),i=n?-70:0,o=t.elm.parentElement;return Dh(o,r,i)}function Hh(){const{body:e}=document,t=document.documentElement;return{width:Math.max.apply(Math,[e.scrollWidth,e.offsetWidth,t.clientWidth,t.scrollWidth,t.offsetWidth]),height:Math.max.apply(Math,[e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight])}}function wl(e){e.setAttribute("tabindex","0"),e.focus()}const Nl=(e,t,n)=>{const r=e.currentTarget.querySelector('[tabindex="0"]');if(!r&&(e.key==="ArrowDown"||e.key==="ArrowUp")){e.currentTarget.firstElementChild.setAttribute("tabindex","0"),e.currentTarget.firstElementChild.focus();return}switch(e.key){case"Tab":{if(n){e.currentTarget.lastElementChild.focus();break}const i=document.documentElement.querySelector("#appcues-widget-icon");t(),i.focus();break}case"ArrowDown":{const i=r.nextElementSibling||e.target.parentElement.firstElementChild;wl(i);break}case"ArrowUp":{const i=r.previousElementSibling||e.target.parentElement.lastElementChild;wl(i);break}}r?.setAttribute("tabindex","-1")},Mh={left:"appcues-widget-left",right:"appcues-widget-right",center:"appcues-widget-center",bottom:"appcues-widget-bottom","bottom-left":"appcues-widget-bottom-left","bottom-right":"appcues-widget-bottom-right","bottom-center":"appcues-widget-bottom-center",top:"appcues-widget-top","top-left":"appcues-widget-top-left","top-right":"appcues-widget-top-right","top-center":"appcues-widget-top-center",default:"appcues-widget-center"},$h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Bh(e){const t=new Date(e);return`${$h[t.getMonth()]} ${t.getDate()}`}const Wh=e=>{const{flows:t,history:n,position:r,header:i,footer:o,expanded:s,onClose:c,onOutsideClick:l,onItemClick:u,dropdownPositioning:d,hasFixedAncestor:f}=e,p=t.sort((m,T)=>T.version_id-m.version_id).map(m=>{const T=m.migrated_from_step_id?!!n[m.id]||!!n[m.migrated_from_step_id]:!!n[m.id];return{...m,seen:T}}),[y,h]=p.reduce((m,T)=>(m[T.seen?1:0].push(T),m),[[],[]]);return a.html("div",{classNames:`appcues-widget-container ${s?"appcues-active":""}`,style:s?{height:Hh().height}:{}},a.html("div",{"on-click":l,classNames:"appcues-widget-backdrop"}),a.html("div",{classNames:`appcues-widget-dropdown ${f?"appcues-widget-fixed":""} ${Mh[r]}`,style:s?{top:`${d.top}px`,left:`${d.left}px`}:{}},i?a.html("div",{classNames:"appcues-widget-header"},Dt(i)):a.html(le,null),a.html("div",{classNames:"appcues-widget-content",id:"appcues-widget-content","attrs-tabindex":"-1"},a.html("ul",{classNames:"appcues-widget-list","attrs-tabindex":"0","on-keydown":m=>Nl(m,c,h.length>0),"attrs-aria-activedescendant":"appcues-widget-listitem-0"},!y||y.length===0?a.html("li",{classNames:"appcues-nothing-new"},"There's nothing new to see here!"):y.map((m,T)=>a.html(Ol,{index:T,item:m,onItemClick:u,hasBeenSeen:!1}))),a.html("ul",{classNames:"appcues-widget-list",id:"appcues-widget-list-unseen","attrs-tabindex":"0","on-keydown":m=>Nl(m,c,!1),"attrs-aria-activedescendant":"appcues-widget-listitem-0"},!h||h.length===0?a.html(le,null):h.map((m,T)=>a.html(Ol,{index:T,item:m,onItemClick:u,hasBeenSeen:!0})))),o?a.html("div",{classNames:"appcues-widget-footer"},Dt(o)):a.html(le,null)))};function Ol({index:e,item:t,onItemClick:n,hasBeenSeen:r}){const i=(o,{id:s},c)=>{(o.key===" "||o.key==="Enter")&&n(o,s,c)};return a.html("li",{classNames:r?"appcues-read":"appcues-unread","attrs-tabindex":"-1",id:`appcues-widget-listitem-${e}`,"on-keyup":o=>i(o,t,r)},a.html("a",{"attrs-data-itemid":t.id,"attrs-data-isread":r,"on-click":o=>n(o,t.id,r)},t.name,a.html("time",null,Bh(t.version_id))))}const Vh=({expanded:e,flows:t,history:n,onClick:r,onClose:i,icon:o})=>{const s=l=>{l.key==="Tab"&&(l.currentTarget.style.outline="",e&&i())},c=t.filter(l=>!n[l.id]).length;return a.html("button",{"attrs-tabindex":"0",classNames:`${o?"":"appcues-icon-bell"} appcues-widget-icon appcues-icon appcues-icon-visible appcues-in appcues-slide`,"attrs-data-appcues-count":c,id:"appcues-widget-icon","on-keyup":s,"on-mousedown":l=>{l.currentTarget.style.outline="none"},"on-click":r,"attrs-aria-controls":"appcues-widget-list","attrs-aria-expanded":e,"attrs-aria-haspopup":"true","attrs-aria-label":`${c} unseen flows`,type:"button"},o?a.html("img",{alt:"",src:o}):a.html("i",null))};function Gh(e,t){const n=document.createElement("div");t.classList.add("appcues-widget"),t.appendChild(n);const r=document.createElement("link");return r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href",Pt("/widget.css")),document.head.appendChild(r),e(n,a.html("div",null))}function jh(e){const t=document.createElement("div");return document.body.appendChild(t),e(t,a.html("div",null))}function qh(){const e=Gn([Yn,Kn,qn,zn,jn]);let t=null,n=null;return function(i){const o=Hc(i),s=kf(i),c=Rf(i),l=Lf(i)||"default",u=xf(i),d=Pf(i),f=yo(i),p=Df(i),y=i.views.callbacks[z.WIDGET],h=document.documentElement.querySelector(o),m=()=>{y.onToggled(),document.documentElement.querySelector("#appcues-widget-content > ul").focus()};h&&((!t||!Po(t.elm))&&(t=Gh(e,h)),(!n||!Po(n.elm))&&(n=jh(e)),t=e(t,a.html("div",{"class-appcues":!0},a.html("style",null,`
              .appcues-widget-icon {
                border: none;
                background: none;
                overflow: visible;
              }
            `),Vh({expanded:f,flows:c,history:s,onClose:y.onClose,onClick:m,icon:p}))),n=e(n,a.html("div",{"class-appcues":!0},Wh({flows:c,history:s,position:l,header:u,footer:d,expanded:f,onClose:y.onClose,onOutsideClick:y.onToggled,onItemClick:y.onItemClicked,dropdownPositioning:Uh(l,t),hasFixedAncestor:bl(t.elm.parentElement)}))))}}const $=Le(["START_INITIALIZE","START_IDENTIFY","START_HANDLE_MESSAGE","MESSAGE_TIMEOUT","START_EVENT","START_OPEN_BUILDER_EVENT","FINISHED_EVENT","START_ACTIVITY","START_ANONYMOUS","INJECT_CONTENT","INJECT_STYLES","PREPARE_CONTENT","CLEANUP_STEP","START_CONTENT","START_RESET","START_DEBUG","START_FORM_SUBMISSION","START_SHOW","STOP_TASKS","START_CHECK","START_FLOW","START_STEP","CANCEL_ATTEMPTS","SEND_LIFECYCLE_EVENT","CLOSE_CHANNEL","START_IDENTIFY_GROUP","START_GROUP_ACTIVITY"]),U=Le(["INITIALIZE","CONFIGURE_TRANSPORT","IDENTIFY","SENT_REQUEST","UPDATE_USER","RESET","UPDATE_CONTENT","UPDATE_STYLES","WILL_SHOW_CONTENT","SHOW_CONTENT","WILL_CLOSE_CONTENT","FETCHING_CONTENT","REGISTER_RENDERER","REGISTER_CALLBACKS","ADD_EVENT_LISTENER","REMOVE_EVENT_LISTENER","WAIT_IDENTIFY","COMPLETED_IDENTIFY","STORE_TASK","CLEAR_TASKS","CLEAR_TASK","CLEAR_CURRENT_CONTENT","RUN_ACTION","RESUME_ACTION","CHECKED_FOR_INITIAL_CONTENT","SENT_ACTIVITY_UPDATE","STARTED_FLOW_IMM","SET_BODY_READY","SAVE_OPEN_BUILDER_INSTANCE","SAVE_EXPERIMENTS","EXPERIMENT_STARTED","SAVE_GROUP_PROPS","PREFETCH_FLOWS","INITIALIZE_OPEN_BUILDER","OPEN_BUILDER_INITIALIZED"]),ae=Le(["INVALIDATE_FORM","LOADED_CSS","RESIZE_CONTENT","ACTIVATED_STEP_CHILD","DEACTIVATED_STEP_CHILD","SET_CURRENT_STEP_CHILD","CLEAR_CURRENT_STEP_CHILD","SET_CURRENT_STEP","ADVANCE_STEP_CHILD","CLOSE_FLOW","CLOSE_STEP","CANCEL_STEP","SET_PREVIOUS_ACTIVE_ELEMENT","SET_NEXT_CONTENT_ID_COOKIE","RUN_PREV_STEP_CHILD","CLEAR_CONTENT_STATE_CHILD","SET_FORCE_FOCUS"]),pi=Le(["PREPARE_MODAL","RESIZE_MODAL_CONTENT"]),Ae=Le(["PREPARE_SATISFACTION_SURVEY","START_COLLAPSING_SATISFACTION_SURVEY","COLLAPSE_SATISFACTION_SURVEY","EXPAND_SATISFACTION_SURVEY","SHOW_SATISFACTION_SURVEY_TOAST","HIDE_SATISFACTION_SURVEY_TOAST","QUANTITATIVE_QUESTION_SUBMITTED","CLICKED_UPDATE_NPS_SCORE","QUALITATIVE_QUESTION_SUBMITTED","ASK_ME_LATER_SELECTED","FEEDBACK_TEXT_CHANGED"]),he=Le(["ADD_ACTIVE_ANNOTATIONS","REMOVE_ACTIVE_ANNOTATIONS","START_CALCULATE_POSITIONS","START_HANDLE_POSITION_UPDATES","SET_ANNOTATIONS_POSITIONS","SET_ANNOTATIONS_READY","SAVE_POSITION_DETAILS","REPORTED_ANNOTATIONS_ERRORS","REPORTED_ANNOTATIONS_RECOVERY","SET_EXISTING_ANNOTATIONS_ERRORS","SET_TOOLTIP_SETTLED","SET_ACTIVE_ANNOTATIONS_WILL_CLOSE","HIDE_AND_REMOVE_ACTIVE_ANNOTATIONS","GO_TO_STEP","SET_IS_SCROLLING_TO_ANNOTATION","CONFIRM_SCROLLING"]),Vt=Le(["EXPAND_HOTSPOT","PREPARE_HOTSPOTS","SET_BEACON_SETTLED","CLOSE_LAST_HOTSPOT"]),re=Le(["UPDATE_CHECKLISTS","ANIMATE_IN_CHECKLIST","EXPAND_CHECKLIST","COLLAPSE_CHECKLIST","SHOW_DISMISS_CONFIRMATION","CANCEL_DISMISS_CONFIRMATION","CONFIRM_DISMISS_CHECKLIST","LOADED_CHECKLIST_CSS","START_CHECKLIST","SET_CHECKLIST_STATUS","START_CHECKLIST_ITEM","START_CHECKLIST_ACTION","COMPLETED_CHECKLIST_ACTION","SEND_CHECKLIST_ERROR","SET_CHECKLIST_HEIGHT","SET_CHECKLIST_WIDTH","HIDE_CHECKLISTS","UNHIDE_CHECKLISTS","CLEAR_FORCE_SHOWN_CHECKLIST","SET_EXPAND_CHECKLIST_LATER","SEND_CHECKLIST_SHOWN_EVENT"]),qe=Le(["TOGGLE_ROW_DETAILS","TOGGLE_COLLAPSED","SET_CURRENT_PAGE","TRACK_PAGE","ADD_CONTENT_ERROR","ADD_CHILD_ERROR","CLOSE_DEBUGGER"]),Qn=Le(["CANCEL_TEST","RESET_TEST","LOADED_TEST_MODE_CSS"]),bt=Le(["LOADED_LAUNCHPAD","UPDATED_WIDGET_HISTORY","UPDATED_WIDGET_FLOWS","TOGGLED_WIDGET"]),Je=Le(["PAUSE_EXPERIENCE","SHOW_EXPERIENCES","RESUME_EXPERIENCE","SAVE_ON_HOLD_LAUNCHPADS","UNHIDE_LAUNCHPADS","HIDE_LAUNCHPADS"]),yt=Le(["SET_SESSION","SESSION_STARTED","START_SESSION"]),hi=Le(["SET_COLLISION_MODE"]),mi=Le(["LAUNCHPAD_SEARCH_RESPONSE","LAUNCHPAD_SEARCH_ERROR"]);function b(e,t=n=>n){return(...n)=>{const r={type:e};if(n.length>0&&n[0]instanceof Error){const[i]=n;r.error=!0,r.payload=i}else n.length>0&&(r.payload=t(...n));return r}}const Kh=b($.START_INITIALIZE,(e,t,n,r)=>({settings:e,dispatchMessage:t,transportModule:n,reporter:r})),Zn=b($.START_IDENTIFY,(e,t={},n=[])=>({userId:e,properties:t,events:n})),Yh=b($.START_HANDLE_MESSAGE),zh=b($.MESSAGE_TIMEOUT),Ue=b($.START_EVENT,(e,t)=>({flowId:e,event:t})),Xh=b($.START_OPEN_BUILDER_EVENT,(e,t)=>({type:e,event:t})),Jh=b($.FINISHED_EVENT,(e,t)=>({flowId:e,event:t})),we=b($.START_ACTIVITY,(e={},t=[],n=!1)=>n?{properties:e,events:t,trigger:!0}:{properties:e,events:t,trigger:!1}),Qh=b($.START_GROUP_ACTIVITY,(e,t={})=>({groupId:e,groupProperties:t})),Zh=b($.START_ANONYMOUS);b($.INJECT_CONTENT,e=>({content:e})),b($.INJECT_STYLES,(e,t)=>({defaultStyles:e,styles:t}));const em=b($.PREPARE_CONTENT),tm=b($.CLEANUP_STEP),nm=b($.START_CONTENT),rm=b($.START_RESET),im=b($.START_DEBUG),om=b($.START_FORM_SUBMISSION,(e,t,n,r)=>({formId:e,fields:t,onSuccess:n,ignoreValidation:r})),Sr=b($.START_SHOW),sm=b($.STOP_TASKS),kl=b($.START_CHECK,(e,t,n)=>({currentUrl:e,shouldOverrideCurrentFlow:t,requestId:n})),$o=b($.START_FLOW,(e,t,n,r,i=null)=>({flowId:e,stepId:t,url:n,eventChannel:r,status:i})),Rl=b($.START_STEP,(e,t,n=null)=>({step:e,url:t,status:n})),Ei=b($.CANCEL_ATTEMPTS),ce=b($.SEND_LIFECYCLE_EVENT,(e,t=null)=>({event:e,eventChannel:t})),cm=b($.CLOSE_CHANNEL),lm=b($.START_IDENTIFY_GROUP,(e,t)=>({groupId:e,groupProperties:t})),am=b(U.INITIALIZE,e=>({transport:e})),um=b(U.IDENTIFY),Ll=b(U.SENT_REQUEST,(e,t)=>({requestId:e,pageViewEvent:t})),xl=b(U.CONFIGURE_TRANSPORT),Tr=b(U.UPDATE_USER,(e,t)=>({profile:e,merge:t})),dm=b(U.RESET),Bo=b(U.UPDATE_CONTENT,(e,t)=>({orderedContent:e,content:t})),fm=b(U.UPDATE_STYLES),er=b(U.WILL_SHOW_CONTENT),pm=b(U.SHOW_CONTENT),hm=b(U.WILL_CLOSE_CONTENT),mm=b(U.FETCHING_CONTENT,(e,t)=>({contentId:e,url:t})),Em=b(U.REGISTER_RENDERER),Pl=b(U.REGISTER_CALLBACKS),Dl=b(U.ADD_EVENT_LISTENER,(e,t,n)=>({name:e,callback:t,context:n})),Fl=b(U.REMOVE_EVENT_LISTENER,(e,t,n)=>({name:e,callback:t,context:n})),gm=b(U.WAIT_IDENTIFY),ym=b(U.COMPLETED_IDENTIFY),Sm=b(U.STORE_TASK,(e,t)=>({key:e,task:t})),Tm=b(U.CLEAR_TASKS),Cm=b(U.CLEAR_TASK,(e,t)=>({key:e,id:t})),Ul=b(U.CLEAR_CURRENT_CONTENT),_m=b(U.RUN_ACTION),Hl=b(U.RESUME_ACTION,(e,t)=>({action:e,status:t})),Ml=b(U.CHECKED_FOR_INITIAL_CONTENT,(e,t)=>({url:e,complete:t})),Im=b(U.SENT_ACTIVITY_UPDATE),Am=b(U.STARTED_FLOW_IMM),$l=b(U.SET_BODY_READY),vm=b(U.SAVE_OPEN_BUILDER_INSTANCE),bm=b(U.INITIALIZE_OPEN_BUILDER),wm=b(U.OPEN_BUILDER_INITIALIZED),Nm=b(U.SAVE_EXPERIMENTS),gi=b(U.EXPERIMENT_STARTED,(e,t)=>({id:e,type:t})),Om=b(U.SAVE_GROUP_PROPS);function Qe(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var km=typeof Symbol=="function"&&Symbol.observable||"@@observable",Bl=km,Wl=()=>Math.random().toString(36).substring(7).split("").join("."),Rm={INIT:`@@redux/INIT${Wl()}`,REPLACE:`@@redux/REPLACE${Wl()}`},Vl=Rm;function Lm(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Gl(e,t,n){if(typeof e!="function")throw new Error(Qe(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Qe(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Qe(1));return n(Gl)(e,t)}let r=e,i=t,o=new Map,s=o,c=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((T,_)=>{s.set(_,T)}))}function d(){if(l)throw new Error(Qe(3));return i}function f(T){if(typeof T!="function")throw new Error(Qe(4));if(l)throw new Error(Qe(5));let _=!0;u();const S=c++;return s.set(S,T),function(){if(_){if(l)throw new Error(Qe(6));_=!1,u(),s.delete(S),o=null}}}function p(T){if(!Lm(T))throw new Error(Qe(7));if(typeof T.type>"u")throw new Error(Qe(8));if(typeof T.type!="string")throw new Error(Qe(17));if(l)throw new Error(Qe(9));try{l=!0,i=r(i,T)}finally{l=!1}return(o=s).forEach(S=>{S()}),T}function y(T){if(typeof T!="function")throw new Error(Qe(10));r=T,p({type:Vl.REPLACE})}function h(){const T=f;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Qe(11));function S(){const I=_;I.next&&I.next(d())}return S(),{unsubscribe:T(S)}},[Bl](){return this}}}return p({type:Vl.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:y,[Bl]:h}}function xm(e,t,n){return Gl(e,t,n)}function Pm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Dm(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Qe(15))};const s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},c=e.map(l=>l(s));return o=Pm(...c)(i.dispatch),{...i,dispatch:o}}}var jl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Um(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}return e}var Hm="proc first argument (Saga function result) must be an iterator",yi={toString:function(){return"@@redux-saga/CHANNEL_END"}},pn={toString:function(){return"@@redux-saga/TASK_CANCEL"}},Cr={wildcard:function(){return zs},default:function(t){return(typeof t>"u"?"undefined":Fm(t))==="symbol"?function(n){return n.type===t}:function(n){return n.type===String(t)}},array:function(t){return function(n){return t.some(function(r){return Wo(r)(n)})}},predicate:function(t){return function(n){return t(n)}}};function Wo(e){return(e==="*"?Cr.wildcard:M.array(e)?Cr.array:M.stringableFunc(e)?Cr.default:M.func(e)?Cr.predicate:Cr.default)(e)}function Mm(e,t,n){var r=[],i=void 0,o=!1;c(t);function s(u){l(),n(u,!0)}function c(u){r.push(u),u.cont=function(d,f){o||(jr(r,u),u.cont=xe,f?s(d):(u===t&&(i=d),r.length||(o=!0,n(i))))}}function l(){o||(o=!0,r.forEach(function(u){u.cont=xe,u.cancel()}),r=[])}return{addTask:c,cancelAll:l,abort:s,getTasks:function(){return r},taskNames:function(){return r.map(function(d){return d.name})}}}function $m(e){var t=e.context,n=e.fn,r=e.args;if(M.iterator(n))return n;var i=void 0,o=void 0;try{i=n.apply(t,r)}catch(s){o=s}return M.iterator(i)?i:io(o?function(){throw o}:(function(){var s=void 0,c={done:!1,value:i},l=function(d){return{done:!0,value:d}};return function(u){return s?l(u):(s=!0,c)}})())}var Bm=function(t){return{fn:t}};function Vo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return xe},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xe,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:xe,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"anonymous",l=arguments[8];Ee(e,M.iterator,Hm);var u=oo(Re),d=o.sagaMonitor,f=o.logger,p=o.onError,y=f||Qs,h=function(x){var O=x.sagaStack;!O&&x.stack&&(O=x.stack.split(`
`)[0].indexOf(x.message)!==-1?x.stack:"Error: "+x.message+`
`+x.stack),y("error","uncaught at "+c,O||x.message||x)},m=ef(t),T=Object.create(i);k.cancel=xe;var _=fe(s,c,e,l),S={name:c,cancel:I,isRunning:!0},A=Mm(c,S,L);function I(){S.isRunning&&!S.isCancelled&&(S.isCancelled=!0,k(pn))}function C(){e._isRunning&&!e._isCancelled&&(e._isCancelled=!0,A.cancelAll(),L(pn))}return l&&(l.cancel=C),e._isRunning=!0,k(),_;function k(N,x){if(!S.isRunning)throw new Error("Trying to resume an already finished generator");try{var O=void 0;x?O=e.throw(N):N===pn?(S.isCancelled=!0,k.cancel(),O=M.func(e.return)?e.return(pn):{done:!0,value:pn}):N===yi?O=M.func(e.return)?e.return():{done:!0}:O=e.next(N),O.done?(S.isMainRunning=!1,S.cont&&S.cont(O.value)):H(O.value,s,"",k)}catch(X){S.isCancelled&&h(X),S.isMainRunning=!1,S.cont(X,!0)}}function L(N,x){e._isRunning=!1,m.close(),x?(N instanceof Error&&Object.defineProperty(N,"sagaStack",{value:"at "+c+` 
 `+(N.sagaStack||N.stack),configurable:!0}),_.cont||(N instanceof Error&&p?p(N):h(N)),e._error=N,e._isAborted=!0,e._deferredEnd&&e._deferredEnd.reject(N)):(e._result=N,e._deferredEnd&&e._deferredEnd.resolve(N)),_.cont&&_.cont(N,x),_.joiners.forEach(function(O){return O.cb(N,x)}),_.joiners=null}function H(N,x){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",X=arguments[3],ee=Js();d&&d.effectTriggered({effectId:ee,parentEffectId:x,label:O,effect:N});var Z=void 0;function B(Oe,De){Z||(Z=!0,X.cancel=xe,d&&(De?d.effectRejected(ee,Oe):d.effectResolved(ee,Oe)),X(Oe,De))}B.cancel=xe,X.cancel=function(){if(!Z){Z=!0;try{B.cancel()}catch(Oe){h(Oe)}B.cancel=xe,d&&d.effectCancelled(ee)}};var j=void 0;return M.promise(N)?R(N,B):M.helper(N)?de(Bm(N),ee,B):M.iterator(N)?K(N,ee,c,B):M.array(N)?u(N,ee,B):(j=$e.take(N))?G(j,B):(j=$e.put(N))?ue(j,B):(j=$e.all(N))?Re(j,ee,B):(j=$e.race(N))?nt(j,ee,B):(j=$e.call(N))?w(j,ee,B):(j=$e.cps(N))?J(j,B):(j=$e.fork(N))?de(j,ee,B):(j=$e.join(N))?pe(j,B):(j=$e.cancel(N))?Ce(j,B):(j=$e.select(N))?Pe(j,B):(j=$e.actionChannel(N))?W(j,B):(j=$e.flush(N))?ie(j,B):(j=$e.cancelled(N))?Y(j,B):(j=$e.getContext(N))?_e(j,B):(j=$e.setContext(N))?oe(j,B):B(N)}function R(N,x){var O=N[qs];M.func(O)?x.cancel=O:M.func(N.abort)&&(x.cancel=function(){return N.abort()}),N.then(x,function(X){return x(X,!0)})}function K(N,x,O,X){Vo(N,t,n,r,T,o,x,O,X)}function G(N,x){var O=N.channel,X=N.pattern,ee=N.maybe;O=O||m;var Z=function(j){return j instanceof Error?x(j,!0):Jr(j)&&!ee?x(yi):x(j)};try{O.take(Z,Wo(X))}catch(B){return x(B,!0)}x.cancel=Z.cancel}function ue(N,x){var O=N.channel,X=N.action,ee=N.resolve;Sc(function(){var Z=void 0;try{Z=(O?O.put:n)(X)}catch(B){if(O||ee)return x(B,!0);h(B)}if(ee&&M.promise(Z))R(Z,x);else return x(Z)})}function w(N,x,O){var X=N.context,ee=N.fn,Z=N.args,B=void 0;try{B=ee.apply(X,Z)}catch(j){return O(j,!0)}return M.promise(B)?R(B,O):M.iterator(B)?K(B,x,ee.name,O):O(B)}function J(N,x){var O=N.context,X=N.fn,ee=N.args;try{var Z=function(j,Oe){return M.undef(j)?x(Oe):x(j,!0)};X.apply(O,ee.concat(Z)),Z.cancel&&(x.cancel=function(){return Z.cancel()})}catch(B){return x(B,!0)}}function de(N,x,O){var X=N.context,ee=N.fn,Z=N.args,B=N.detached,j=$m({context:X,fn:ee,args:Z});try{lo();var Oe=Vo(j,t,n,r,T,o,x,ee.name,B?null:xe);B?O(Oe):j._isRunning?(A.addTask(Oe),O(Oe)):j._error?A.abort(j._error):O(Oe)}finally{Cc()}}function pe(N,x){if(N.isRunning()){var O={task:_,cb:x};x.cancel=function(){return jr(N.joiners,O)},N.joiners.push(O)}else N.isAborted()?x(N.error(),!0):x(N.result())}function Ce(N,x){N===Ys&&(N=_),N.isRunning()&&N.cancel(),x()}function Re(N,x,O){var X=Object.keys(N);if(!X.length)return O(M.array(N)?[]:{});var ee=0,Z=void 0,B={},j={};function Oe(){ee===X.length&&(Z=!0,O(M.array(N)?Ld.from(jl({},B,{length:X.length})):B))}X.forEach(function(De){var ir=function(Ot,Hi){Z||(Hi||Jr(Ot)||Ot===yi||Ot===pn?(O.cancel(),O(Ot,Hi)):(B[De]=Ot,ee++,Oe()))};ir.cancel=xe,j[De]=ir}),O.cancel=function(){Z||(Z=!0,X.forEach(function(De){return j[De].cancel()}))},X.forEach(function(De){return H(N[De],x,De,j[De])})}function nt(N,x,O){var X=void 0,ee=Object.keys(N),Z={};ee.forEach(function(B){var j=function(De,ir){if(!X){if(ir)O.cancel(),O(De,!0);else if(!Jr(De)&&De!==yi&&De!==pn){var or;O.cancel(),X=!0;var Ot=(or={},or[B]=De,or);O(M.array(N)?[].slice.call(jl({},Ot,{length:ee.length})):Ot)}}};j.cancel=xe,Z[B]=j}),O.cancel=function(){X||(X=!0,ee.forEach(function(B){return Z[B].cancel()}))},ee.forEach(function(B){X||H(N[B],x,B,Z[B])})}function Pe(N,x){var O=N.selector,X=N.args;try{var ee=O.apply(void 0,[r()].concat(X));x(ee)}catch(Z){x(Z,!0)}}function W(N,x){var O=N.pattern,X=N.buffer,ee=Wo(O);ee.pattern=O,x(ar(t,X||xn.fixed(),ee))}function Y(N,x){x(!!S.isCancelled)}function ie(N,x){N.flush(x)}function _e(N,x){x(T[N])}function oe(N,x){no.assign(T,N),x()}function fe(N,x,O,X){var ee,Z,B;return O._deferredEnd=null,Z={},Z[Gs]=!0,Z.id=N,Z.name=x,ee="done",B={},B[ee]=B[ee]||{},B[ee].get=function(){if(O._deferredEnd)return O._deferredEnd.promise;var j=xd();return O._deferredEnd=j,O._isRunning||(O._error?j.reject(O._error):j.resolve(O._result)),j.promise},Z.cont=X,Z.joiners=[],Z.cancel=C,Z.isRunning=function(){return O._isRunning},Z.isCancelled=function(){return O._isCancelled},Z.isAborted=function(){return O._isAborted},Z.result=function(){return O._result},Z.error=function(){return O._error},Z.setContext=function(Oe){Ee(Oe,M.object,ec("task",Oe)),no.assign(T,Oe)},Um(Z,B),Z}}var Wm="runSaga(storeInterface, saga, ...args)",ql=Wm+": saga argument must be a Generator function!";function Vm(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=void 0;M.iterator(e)?(o=e,e=t):(Ee(t,M.func,ql),o=t.apply(void 0,r),Ee(o,M.iterator,ql));var s=e,c=s.subscribe,l=s.dispatch,u=s.getState,d=s.context,f=s.sagaMonitor,p=s.logger,y=s.onError,h=Js();f&&(f.effectTriggered=f.effectTriggered||xe,f.effectResolved=f.effectResolved||xe,f.effectRejected=f.effectRejected||xe,f.effectCancelled=f.effectCancelled||xe,f.actionDispatched=f.actionDispatched||xe,f.effectTriggered({effectId:h,root:!0,parentEffectId:0,effect:{root:!0,saga:t,args:r}}));var m=Vo(o,c,Ud(l),u,d,{sagaMonitor:f,logger:p,onError:y},h,t.name);return f&&f.effectResolved(h,m),m}function Gm(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function jm(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.context,n=t===void 0?{}:t,r=Gm(e,["context"]),i=r.sagaMonitor,o=r.logger,s=r.onError;if(M.func(r))throw new Error("Saga middleware no longer accept Generator functions. Use sagaMiddleware.run instead");if(o&&!M.func(o))throw new Error("`options.logger` passed to the Saga middleware is not a function!");if(s&&!M.func(s))throw new Error("`options.onError` passed to the Saga middleware is not a function!");if(r.emitter&&!M.func(r.emitter))throw new Error("`options.emitter` passed to the Saga middleware is not a function!");function c(l){var u=l.getState,d=l.dispatch,f=Jd();return f.emit=(r.emitter||Xs)(f.emit),c.run=Vm.bind(null,{context:n,subscribe:f.subscribe,dispatch:d,getState:u,sagaMonitor:i,logger:o,onError:s}),function(p){return function(y){i&&i.actionDispatched&&i.actionDispatched(y);var h=p(y);return f.emit(y),h}}}return c.run=function(){throw new Error("Before running a Saga, you must mount the Saga middleware on the Store using applyMiddleware")},c.setContext=function(l){Ee(l,M.object,ec("sagaMiddleware",l)),no.assign(n,l)},c}function D(e){return(t,{error:n,payload:r})=>n?t:e(t,r)}const qm={[yt.SET_SESSION]:D((e,t)=>({...e,session:{...e.session,...t}})),[yt.START_SESSION]:D(e=>({...e,session:{}}))};function Km({getState:e}){return t=>n=>{try{n.error&&Lt(e())(n.payload,{extra:n.payload.extra||{}})}catch{}finally{t(n)}}}const Ym=e=>(t,n)=>Object.prototype.hasOwnProperty.call(e,n.type)?e[n.type](t,n):t;function Ze(e,t){return{...e,currentContent:{...e.currentContent,...t}}}function St(e,t){return Ze(e,{state:{...e.currentContent.state,...t}})}function Ft(e,t,n){const r=At(e);return St(e,{children:{...r,[t]:{...r[t],...n}}})}function zm(e,t){const n=At(e);return St(e,{children:{...n,[t]:{}}})}const Xm={[$.START_INITIALIZE]:D((e,t)=>({...e,settings:{...e.settings,...t.settings},reporter:t.reporter})),[$.PREPARE_CONTENT]:D(e=>e.currentContent&&e.currentContent.status===Q.PENDING?Ze(e,{status:Q.STARTED}):e),[$.START_FLOW]:D((e,{flowId:t,url:n,eventChannel:r})=>Ze(e,{flowId:t,shownUrl:n,eventChannel:r})),[$.START_STEP]:D((e,{step:t,url:n})=>Ze(e,{stepId:t.id,shownUrl:n})),[$.START_EVENT]:D((e,{flowId:t,event:n})=>{if(t){const r=e.pendingEvents||{};return{...e,pendingEvents:{...r,[t]:[...r[t]||[],n]}}}return e}),[$.FINISHED_EVENT]:D((e,{flowId:t,event:n})=>{if(t&&e.pendingEvents&&e.pendingEvents[t]){const r=e.pendingEvents[t],i=r.indexOf(n);if(i>=0)return{...e,pendingEvents:{...e.pendingEvents,[t]:[...r.slice(0,i),...r.slice(i+1,r.length)]}}}return e}),[$.START_FORM_SUBMISSION]:D((e,{formId:t,fields:n})=>{const{state:r}=e.currentContent,{currentStepChildId:i,forms:o={}}=r;return St(e,{forms:{...o,[i]:{formId:t,fields:n}}})}),[hi.SET_COLLISION_MODE]:D((e,t)=>({...e,collisionMode:t.collisionMode,collisionCoordinates:t?.collisionCoordinates??{x:0,y:0}})),[Je.SAVE_ON_HOLD_LAUNCHPADS]:D((e,t)=>({...e,onHold:{launchpads:t}}))};function*Jm(e){try{yield tn(e)}catch(t){const n=yield v(Lt);try{n(t)}catch{}}}function*Qm(e,...t){const n=yield _t(e,...t);return yield _t(Jm,n),n}function dt(e,...t){return E(Qm,e,...t)}function*Zm(e,t){try{yield tn(t)}finally{yield g(Cm(e,t.id))}}function Kl(e,t){return`${e}-step:${t}`}function*Yl(e,t,n,...r){for(;;){const i=yield V(e),o=yield dt(t,...r,i);if(n){const s=typeof n=="function"?yield E(n):n;yield g(Sm(s,o)),yield _t(Zm,s,o)}}}function*te(e,t,...n){yield*Yl(e,t,!1,...n)}function*eE(e,t,n,...r){let i;for(;;){const o=yield V(e);i&&(yield rt(i)),i=yield dt(t,...r,o)}}function*et(e,t,...n){yield*eE(e,t,!1,...n)}function*tE(e){yield Ge(e)}function Gt(e,t,n){let r=n;return ne.defined(r)||(r=Date.now()),{name:e,attributes:t,timestamp:r}}function Ve(e){const t={...e},{id:n,timestamp:r}=t;return delete t.timestamp,delete t.id,delete t.actionId,delete t.name,Gt(`appcues:${n}`,t,r)}const ft=(e,t,n)=>{const r=e.context&&Object.keys(e.context)&&e.context.locale_name,i=e.context&&Object.keys(e.context)&&e.context.locale_id,{workflow_id:o,workflow_task_id:s}=e;return{flowId:e.id,flowName:e.name,flowType:e.type,flowVersion:e.version_id,...o?{workflowId:o}:{},...s?{workflowTaskId:s}:{},timestamp:Date.now(),sessionId:t,localeName:r,localeId:i,...n}},nE=e=>({timestamp:Date.now(),sessionId:e.id});function _r(e,t,n){return{checklistId:e.id,checklistName:e.internal_name,timestamp:Date.now(),sessionId:t,...n}}function zl(e,t,n,r){return{checklistId:e.id,checklistName:e.internal_name,checklistVersion:e.version_id,itemId:t.id,itemIndex:t.index,itemLabel:t.label,timestamp:Date.now(),sessionId:n,...r}}function hn(e,t,n,r){const i=ft(e,n);return Object.assign(i,{stepId:t.id,stepType:t.type,stepNumber:Hn(e,t.id)},r)}function Ir(e,t,n,r,i){const o=rn(t,n);return hn(e,t,r,{stepChildId:n,stepChildNumber:o,...i})}function Go(e,t,n,r,i,o){return Ir(e,t,n,o,{interactionType:r,interaction:i})}function rE(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function iE(e,t="_"){return e.split(t).map(n=>n.toLowerCase().charAt(0).toUpperCase()+n.slice(1)).join(" ")}function Se(e,t,n){const r=n||iE(e);return{id:e,name:r,...t}}function oE(e,t){return Se("flow_attempted",ft(e,t))}function Xl(e,t){return Se("flow_started",ft(e,t))}function sE(e,t){return Se("nps_survey_started",ft(e,t),"NPS Survey Started")}function cE(e,t){return Se("flow_completed",ft(e,t))}function lE(e,t,n){return Se("flow_skipped",ft(e,n,{stepId:t,stepNumber:Hn(e,t)}))}function aE(e,t){return Se("flow_aborted",ft(e,t))}function uE(e,t,n){return Se("step_attempted",hn(e,t,n))}function Jl(e,t,n){return Se("step_started",hn(e,t,n))}function dE(e,t,n){return Se("step_completed",hn(e,t,n))}function fE(e,t,n,r){return Se("step_skipped",hn(e,t,r,{stepChildId:n,stepChildNumber:rn(t,n)}))}function pE(e,t,n){return Se("step_aborted",hn(e,t,n))}function hE(e,t,n,r){return Se("step_child_activated",Ir(e,t,n,r))}function mE(e,t,n,r,i){return Se("step_child_deactivated",Ir(e,t,n,i,{timeSpent:r}))}function Ql(e,t,n,r,i,o){return Se("step_interacted",Go(e,t,n,r,i,o))}function EE(e,t,n,r){return Se("flow_error",ft(e,r,{error:t,details:n}))}function gE(e,t,n,r,i){return Se("step_error",hn(e,t,i,{error:n,details:r}))}function yE(e,t,n,r,i){return Se("step_child_error",Ir(e,t,n,i,{error:r}))}function SE(e,t,n,r){return Se("step_child_recovered",Ir(e,t,n,r))}function TE(e,t,n,r,i){return Se("form_submitted",Go(e,t,n,"submit",r,i))}function CE(e,t,n,r,i){return Se("form_field_submitted",Go(e,t,n,"submit",r,i))}function _E(e,t){return Se("checklist_shown",_r(e,t))}function IE(e,t){return Se("checklist_completed",_r(e,t))}function AE(e,t){return Se("checklist_skipped",_r(e,t))}function vE(e,t){return Se("checklist_dismissed",_r(e,t))}function bE(e,t){return Se("checklist_shown_manually",_r(e,t))}function wE(e,t,n){return Se("checklist_item_started",zl(e,t,n))}function NE(e,t,n){return Se("checklist_item_completed",zl(e,t,n))}function OE(e){return Se("session_started",nE(e))}function kE(e){return Se("experiment_entered",{experimentId:e.experiment_id,group:e.group})}const tt={EXPERIENCES:"experiences",FLOWS:"flows"};function*Zl(e,t){return(yield v(Hf))[t]?.[e]}function*ea(e,t){return(yield E(Zl,e,t))?.group==="control"}function*RE({payload:{id:e,type:t}}){const n=yield E(Zl,e,t);if(!n)return;const r=kE(n);yield g(Ue(n.flow_id,r)),yield g(we({},[Ve(r)],!1))}function*LE(){yield[F(te,U.EXPERIMENT_STARTED,RE)]}function xE(e,t){const n={callback:e};return t&&(n.context=t),n}function PE(e,t,n){let r=e;for(let i=0;i<r.length;r++)if(t.call(n,r[i],i,r))return i;return-1}function ta(e,t){return e.callback===t.callback&&e.context===t.context}function na(e,t){let n={};return n=t.type===z.ACTION?{status:Q.RUNNING,stepId:t.id}:{status:Q.ERROR,error:"Tried to run a non-action step."},Ze(e,n)}const DE={[U.INITIALIZE]:D((e,t)=>({...e,transport:{...e.transport,...t.transport,initialized:!0}})),[U.IDENTIFY]:D((e,t)=>e.user.userId===t?e:t==null?{...e,user:{}}:ne.defined(e.user.userId)?{...e,user:{userId:t}}:{...e,user:{...e.user,userId:t}}),[U.CONFIGURE_TRANSPORT]:D((e,t)=>({...e,transport:{...e.transport,details:{...e.transport.details,...t}}})),[U.UPDATE_USER]:D((e,t)=>{const n=be(e);let r;return r=t.merge?{...n,...t.profile}:t.profile,n.userId&&(r={...r,userId:n.userId}),{...e,user:r}}),[U.RESET]:D(e=>({...e,content:{},checklists:[],orderedContent:[],currentContent:null,user:{},requestId:null,debugger:null,lastCheckedForInitialContent:{},experiments:{[tt.FLOWS]:{},[tt.EXPERIENCES]:{}}})),[U.UPDATE_CONTENT]:D((e,{content:t,orderedContent:n})=>{let r=t;return r&&(r=Object.keys(r).reduce((i,o)=>{let s=r[o];if(Pn(s))for(let c=0;c<vc(s);c++){const l=Rt(s,c),u=nn(l);if(wc(l,u.length-1)){const d=Rt(s,c+1);if(dr(d)&&!ne.defined(d.attributes.params.initiated_by_user)){const f=s.attributes.steps[d.id];s={...s,...s.attributes&&{attributes:{...s.attributes,steps:{...s.attributes.steps,[d.id]:{...f,step:{...f.step,attributes:{...f.step.attributes,params:{...f.step.attributes.params,initiated_by_user:!0}}}}}}}}}}}return{...i,[o]:s}},{})),{...e,content:{...e.content,...r},orderedContent:n}}),[U.UPDATE_STYLES]:D((e,t)=>({...e,styles:{...e.styles,...t}})),[U.WILL_SHOW_CONTENT]:(e,t)=>{const n=se(e);if(t.error){let{orderedContent:r}=e;r&&(r=r.filter(o=>o!==sn(e)));const i={...e,currentContent:{...e.currentContent,status:Q.ERROR,error:t.payload.message},orderedContent:r};return delete i.currentContent.shownUrl,i}return n&&t.payload===n?Ze(e,{status:Q.WILL_SHOW}):e},[U.SHOW_CONTENT]:D(e=>Ze(e,{status:Q.SHOWING})),[U.WILL_CLOSE_CONTENT]:D(e=>Be(e)===Q.SHOWING?Ze(e,{status:Q.WILL_CLOSE}):e),[U.FETCHING_CONTENT]:(e,t)=>{const{contentId:n,url:r}=t.payload||{};return n?Ze(e,{status:Q.FETCHING,flowId:n,shownUrl:r}):e},[U.REGISTER_RENDERER]:D((e,t)=>({...e,views:{...e.views,renderers:{...e.views.renderers,...t}}})),[U.REGISTER_CALLBACKS]:D((e,t)=>({...e,views:{...e.views,callbacks:{...e.views.callbacks,...t}}})),[U.ADD_EVENT_LISTENER]:D((e,t)=>{const n={...e.eventListeners},{name:r}=t,i=xE(t.callback,t.context),o=n[r];if(o){if(o.some(s=>ta(s,i)))return e;n[r]=[...o,i]}else n[r]=[i];return{...e,eventListeners:n}}),[U.REMOVE_EVENT_LISTENER]:D((e,t)=>{const{name:n}=t,r=(e.eventListeners||{})[n]||[];if(t.callback){const i=PE(r,o=>ta(o,{callback:t.callback,context:t.context}));return i>-1?{...e,eventListeners:{...e.eventListeners,[n]:[...r.slice(0,i),...r.slice(i+1)]}}:e}return{...e,eventListeners:{...e.eventListeners,[n]:[]}}}),[U.COMPLETED_IDENTIFY]:D(e=>({...e,userIdentified:!0})),[U.STORE_TASK]:D((e,t)=>({...e,tasks:{...e.tasks,[t.key]:[...Qr(e,t.key)||[],t.task]}})),[U.CLEAR_TASKS]:D((e,t)=>Qr(e,t)?{...e,tasks:{...e.tasks,[t]:null}}:e),[U.CLEAR_TASK]:D((e,t)=>{const{key:n,id:r}=t,i=Qr(e,n);return i?{...e,tasks:{...e.tasks,[n]:i.filter(o=>o.id!==r)}}:e}),[U.CLEAR_CURRENT_CONTENT]:D(e=>({...e,currentContent:null})),[U.RUN_ACTION]:D((e,t)=>na(e,t)),[U.RESUME_ACTION]:D((e,t)=>na(e,t.action)),[U.CHECKED_FOR_INITIAL_CONTENT]:D((e,t)=>({...e,lastCheckedForInitialContent:t})),[U.SAVE_OPEN_BUILDER_INSTANCE]:D((e,t)=>({...e,Appcues:t,initializingOpenBuilder:!1})),[U.INITIALIZE_OPEN_BUILDER]:D(e=>({...e,initializingOpenBuilder:!0})),[U.SAVE_EXPERIMENTS]:D((e,t)=>{const n=t.reduce((r,i)=>(i.flow_id&&(r[tt.FLOWS][i.flow_id]=i),i.experience_id&&(r[tt.EXPERIENCES][i.experience_id]=i),r),{[tt.FLOWS]:{...e.experiments?.[tt.FLOWS]},[tt.EXPERIENCES]:{...e.experiments?.[tt.EXPERIENCES]}});return{...e,experiments:n}}),[U.SAVE_GROUP_PROPS]:D((e,t)=>({...e,...t}))},FE={[ae.INVALIDATE_FORM]:D((e,t)=>{if(Array.isArray(t)){const n=t.reduce((r,i)=>(r[i.fieldId]=i.messages,r),{});return St(e,{formErrors:n})}return e}),[ae.LOADED_CSS]:D((e,t)=>{switch($n(e)){case z.MODAL:case z.SATISFACTION_SURVEY:{const n=se(e);if(t===n)return St(e,{cssLoaded:!0});break}case z.HOTSPOTS:{if(At(e)[t])return Ft(e,t,{cssLoaded:!0});break}}return e}),[ae.RESIZE_CONTENT]:D((e,t)=>{if(e.currentContent){const{currentContent:n}=e,r=n.state,i=Math.ceil(t.height)+2,o=Math.ceil(t.width)+2;let s={};if(r&&r.children&&(s=r.children[t.id]||{}),s.height!==i||s.width!==o)return Ft(e,t.id,{height:i,width:o,lastResizeTs:t.ts})}return e}),[ae.ACTIVATED_STEP_CHILD]:D((e,t)=>e.currentContent&&st(e)===t.stepChildId?Ft(e,t.stepChildId,{activatedAt:t.timestamp}):e),[ae.DEACTIVATED_STEP_CHILD]:D((e,t)=>Eo(e,t)?Ft(e,t,{activatedAt:null}):e),[ae.SET_CURRENT_STEP_CHILD]:D((e,t)=>se(e)?St(e,{currentStepChildId:t,formErrors:null}):e),[ae.CLEAR_CURRENT_STEP_CHILD]:D(e=>se(e)?St(e,{currentStepChildId:null}):e),[ae.SET_CURRENT_STEP]:D((e,t)=>Ze(e,{stepId:t,status:Q.PENDING})),[ae.CLOSE_STEP]:D((e,t)=>sn(e)===t.flowId&&se(e)===t.stepId?Ze(e,{stepId:null,status:null,state:{}}):e),[ae.CLOSE_FLOW]:D((e,t)=>t.flowId===sn(e)?t.type===kt.CLEAR?{...e,currentContent:null}:{...e,orderedContent:e.orderedContent.slice(1),currentContent:null}:e),[ae.SET_PREVIOUS_ACTIVE_ELEMENT]:D((e,t)=>({...e,previousActiveElement:t.element})),[ae.SET_FORCE_FOCUS]:D((e,t)=>({...e,forceFocus:t.forceFocus})),[ae.CLEAR_CONTENT_STATE_CHILD]:D((e,t)=>zm(e,t.stepChildId))},UE={[pi.PREPARE_MODAL]:D(e=>ye(e).type===z.MODAL?{...e,currentContent:{...e.currentContent,state:{currentStepChildId:Xe(e)[0].id},status:Q.READY}}:e),[pi.RESIZE_MODAL_CONTENT]:D((e,t)=>{const n=pr(e);return e.currentContent?{...e,currentContent:{...e.currentContent,state:{...n,height:Math.ceil(t.height),width:Math.ceil(t.width)}}}:e})},HE={[Ae.PREPARE_SATISFACTION_SURVEY]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{currentStepChildId:Xe(e)[0]&&Xe(e)[0].id,surveyCollapsed:!1,askMeLaterSelected:!1,toastVisible:!1},status:Q.READY}}:e),[Ae.COLLAPSE_SATISFACTION_SURVEY]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,surveyCollapsed:!0,toastVisible:!1}}}:e),[Ae.EXPAND_SATISFACTION_SURVEY]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,surveyCollapsed:!1,toastVisible:!1}}}:e),[Ae.ASK_ME_LATER_SELECTED]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,askMeLaterSelected:!0,toastVisible:!1}}}:e),[Ae.SHOW_SATISFACTION_SURVEY_TOAST]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,toastVisible:!0}}}:e),[Ae.HIDE_SATISFACTION_SURVEY_TOAST]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,toastVisible:!1}}}:e),[Ae.QUANTITATIVE_QUESTION_SUBMITTED]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,lastSubmitted:"quantitative",toastVisible:!1}}}:e),[Ae.QUALITATIVE_QUESTION_SUBMITTED]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,lastSubmitted:"qualitative",toastVisible:!1}}}:e),[Ae.FEEDBACK_TEXT_CHANGED]:D((e,t)=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,feedbackText:t.feedback,toastVisible:!1}}}:e)};function Ar(){return Date.now()}function jo(e,t,n){if(t.length>0){let r=ei(e);return t.forEach(i=>{r={...r,[i]:{...r[i],...n(i)}}}),{...e,reportedErrors:{...e.reportedErrors,child:r}}}return e}const ME={[he.ADD_ACTIVE_ANNOTATIONS]:D((e,t)=>{if(e.currentContent){const n=(e.currentContent.state||{}).activeAnnotations||[];return St(e,{activeAnnotations:[...n,...t]})}return e}),[he.CONFIRM_SCROLLING]:D((e,t)=>St(e,{isScrollingToAnnotation:t})),[he.SET_ACTIVE_ANNOTATIONS_WILL_CLOSE]:D((e,t)=>{let n=e;return t.forEach(r=>{n=Ft(n,r,{willClose:!0})}),n}),[he.REMOVE_ACTIVE_ANNOTATIONS]:D((e,t)=>{if(e.currentContent){const n=(e.currentContent.state||{}).activeAnnotations||[];return St(e,{activeAnnotations:n.filter(r=>!t.includes(r))})}return e}),[he.SET_ANNOTATIONS_POSITIONS]:D((e,t)=>{const n={},r=At(e);return Object.keys(t).forEach(i=>{const o={...r[i],lastRepositionedTs:Ar()};delete o.error,delete o.errorMessage,n[i]=Object.assign(o,t[i])}),St(e,{children:n})}),[he.SET_ANNOTATIONS_READY]:D(e=>e.currentContent.state?Ze(e,{status:Q.READY,state:{...e.currentContent.state,retries:0}}):e),[he.SAVE_POSITION_DETAILS]:D((e,t)=>{let n=e;return Object.keys(t).forEach(r=>{n=Ft(n,r,{_prevPosition:t[r]})}),n}),[he.REPORTED_ANNOTATIONS_ERRORS]:D((e,t)=>jo(e,t,()=>({errorReported:!0}))),[he.REPORTED_ANNOTATIONS_RECOVERY]:D((e,t)=>jo(e,t,()=>({recoveryReported:!0}))),[he.SET_EXISTING_ANNOTATIONS_ERRORS]:D((e,t)=>jo(e,Object.keys(t||{}),n=>({existingError:t[n]}))),[he.SET_TOOLTIP_SETTLED]:D((e,t)=>Ft(e,t.id,{isTooltipSettled:t.isTooltipSettled}))},$E={[Vt.EXPAND_HOTSPOT]:D((e,t)=>se(e)?Ft(e,t,{expanded:!0}):e),[Vt.PREPARE_HOTSPOTS]:D(e=>{const t=ye(e);if(t.type===z.HOTSPOTS){const n=Xe(e);let r=[];return n&&n.length>0?(r=n.map(i=>i.id),Fn(t)&&(r=[]),Ze(e,{state:{...e.currentContent.state,activeAnnotations:r},status:Q.CALCULATING_POSITIONS})):Ze(e,{status:Q.ERROR,error:"Empty list of hotspots.",state:{...e.currentContent.state,activeAnnotations:r}})}return e}),[Vt.SET_BEACON_SETTLED]:D((e,t)=>Ft(e,t.id,{isBeaconSettled:t.isBeaconSettled}))};function vr(e,t,n){return{...e,debugger:{...e.debugger,[t]:n}}}function ra(e,t,n){return vr(e,"viewState",{...P(r=>r.debugger.viewState,{})(e),[t]:n})}function BE(e,t,n){return ra(e,"rowState",{...P(r=>r.debugger.viewState.rowState,{})(e),[t]:n})}const WE={[qe.TOGGLE_ROW_DETAILS]:D((e,t)=>{const n=P(r=>r.debugger.viewState.rowState[t],!1)(e);return BE(e,t,!n)}),[qe.TOGGLE_COLLAPSED]:D(e=>ra(e,"isCollapsed",e.debugger.viewState?!e.debugger.viewState.isCollapsed:!0)),[qe.SET_CURRENT_PAGE]:D((e,t)=>vr(e,"currentPage",t)),[qe.TRACK_PAGE]:D((e,t)=>vr(e,"lastTrackedPage",t)),[qe.ADD_CONTENT_ERROR]:D((e,t)=>vr(e,"contentErrors",[...bf(e),t])),[qe.ADD_CHILD_ERROR]:D((e,t)=>{const n=wf(e);return vr(e,"childErrors",{...n,[t.contentId]:{...n[t.contentId],[t.childId]:{errorMessage:t.errorMessage}}})}),[qe.CLOSE_DEBUGGER]:D(e=>({...e,debugger:null}))};function ia(e,t){return it(t,n=>n.id===e)}function Ut(e,t,n){const i={...ia(t,e.checklists),...n};return{...e,checklists:(e.checklists||[]).map(o=>o.id===t?i:o)}}const VE={[re.UPDATE_CHECKLISTS]:D((e,t)=>{const n=e.checklists||[];return t?{...e,checklists:t.map(r=>({...ia(r.id,n),id:r.id,internal_name:r.internal_name,attributes:r,status:r.status}))}:e}),[re.SET_CHECKLIST_STATUS]:D((e,t)=>{const n=e.checklists||[];return{...e,checklists:n.map(r=>r.id===t.id?{...r,status:t.status}:r)}}),[re.ANIMATE_IN_CHECKLIST]:D((e,t)=>Ut(e,t.id,{viewState:Bt.FIRSTVIEW})),[re.EXPAND_CHECKLIST]:D((e,t)=>Ut(e,t.checklistId,{viewState:Bt.EXPANDED})),[re.SET_EXPAND_CHECKLIST_LATER]:D((e,t)=>Ut(e,t.checklistId,{shouldTryExpandChecklist:t.shouldTryExpandChecklist})),[re.COLLAPSE_CHECKLIST]:D((e,t)=>Ut(e,t.checklistId,{viewState:Bt.COLLAPSED})),[re.SHOW_DISMISS_CONFIRMATION]:D((e,t)=>Ut(e,t.checklistId,{shouldShowConfirmDismiss:!0})),[re.CANCEL_DISMISS_CONFIRMATION]:D((e,t)=>Ut(e,t.checklistId,{shouldShowConfirmDismiss:!1})),[re.CONFIRM_DISMISS_CHECKLIST]:D((e,t)=>Ut(e,t.checklistId,{status:Q.DISMISSED,shouldShowConfirmDismiss:!1})),[re.SET_CHECKLIST_HEIGHT]:D((e,t)=>Ut(e,t.checklistId,{frameHeight:Math.ceil(t.height)})),[re.SET_CHECKLIST_WIDTH]:D((e,t)=>Ut(e,t.checklistId,{beaconWidth:Math.ceil(t.width)}))},GE={[Qn.LOADED_TEST_MODE_CSS]:D(e=>({...e,test:{cssLoaded:!0}}))},jE={[bt.LOADED_LAUNCHPAD]:D((e,{selector:t,position:n,header:r,footer:i,icon:o})=>({...e,widget:{selector:t,position:n,header:r,footer:i,icon:o,expanded:!1}})),[bt.UPDATED_WIDGET_HISTORY]:D((e,{history:t})=>({...e,widget:{...e.widget,history:t}})),[bt.UPDATED_WIDGET_FLOWS]:D((e,{flows:t})=>({...e,widget:{...e.widget,flows:t}})),[bt.TOGGLED_WIDGET]:D((e,{expanded:t})=>({...e,widget:{...e.widget,expanded:t}}))};function qE(e,t){const n=Ym({...Xm,...DE,...FE,...UE,...ME,...$E,...HE,...VE,...WE,...GE,...jE,...qm}),r=jm(),o=Dm(...[Km,r])(xm)(n,e);return t.forEach(s=>{r.run(s)}),r.setContext({dispatch:o.dispatch}),o}const oa=({width:e,height:t})=>a.svg("svg",{"attrs-viewBox":"0 0 38 45","attrs-width":e,"attrs-height":t},a.svg("g",{"attrs-fill":"#bebebe"},a.svg("polygon",{"attrs-points":"15.939 25.197 28.904 45.567 35.71 45.567 35.71 0 15.939 25.197"}),a.svg("polygon",{"attrs-points":"0 45.567 12.516 45.567 12.516 29.466 0 45.567"}))),KE="http://www.appcues.com/powered-by?utm_medium=embed-script&utm_campaign=powered-by-appcues",YE="https://www.appcues.com/nps-survey-software?utm_medium=branding&utm_campaign=powered-by";function qo({accountId:e,isNPS:t}){const n=`${t?YE:KE}&utm_source=${e}`;return a.html("div",{classNames:"appcues-powered-by-text"},a.html("a",{href:n,target:"_blank",rel:"noreferrer"},a.html(oa,{width:"10px",height:"10px"}),a.html("span",null,"Powered by Appcues")))}function Ko({text:e,success:t,hidden:n,onClick:r,attrs:i,style:o}){let s="appcues-button";t&&(s=`${s} appcues-button-success`);let c=o||{};n&&(c={...o,display:"none"});const l=d=>{(d.key===" "||d.key==="Enter")&&r(d)},u={};return r&&(u.click=r,u.keyup=l),a.html("a",{classNames:s,attrs:i,style:c,on:u},e)}var Yo,sa;function zE(){return sa||(sa=1,Yo=function(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}),Yo}var Si={},ca;function XE(){if(ca)return Si;ca=1;var e=Object.prototype.hasOwnProperty,t;function n(s){try{return decodeURIComponent(s.replace(/\+/g," "))}catch{return null}}function r(s){try{return encodeURIComponent(s)}catch{return null}}function i(s){for(var c=/([^=?#&]+)=?([^&]*)/g,l={},u;u=c.exec(s);){var d=n(u[1]),f=n(u[2]);d===null||f===null||d in l||(l[d]=f)}return l}function o(s,c){c=c||"";var l=[],u,d;typeof c!="string"&&(c="?");for(d in s)if(e.call(s,d)){if(u=s[d],!u&&(u===null||u===t||isNaN(u))&&(u=""),d=r(d),u=r(u),d===null||u===null)continue;l.push(d+"="+u)}return l.length?c+l.join("&"):""}return Si.stringify=o,Si.parse=i,Si}var zo,la;function JE(){if(la)return zo;la=1;var e=zE(),t=XE(),n=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,r=/[\n\r\t]/g,i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o=/:\d+$/,s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function l(S){return(S||"").toString().replace(n,"")}var u=[["#","hash"],["?","query"],function(A,I){return p(I.protocol)?A.replace(/\\/g,"/"):A},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};function f(S){var A;typeof window<"u"?A=window:typeof Jc<"u"?A=Jc:typeof self<"u"?A=self:A={};var I=A.location||{};S=S||I;var C={},k=typeof S,L;if(S.protocol==="blob:")C=new m(unescape(S.pathname),{});else if(k==="string"){C=new m(S,{});for(L in d)delete C[L]}else if(k==="object"){for(L in S)L in d||(C[L]=S[L]);C.slashes===void 0&&(C.slashes=i.test(S.href))}return C}function p(S){return S==="file:"||S==="ftp:"||S==="http:"||S==="https:"||S==="ws:"||S==="wss:"}function y(S,A){S=l(S),S=S.replace(r,""),A=A||{};var I=s.exec(S),C=I[1]?I[1].toLowerCase():"",k=!!I[2],L=!!I[3],H=0,R;return k?L?(R=I[2]+I[3]+I[4],H=I[2].length+I[3].length):(R=I[2]+I[4],H=I[2].length):L?(R=I[3]+I[4],H=I[3].length):R=I[4],C==="file:"?H>=2&&(R=R.slice(2)):p(C)?R=I[4]:C?k&&(R=R.slice(2)):H>=2&&p(A.protocol)&&(R=I[4]),{protocol:C,slashes:k||p(C),slashesCount:H,rest:R}}function h(S,A){if(S==="")return A;for(var I=(A||"/").split("/").slice(0,-1).concat(S.split("/")),C=I.length,k=I[C-1],L=!1,H=0;C--;)I[C]==="."?I.splice(C,1):I[C]===".."?(I.splice(C,1),H++):H&&(C===0&&(L=!0),I.splice(C,1),H--);return L&&I.unshift(""),(k==="."||k==="..")&&I.push(""),I.join("/")}function m(S,A,I){if(S=l(S),S=S.replace(r,""),!(this instanceof m))return new m(S,A,I);var C,k,L,H,R,K,G=u.slice(),ue=typeof A,w=this,J=0;for(ue!=="object"&&ue!=="string"&&(I=A,A=null),I&&typeof I!="function"&&(I=t.parse),A=f(A),k=y(S||"",A),C=!k.protocol&&!k.slashes,w.slashes=k.slashes||C&&A.slashes,w.protocol=k.protocol||A.protocol||"",S=k.rest,(k.protocol==="file:"&&(k.slashesCount!==2||c.test(S))||!k.slashes&&(k.protocol||k.slashesCount<2||!p(w.protocol)))&&(G[3]=[/(.*)/,"pathname"]);J<G.length;J++){if(H=G[J],typeof H=="function"){S=H(S,w);continue}L=H[0],K=H[1],L!==L?w[K]=S:typeof L=="string"?(R=L==="@"?S.lastIndexOf(L):S.indexOf(L),~R&&(typeof H[2]=="number"?(w[K]=S.slice(0,R),S=S.slice(R+H[2])):(w[K]=S.slice(R),S=S.slice(0,R)))):(R=L.exec(S))&&(w[K]=R[1],S=S.slice(0,R.index)),w[K]=w[K]||C&&H[3]&&A[K]||"",H[4]&&(w[K]=w[K].toLowerCase())}I&&(w.query=I(w.query)),C&&A.slashes&&w.pathname.charAt(0)!=="/"&&(w.pathname!==""||A.pathname!=="")&&(w.pathname=h(w.pathname,A.pathname)),w.pathname.charAt(0)!=="/"&&p(w.protocol)&&(w.pathname="/"+w.pathname),e(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(R=w.auth.indexOf(":"),~R?(w.username=w.auth.slice(0,R),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=w.auth.slice(R+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(w.auth)),w.auth=w.password?w.username+":"+w.password:w.username),w.origin=w.protocol!=="file:"&&p(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}function T(S,A,I){var C=this;switch(S){case"query":typeof A=="string"&&A.length&&(A=(I||t.parse)(A)),C[S]=A;break;case"port":C[S]=A,e(A,C.protocol)?A&&(C.host=C.hostname+":"+A):(C.host=C.hostname,C[S]="");break;case"hostname":C[S]=A,C.port&&(A+=":"+C.port),C.host=A;break;case"host":C[S]=A,o.test(A)?(A=A.split(":"),C.port=A.pop(),C.hostname=A.join(":")):(C.hostname=A,C.port="");break;case"protocol":C.protocol=A.toLowerCase(),C.slashes=!I;break;case"pathname":case"hash":if(A){var k=S==="pathname"?"/":"#";C[S]=A.charAt(0)!==k?k+A:A}else C[S]=A;break;case"username":case"password":C[S]=encodeURIComponent(A);break;case"auth":var L=A.indexOf(":");~L?(C.username=A.slice(0,L),C.username=encodeURIComponent(decodeURIComponent(C.username)),C.password=A.slice(L+1),C.password=encodeURIComponent(decodeURIComponent(C.password))):C.username=encodeURIComponent(decodeURIComponent(A))}for(var H=0;H<u.length;H++){var R=u[H];R[4]&&(C[R[1]]=C[R[1]].toLowerCase())}return C.auth=C.password?C.username+":"+C.password:C.username,C.origin=C.protocol!=="file:"&&p(C.protocol)&&C.host?C.protocol+"//"+C.host:"null",C.href=C.toString(),C}function _(S){(!S||typeof S!="function")&&(S=t.stringify);var A,I=this,C=I.host,k=I.protocol;k&&k.charAt(k.length-1)!==":"&&(k+=":");var L=k+(I.protocol&&I.slashes||p(I.protocol)?"//":"");return I.username?(L+=I.username,I.password&&(L+=":"+I.password),L+="@"):I.password?(L+=":"+I.password,L+="@"):I.protocol!=="file:"&&p(I.protocol)&&!C&&I.pathname!=="/"&&(L+="@"),(C[C.length-1]===":"||o.test(I.hostname)&&!I.port)&&(C+=":"),L+=C+I.pathname,A=typeof I.query=="object"?S(I.query):I.query,A&&(L+=A.charAt(0)!=="?"?"?"+A:A),I.hash&&(L+=I.hash),L}return m.prototype={set:T,toString:_},m.extractProtocol=y,m.location=f,m.trimLeft=l,m.qs=t,zo=m,zo}var QE=JE();const ZE=vo(QE);function ve(e){return new Promise(t=>{setTimeout(t,e)})}function jt(e,t,n){return ve(10).then(()=>{n?e.open(t):e.location.href=t})}const eg=/[$()+.?[\\\]^{|}]/g,tg=/\*/g,ng=/\\{\\{.*?\\}\\}/g,aa=".+",rg=/(\/$|\/(\?|#))$/,ig=/(\/\*)$/,og=/^(https?:)\/\//i;function sg(e){const{pathname:t,query:n,hash:r}=ZE(e);return`${t}${n}${r}`}function ua(e){return e?.replace(rg,"$2")}function cg(e="",t=""){return e.toLowerCase().trim()===t.toLowerCase().trim()}function lg(e="",t){const n=e.replace(eg,"\\$&").replace(tg,aa).replace(ng,aa);return og.test(n)?new RegExp(`${n}$`,"i").test(t):new RegExp(`^/?${n}$`,"i").test(sg(t))}function Tt(e="/",t="/"){const[n,r]=ig.test(e)?[e,t]:[ua(e),ua(t)];return cg(n,r)||lg(n,r)}function ag(){return window.location.href}function da(e){Ne(e,"target")!=="_blank"&&ge(e,"target","_parent")}function fa(e,t){const n=Ne(e,"href");if(n){const r=i=>{if(i.type==="keyup"&&i.key!==" "&&i.key!=="Enter")return;t(i,n);const o=Ne(e,"target");o!=="_blank"?(i.preventDefault(),window.setTimeout(()=>{const s=(c=>{switch(c){case"_parent":{const l=!!window.parent.location;return typeof window.parent=="string"||!l?window:window.parent}case"_top":return window.top;default:return window}})(o);jt(s,n)},200)):i.type==="keyup"&&o==="_blank"&&jt(window,n,!0)};gt(e,"click",r),gt(e,"keyup",r)}else gt(e,"click",t),gt(e,"keyup",r=>{(r.key===" "||r.key==="Enter")&&t(r)})}const pa="//twemoji.maxcdn.com/2/svg/",ug="//cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/",ha=new Set(["skip","skip-and-end-flow","end","prev","end-flow"]);function dg(e){return[...e.querySelectorAll("form.step-action-form .field[data-field-id]")]}function fg(e){const t=e.querySelector("form.step-action-form");return t?t.getAttribute("data-form-id"):null}const pg="pattern-title",hg=e=>{setTimeout(()=>{const[t]=ui(e.elm);if(t){ct(t);return}ct(e.elm)},500)};function Xo(e){No(e,"update",t=>{t.elm&&t.elm.focus()})}function mg(e){const{step:t,currentState:n,showBadge:r,accountId:i,isFirst:o,isLast:s,onComplete:c,onCompleteFlow:l,onNextStep:u,onPrevStep:d,onJumpStep:f,onLinkClick:p,onFormSubmission:y,onContentChange:h,onSkip:m,onHandleProfileUpdate:T,onHandleUserEvent:_,formatVersion:S,onSetNextContentIdCookie:A,showBackdrop:I}=e,C={LEFT:"LEFT",RIGHT:"RIGHT"},k={NEXT:"NEXT",BACK:"BACK"},L={NEXT:"Next",LAST:"OK, got it",BACK:"Back"},H=S===1;let R=t.step_buttons;(R==null||R.length===0)&&(R=[{text:Dt(t.next_text),type:k.NEXT,align:C.RIGHT},{text:Dt(t.prev_text),type:k.BACK,align:C.LEFT}]);let K=!1;const G=(W,Y,ie=s,_e=!1,oe=!1)=>{if(!K){Y();return}const fe=W.ownerDocument.documentElement.querySelector("cue.active > section");y(fg(fe),dg(fe),Y,ie,_e,oe)},ue=W=>{const Y=s?()=>c(W):()=>u(W,t.id);G(W.target,Y)},w=(W,Y,ie,_e)=>{G(Y,()=>f(W,ie,_e))},J=({ignoreValidation:W})=>Y=>{G(Y.target,()=>l(Y),!1,W)},de=W=>{d(W,t.id)},pe=W=>{switch(W){case k.BACK:return de;case k.NEXT:return ue;default:return null}},Ce=()=>{const Y=(n.forms||{})[n.currentStepChildId]||{},{fields:ie=[]}=Y;return ie},Re=Object.keys(n.formErrors||{}).reduce((W,Y)=>{const ie=Ce().findIndex(_e=>_e.fieldId===Y);return W<0?ie:Math.min(W,ie)},-1),nt=W=>{if(il(W)){const Y=Ne(W,"data-step"),ie=Ne(W,"href"),_e=Ne(W,"data-attrs-event"),oe=Ne(W,"data-attrs-profile-update"),fe=dn(W,"appcues-button"),N=Ne(W,"data-next-content-id"),x=[];if(N&&x.push(()=>A(N)),ie?(da(W),x.push(O=>p(O,t.id,ie))):(ge(W,"role","button"),ge(W,"tabindex","0")),oe)try{const O=JSON.parse(oe);Object.keys(O).length>0&&x.push(X=>{G(X.currentTarget,()=>T(O),!1,ha.has(Y),!0)})}catch{}if(_e)try{const O=JSON.parse(_e);Object.keys(O).length>0&&x.push(X=>{G(X.currentTarget,()=>_(O.event,O.properties),!1,ha.has(Y),!0)})}catch{}if(/^\d+$/.test(Y))x.push(O=>{w(O,W.elm,t.id,Number.parseInt(Y,10))});else if(Y){const O={end:c,next:ue,prev:de,skip:m,"skip-and-end-flow":J({ignoreValidation:!0}),"end-flow":J({ignoreValidation:!1})}[Y];O&&x.push(O)}fe&&ge(W,"tabindex","0"),sl(W,O=>{x.push(X=>{G(X.currentTarget,O,!1)})}),x.length>0&&fa(W,(O,X)=>{x.forEach(ee=>{ee(O,X)})})}if(ol(W)){ge(W,"crossOrigin","anonymous"),Ne(W,"alt")||(ge(W,"alt",""),ge(W,"role","presentation"));const ie=Ne(W,"src");if(ie?.includes(pa)){const _e=ie.replace(pa,ug);ge(W,"src",_e)}gt(W,"load",_e=>{if(h){const oe=_e.target.ownerDocument;window.requestAnimationFrame(()=>{h(oe.documentElement.querySelector("modal-container"))})}})}if(Bp(W)&&gt(W,"keypress",Y=>{if(Y.key==="Enter"&&Y.target.tagName!=="TEXTAREA"&&Y.target.type!=="radio"&&Y.target.type!=="checkbox"&&!(Y.target.classList.contains("rating-options")||Y.target.classList.contains("rating-option"))){const{currentTarget:ie}=Y;G(ie,s?()=>c(Y):()=>u(Y,t.id)),Y.preventDefault?Y.preventDefault():Y.returnValue=!1}}),dn(W,"form-field")){const Y=Ce();let ie;W.children.forEach(_e=>{_e.children&&_e.children.forEach(oe=>{dn(oe,"label-display")&&(ie=Ne(oe,"for"),ge(oe,"id",`label-${ie}`));const fe=Y.find(N=>N.fieldId===ie);if(dn(oe,"form-control")&&(ge(oe,"aria-invalid","false"),ie&&ge(oe,"id",ie),fe?.value&&ge(oe,"value",fe.value),ie===Y[Re]?.fieldId&&Xo(oe),K||No(oe,"insert",N=>{N.elm&&N.elm.focus()})),dn(oe,"field-options")){const N=Ne(oe,"data-type-role"),x=Ne(W,"data-max-selection");if(ge(oe,"role",N??"radiogroup"),ie&&(ge(oe,"aria-labelledby",`label-${ie}`),ge(oe,"tabindex","0")),Y){const O=oe.children.filter(X=>X.children&&X.children.find(({sel:ee})=>ee==="input"));O.forEach(X=>{gt(X,"keypress",ee=>{if(ee.key==="Enter"){const Z=X.children.find(({sel:B})=>B==="input");Z&&Z.elm&&Z.elm.click()}})}),x&&Number.parseInt(x,10)>0&&O.forEach(X=>{gt(X,"change",()=>{const ee=O.filter(Z=>Z.children.find(({sel:j})=>j==="input").elm.checked);O.forEach(Z=>{const B=Z.children.find(({sel:j})=>j==="input");!B.elm.checked&&ee.length>=x?B.elm.setAttribute("disabled",!0):B.elm.checked||B.elm.removeAttribute("disabled")})})})}if(Y&&fe?.value){const O=oe.children.find(X=>X.children&&X.children.find(({sel:ee})=>ee==="input").data?.attrs?.value===fe.value);if(O){const X=O.children.find(({sel:ee})=>ee==="input");ge(X,"checked",!0)}}ie===Y[Re]?.fieldId&&Xo(oe)}dn(oe,"rating-options")&&(ge(oe,"role","radiogroup"),ie&&(ge(oe,"aria-labelledby",`label-${ie}`),ge(oe,"tabindex","0")),oe.children.forEach(N=>{ge(N,"tabindex","0"),ge(N,"role","radio"),gt(N,"keydown",x=>{if((x.key===" "||x.key==="Enter")&&(x.stopPropagation(),N.children.forEach(O=>{$p(O)&&O&&O.elm&&O.elm.click()})),x.key==="ArrowRight"||x.key==="ArrowDown"){x.preventDefault();const O=N.elm.nextElementSibling;O?O.focus():oe.children[0]?.elm.focus()}if(x.key==="ArrowLeft"||x.key==="ArrowUp"){x.preventDefault();const O=N.elm.previousElementSibling;O?O.focus():oe.children[oe.children.length-1]?.elm.focus()}})}),ie===Y[Re]?.fieldId&&Xo(oe))})}),ie&&n.formErrors&&n.formErrors[ie]&&(Mp(W,"appcues-error"),W.children=[...W.children,a.html(Eg,{vnodeFormField:W.children,messages:n.formErrors[ie],fieldId:ie})]),K=!0}},Pe=Dt(t.html,{hooks:{create:nt}});return a.html("cue",{classNames:`active 
        ${t.actions_hidden?"appcues-actions-hidden":""}
        ${H?"":"full-buttons"}
      `},a.html("section",{"attrs-role":"dialog","attrs-aria-modal":I?"true":"false","attrs-aria-describedby":pg,"hook-insert":hg,"attrs-tabindex":"-1"},Pe||""),H?a.html("div",{classNames:`appcues-actions ${t.actions_hidden?"hidden":""}`},!t.prev_button_hidden&&!t.is_button_centered?a.html("div",{classNames:`appcues-actions-left ${t.next_button_hidden?"appcues-actions-full-row":""} `},R.filter(W=>W.align===C.LEFT&&W.isVisible!==!1).map(W=>a.html(Ko,{style:W.style?JSON.parse(W.style):void 0,text:W.text||L.BACK,hidden:o,attrs:{"data-step":"prev",role:"button",tabindex:"0"},onClick:pe(W.type)}))):a.html(le,null),t.next_button_hidden?a.html(le,null):a.html("div",{classNames:`appcues-actions-right ${t.prev_button_hidden||t.is_button_centered?"appcues-actions-full-row":""} ${t.is_button_centered?"appcues-actions-align-center":""}`},R.filter(W=>W.align===C.RIGHT&&W.isVisible!==!1).map(W=>a.html(Ko,{success:!0,style:W.style?JSON.parse(W.style):void 0,text:W.text||(s?L.LAST:L.NEXT),attrs:{"data-step":s?"end":"next",role:"button",tabindex:"0"},onClick:pe(W.type)})))):a.html(le,null),r?a.html(qo,{accountId:i}):a.html(le,null))}function Eg({messages:e,fieldId:t,vnodeFormField:n}){const r=n.find(o=>o.data?.class["field-controls"]);let i="";return e.forEach((o,s)=>{i+=`error-for-${t}-${s} `}),r&&(r.children[0].data.attrs["aria-invalid"]="true",r.children[0].data.attrs["aria-describedBy"]=i),a.html("ul",{classNames:"messages"},e.map((o,s)=>a.html("li",null,a.html("span",{id:`error-for-${t}-${s}`},o))))}function ma({onLoad:e=()=>null,styling:t}){return a.html("style",{classNames:"appcues-global-styling","attrs-type":"text/css","on-load":e},t||"")}const Jo=".appcues-content-outline-styling",Qo=({key:e,target:t})=>{const n=t.ownerDocument||t,r=n.documentElement?.querySelector(Jo)??n.querySelector(Jo);e==="Tab"&&(r.innerHTML="",n.removeEventListener("keydown",Qo))},gg=e=>{setTimeout(()=>{e.elm.ownerDocument.addEventListener("keydown",Qo)},200)},yg=e=>{e.elm.ownerDocument.removeEventListener("keydown",Qo)},Sg=`
  appcues cue > section *, .content * {
    outline: none;
  }
`;function Ea(){return a.html("style",{selector:Jo,"attrs-type":"text/css","hook-insert":gg,"hook-destroy":yg},Sg)}function ga(e,t){const n=o=>{o.key==="Escape"&&t()};return{addEscapeEventListener:o=>{if(!e||!o)return;const{elm:s}=o,c=s.ownerDocument;c&&c.addEventListener("keyup",n,!0),s.tagName==="IFRAME"&&setTimeout(()=>{const l=s.contentDocument;l&&l.addEventListener("keyup",n,!0)},100)},removeEscapeEventListener:o=>{if(!e||!o)return;const{elm:s}=o,c=s.ownerDocument;if(c&&c.removeEventListener("keyup",n,!0),s.tagName==="IFRAME"){const l=s.contentDocument;l&&l.removeEventListener("keyup",n,!0)}}}}function Zo(e,t,n,r){if(e.defaultView!==null&&r){const i=()=>r(t,e.documentElement.querySelector(n));ah(e.defaultView,i),window.setTimeout(i,200)}}const Tg="/generic/main/7.7.5/modal.5f4099830587e6584504e8ee75172b2f2fc9baf4.css",Cg="/generic/main/7.7.5/modal-step-legacy-render.5f4099830587e6584504e8ee75172b2f2fc9baf4.css",_g="1ap2xJXPA6+zfau+TTrgl+tyKnVZGWa7bl1nMr+fKvs=",Ig="f+k+n1UzKXzuja/FHkSACvNlJl9YXs1gpc/Z01OXj48=",Ag=Pt(Cg),Ti=Pt(Tg),ya=new Set(["shorty","slideout"]);function Sa(e){if(!e)return;const{style:t}=e,n=t.transform;t.transform=n==="scale(1) translateZ(0)"?"scale(1)":"scale(1) translateZ(0)",e.offsetHeight}function Ta(e){setTimeout(()=>{e.focus()},100)}const es=e=>{if(e.key==="Tab"){const t=document.documentElement.querySelector("appcues-container iframe").contentWindow.document,{activeElement:n}=t,r=ui(t.documentElement),i=r.length,o=r.indexOf(n);if(n===t.body){e.shiftKey&&(e.preventDefault(),Ta(r[i-1]));return}(e.shiftKey&&o===0||!e.shiftKey&&o===i-1)&&(e.preventDefault(),Ta(r[0]))}};function vg(e){const t=ye(e),n=pr(e),r=Be(e),i=Xe(e),o=st(e),s=Wt(e,o),c=i[s],l=t.attributes.pattern_type,u=t.attributes.is_progress_bar_hidden,{position:d}=t.attributes,{backdrop:f}=t.attributes,{skippable:p}=t.attributes,y=e.views.callbacks[z.MODAL],h=n.cssLoaded,m=lf(e),T=Rc(e),_=Mc(e),S=T||m,I=["modal","left","fullscreen"].lastIndexOf(l)>-1,C=I||f,k=di(e.settings),L=_===1,H=h&&ne.inArray([Q.SHOWING,Q.WILL_CLOSE],r),R=r!==Q.SHOWING,K={},G={};C||(K.height=(n.height||0)>2?`${n.height}px`:"150px",K.width=(n.width||0)>2?`${n.width}px`:"400px"),H||(K.opacity="0",K.visibility="hidden"),ya.has(l)&&(G.overflow="auto");const ue=Math.round((s+1)/i.length*1e3)/10,w={},J=[];for(const[fe,N]of i.entries()){w[`cue-step-${fe}`]=fe===s;const x=/<style.*?>((?:.|[\n\r])*?)<\/style>/g;let O;for(;(O=x.exec(N.html))!==null;)O.index===x.lastIndex&&(x.lastIndex+=1),J.push(O[1])}const de=fe=>{fe.target.tagName==="APPCUES"&&p&&l!=="fullscreen"&&y.onSkip()},pe=(fe,N)=>{const x=fe.target.ownerDocument;N?ai(x,Ti,()=>{y.onCSSLoaded(t.id,Ti,!0),I||Zo(x,t.id,"modal-container",y.onContentChange)}):y.onCSSLoaded(t.id,Ti,!1)},Ce=fe=>{Object.keys(n.formErrors||{}).length>0&&ya.has(l)||!I&&fe&&Math.abs(fe.getBoundingClientRect().height-Number.parseInt(n.height,10))>2&&y.onContentChange&&window.requestAnimationFrame(()=>y.onContentChange(t.id,fe))},{addEscapeEventListener:Re,removeEscapeEventListener:nt}=ga(p,y.onSkip),Pe=fe=>{window.requestAnimationFrame(y.onShow),C&&ch(document.documentElement.querySelector("body"),"appcues-noscroll"),window.requestAnimationFrame(()=>{ct(fe.elm),Sa(fe.elm)}),Re(fe)},W=fe=>{gl(Oc(e)),lh(document.documentElement.querySelector("body"),"appcues-noscroll"),nt(fe)},Y=a.html(wg,{percentComplete:ue,isProgressBarHidden:u,numberOfSteps:i.length,currentStep:s+1}),ie=a.html(bg,{skippable:p,onClick:y.onSkip}),_e=a.html(le,null),oe=a.html(mg,{step:c,key:`modal-step-${s}`,currentState:n,showBadge:k,accountId:e.settings.accountId,isFirst:s===0,isLast:s===i.length-1,onComplete:y.onComplete,onCompleteFlow:y.onCompleteFlow,onNextStep:y.onNextStep,onPrevStep:y.onPrevStep,onJumpStep:y.onJumpStep,onLinkClick:y.onLinkClick,onStepChildActivated:y.onStepChildActivated,onStepChildDeactivated:y.onStepChildDeactivated,onFormSubmission:y.onFormSubmission,onSetNextContentIdCookie:y.onSetNextContentIdCookie,onContentChange:Ce,onSkip:y.onSkip,onHandleProfileUpdate:y.onHandleProfileUpdate,onHandleUserEvent:y.onHandleUserEvent,formatVersion:_,showBackdrop:C});return a.html("appcues-container",{"attrs-data-pattern-type":l,"attrs-data-position":d,"attrs-tabindex":"0","class-appcues-ontop":!0,"class-appcues-fullscreen":C,"class-apc-hidden":R,classNames:`appcues--theme-${ho(e)||S.id||"-default"}`,style:K,"on-keydown":es},a.html("iframe",{"style-border":"none","style-display":"block","style-height":"100%","style-width":"100%","style-color-scheme":"none",srcdoc:'<meta name="referrer" content="origin" />',src:"about:blank","hook-insert":Pe,"hook-update":fe=>Sa(fe.elm),"hook-destroy":W,"attrs-allowfullscreen":!0,"attrs-mozallowfullscreen":!0,"attrs-webkitallowfullscreen":!0,"attrs-msallowfullscreen":!0},a.html("meta",{name:"referrer",content:"origin"}),a.html("link",{"attrs-href":Ti,"attrs-type":"text/css","attrs-rel":"stylesheet","attrs-integrity":_g,"attrs-crossorigin":"anonymous","on-load":fe=>{pe(fe,!0)},"on-error":fe=>{pe(fe,!1)}}),L?a.html("link",{"attrs-href":Ag,"attrs-type":"text/css","attrs-rel":"stylesheet","attrs-integrity":Ig,"attrs-crossorigin":"anonymous"}):a.html(le,null),a.html(Ea,null),a.html(ma,{styling:S.globalStyling}),a.html("style",{"attrs-type":"text/css",classNames:"extracted-step-styles"},J.join(`
`)),C?a.html(Ng,{patternType:l,hidden:R}):a.html(le,null),(()=>{let fe=a.html(le,null);return fe=I?a.html("appcues",{"class-active":!0,"class-apc-hidden":R,"class-fullscreen":C,class:w,"attrs-data-pattern-type":l,"on-click":de,"on-keydown":es},Y,ie,_e,oe):a.html("appcues",{"class-active":!0,"class-apc-hidden":R,"class-fullscreen":C,class:w,"attrs-data-pattern-type":l,"attrs-data-position":d,"on-click":de,"on-keydown":es,style:G},a.html("modal-container",{"class-fullscreen":C,"hook-update":N=>{Ce(N.elm)}},Y,ie,oe)),fe})()))}function bg({skippable:e,onClick:t}){if(e){const n=r=>{(r.key===" "||r.key==="Enter")&&t()};return a.html("div",{classNames:"appcues-skip"},a.html("a",{"attrs-data-step":"skip","on-keyup":n,"on-click":t,"attrs-aria-label":"Close modal","attrs-role":"button","attrs-tabindex":"0"},String.fromCodePoint(215)))}return a.html(le,null)}function wg({currentStep:e,numberOfSteps:t,percentComplete:n,isProgressBarHidden:r}){return r?a.html(le,null):a.html("div",{classNames:"appcues-progress"},a.html("div",{classNames:"appcues-progress-bar appcues-progress-bar-success","attrs-role":"progressbar","attrs-aria-label":"current step","attrs-aria-valuemin":1,"attrs-aria-valuemax":t,"attrs-aria-valuenow":e,"attrs-aria-valuetext":`You are on step ${e} of ${t}`,style:{width:`${n}%`}}))}function Ng({patternType:e,hidden:t}){return a.html("div",{"class-appcues-backdrop":!0,"class-apc-hidden":t,"attrs-data-pattern-type":e})}const Og="/generic/main/7.7.5/tooltip.5f4099830587e6584504e8ee75172b2f2fc9baf4.css",kg="igg3p8Bk45sB0Q7EEhfzxPQN6dMtsQ/8P1+LBIDEddE=",Ci=Pt(Og),Ca="//twemoji.maxcdn.com/2/svg/",Rg="//cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/",br="hs",_a="pattern-title",Ia="Hide these tips";function Lg(e,t){return{skippable:e.skippable,skipText:e.skipText,skippableDisplayType:e.skippableDisplayType||Qi.TEXT,onSkip:t.onSkip}}function ts(e){return!(!e||!e.skippable)}function Aa(e,t){return e?e===t:!1}function va(e){return ts(e)?Aa(e.skippableDisplayType,Qi.TEXT):!1}function xg(e){return ts(e)?Aa(e.skippableDisplayType,Qi.EXIT_SYMBOL):!1}function ba(e,t){if(!t)return{focusableElements:[],isBoundaryElement:()=>!1};const{activeElement:n,documentElement:r}=t,i=ui(r),o=i.indexOf(n);return{focusableElements:i,isBoundaryElement:()=>{const s=i.length;return e.shiftKey&&o===0||!e.shiftKey&&o===s-1}}}const wa=e=>{const t=dh(_a,!0),n=e.styling||{},r=e.width||0,i=e.height||0,o=Number.parseInt(e.zIndex,10),s={position:e.fixed?"fixed":"absolute",height:`${i}px`,width:`${r}px`,zIndex:Number.isNaN(o)?e.zIndex||"":o+1,border:"none"},c=e.callbacks||{},l=e.formatVersion===1,u=e.isTooltipSettled&&!e.willClose&&e.stepVisible&&e.isElementVisible,d=w=>{c.onNextButtonClick(w,e.id,e.isLast)},f=w=>{c.onPrevButtonClick(w,e.id)},p=w=>{c.onComplete(w,e.id)},y=w=>{c.onCompleteFlow(w,e.id)},h=(w,J)=>{const de=w.target.ownerDocument;J?ai(de,Ci,()=>{c.onCSSLoaded&&c.onCSSLoaded(e.id,Ci,!0),Zo(de,e.id,".tooltip",c.onContentChange)}):c.onCSSLoaded&&c.onCSSLoaded(e.id,Ci,!1)},m=w=>{if(t(w),il(w)){const J=Ne(w,"data-step"),de=Ne(w,"href"),pe=dn(w,"appcues-button"),Ce=Ne(w,"data-attrs-event"),Re=Ne(w,"data-attrs-profile-update"),nt=Ne(w,"data-next-content-id"),Pe=[];if(nt&&Pe.push(()=>c.onSetNextContentIdCookie(nt)),de?(da(w),Pe.push((Y,ie)=>{c.onLinkClick(e.id,ie)})):(ge(w,"role","button"),ge(w,"tabindex","0")),Re)try{const Y=JSON.parse(Re);Object.keys(Y).length>0&&Pe.push(()=>c.onHandleProfileUpdate(Y))}catch{}if(Ce)try{const Y=JSON.parse(Ce);Object.keys(Y).length>0&&Pe.push(()=>c.onHandleUserEvent(Y.event,Y.properties))}catch{}const W=Y=>(ie,_e)=>{window.setTimeout(()=>Y(ie,_e),1)};if(/^\d+$/.test(J))Pe.push(Y=>{c.onJumpStep(Y,e.id,Number.parseInt(J,10))});else if(J){const Y={end:p,next:d,prev:f,skip:c.onSkip,"skip-and-end-flow":y,"end-flow":y}[J];Y&&Pe.push(W(Y))}pe&&ge(w,"tabindex","0"),sl(w,Y=>{Pe.push(Y)}),Pe.length>0&&fa(w,(Y,ie)=>{Pe.forEach(_e=>{_e(Y,ie)})})}if(ol(w)){ge(w,"crossOrigin","anonymous"),Ne(w,"alt")||(ge(w,"alt",""),ge(w,"role","presentation"));const de=Ne(w,"src");if(de?.includes(Ca)){const pe=de.replace(Ca,Rg);ge(w,"src",pe)}gt(w,"load",pe=>{if(c.onContentChange){const Ce=pe.target.ownerDocument;window.requestAnimationFrame(()=>{c.onContentChange(e.id,Ce.documentElement.querySelector(".tooltip"))})}})}},T=Dt(e.html,{hooks:{create:m}});let _=e.tooltipAlignment;if(!_){let w="bottom";e.yRegion>1&&(w="top");let J="";e.xRegion===0?J="-right":e.xRegion===3&&(J="-left"),_=`${w}${J}`}const S={[`align-${_}`]:!0},A={[`content-${_}`]:!0};(_==="top"||_==="bottom")&&(s.left=`${e.x+Et/2-r/2}px`),(_==="left"||_==="right")&&(s.top=`${e.y-(i-Et-zi)/2}px`);const I=Ad+zi+_d/2+Id-Et/2;_.indexOf("left")>0?s.left=`${e.x-r+I+Et}px`:_.indexOf("right")>0?s.left=`${e.x-I}px`:_.indexOf("left")===0?s.left=`${e.x-r}px`:_.indexOf("right")===0&&(s.left=`${e.x+Et}px`),_.indexOf("top")>0?s.top=`${e.y-i+I+Et}px`:_.indexOf("bottom")>0?s.top=`${e.y-I+zi}px`:_.indexOf("top")===0?s.top=`${e.y-i}px`:_.indexOf("bottom")===0&&(s.top=`${e.y+Et}px`);const C=w=>{if(c.onContentChange){const{target:J}=w;window.requestAnimationFrame(()=>{document.documentElement.contains(J)&&c.onContentChange(e.id,J.contentDocument.documentElement.querySelector(".tooltip"))})}},k=Lg(e,c),{addEscapeEventListener:L,removeEscapeEventListener:H}=ga(ts(k),k.onSkip),R=w=>{if(w.key==="Tab"||[38,40,37,39].includes(w.keyCode)){w.stopPropagation();const de=(c.onClickOut||e.backdropSolidEdge?document.documentElement.querySelector(`#${br}-${e.id}`):document.documentElement)?.querySelector(".appcues-tooltip-container");if(de){const{contentDocument:pe}=de,{focusableElements:Ce,isBoundaryElement:Re}=ba(w,pe);if(Re())if(c.onClickOut)c.onClickOut(e.isLast);else{if(e.backdropSolidEdge){w.preventDefault(),ct(e.element);return}Ce.some(Pe=>Pe.classList.contains("appcues-button"))||ct(e.element)}!Ce.includes(w.target)&&e.isElementVisible&&(w.preventDefault(),ct(Ce[0]))}}};let K;const G=w=>{L(w),window.requestAnimationFrame(()=>ct(w.elm)),K=J=>{const pe=(c.onClickOut||e.backdropSolidEdge?document.documentElement.querySelector(`#${br}-${e.id}`):document.documentElement)?.querySelector(".appcues-tooltip-container");if(pe){const{contentDocument:Ce}=pe,{focusableElements:Re}=ba(J,Ce);Re.length>0&&ct(Re[0])}},e.element?.addEventListener("blur",K)},ue=w=>{!c.onClickOut&&e.element!==document.activeElement&&gl(e.previousActiveElement),H(w),e.element?.removeEventListener("blur",K)};return a.html("iframe",{src:"about:blank",classNames:"appcues-tooltip-container",style:s,class:S,"attrs-seamless":!0,"class-appcues-tooltip-hidden":e.hidden,"class-apc-hidden":!u,"on-load":C,"attrs-allowfullscreen":!0,"attrs-mozallowfullscreen":!0,"attrs-webkitallowfullscreen":!0,"attrs-msallowfullscreen":!0,"hook-insert":G,"hook-destroy":ue,"attrs-aria-hidden":!1,"style-color-scheme":"none"},a.html("link",{"attrs-href":Ci,"attrs-type":"text/css","attrs-rel":"stylesheet","attrs-integrity":kg,"attrs-crossorigin":"anonymous","on-load":w=>{h(w,!0)},"on-error":w=>{h(w,!1)}}),a.html(Ea,null),a.html(ma,{styling:n.globalStyling,onLoad:w=>{h(w,!0)}}),a.html("div",{"on-keydown":R,classNames:"tooltip","attrs-aria-label":cr.LABEL_TOOLTIP,"attrs-aria-modal":e.backdropSolidEdge,"attrs-aria-labelledby":_a,"attrs-role":"dialog","attrs-tabindex":"-1"},a.html("div",{classNames:"content",class:A},a.html("div",{classNames:"panel panel-default"},a.html("div",{classNames:"panel-content"},xg(k)?a.html(Fg,{skipText:k.skipText,onClick:k.onSkip}):"",T||""),l?a.html(Pg,{skipOptions:k,buttonText:e.buttonText,onButtonClick:d}):a.html(le,null),e.showPoweredBy?a.html(qo,{accountId:e.accountId}):a.html(le,null)))))};function Pg({skipOptions:e,buttonText:t,onButtonClick:n}){return!va(e)&&!t?a.html(le,null):a.html("div",{classNames:"panel-content panel-content-actions"},va(e)?a.html("div",{classNames:"appcues-actions-left"},a.html(Dg,{skipText:e.skipText,onClick:e.onSkip})):a.html(le,null),a.html("div",{classNames:"appcues-actions-right"},t?a.html(Ko,{text:Dt(t),success:!0,onClick:n,attrs:{role:"button",tabindex:"0"}}):a.html(le,null)))}const Na=(e,t)=>{(e.key===" "||e.key==="Enter")&&t()};function Dg({skipText:e,onClick:t}){return a.html("small",{"on-keyup":n=>{Na(n,t)},"attrs-role":"button","attrs-tabindex":"0","on-click":t,classNames:"text-muted appcues-skip","attrs-aria-label":e||Ia},a.html("span",{"attrs-aria-hidden":"true"},String.fromCodePoint(8856)," "),e?Dt(e):Ia)}function Fg({onClick:e}){return a.html("div",{"attrs-role":"button","on-keyup":t=>{Na(t,e)},"attrs-tabindex":"0",classNames:"exit-tooltip-container","on-click":e,"attrs-aria-label":"Close tooltip"},a.html("a",{classNames:"exit-tooltip","attrs-aria-hidden":"true"},""))}function Ug({color:e,zIndex:t}){return a.svg("svg",{"class-beacon":!0,"attrs-width":`${Et}px`,"attrs-height":`${Et}px`,"attrs-viewBox":"0 0 24 24",style:{zIndex:t}},a.svg("g",{"attrs-stroke":"none","attrs-stroke-width":"1","attrs-fill":"none","attrs-fill-rule":"evenodd","attrs-transform":"translate(3, 3)"},a.svg("circle",{"attrs-fill":e,"attrs-cx":"9","attrs-cy":"9","attrs-r":"9"}),a.svg("path",{"attrs-d":"M9.8 9.7L9.8 10.7C9.8 11.1 9.5 11.5 9 11.5L9 11.5C8.6 11.5 8.2 11.1 8.2 10.7L8.2 9.1C8.2 8.7 8.5 8.3 8.9 8.3L9 8.2C10.7 7.9 11.4 7.4 11.4 6.6 11.4 5.8 10.3 5 9 5 7.7 5 6.7 5.7 6.6 6.5 6.6 7 6.2 7.3 5.7 7.3 5.3 7.2 4.9 6.8 5 6.4 5.1 4.7 6.9 3.4 9 3.4 11.2 3.4 13.1 4.8 13.1 6.6 13.1 8.2 12 9.2 9.8 9.7L9.8 9.7Z","attrs-fill":"#FFFFFF"}),a.svg("path",{"attrs-d":"M9.6 14.5C9.4 14.6 9.2 14.7 9 14.7 8.8 14.7 8.6 14.6 8.5 14.5 8.3 14.3 8.2 14.1 8.2 13.9 8.2 13.7 8.3 13.5 8.5 13.3 8.8 13 9.3 13 9.6 13.3 9.7 13.5 9.8 13.7 9.8 13.9 9.8 14.1 9.7 14.3 9.6 14.5L9.6 14.5Z","attrs-fill":"#FFFFFF"})))}function Hg({color:e,outerBeaconClasses:t,zIndex:n,visibility:r}){return a.svg("svg",{"class-beacon":!0,"attrs-width":`${Et}px`,"attrs-height":`${Et}px`,"attrs-viewBox":"0 0 24 24",style:{zIndex:n,visibility:r}},a.svg("g",{"attrs-stroke":"none","attrs-stroke-width":"1","attrs-fill":"none","attrs-fill-rule":"evenodd"},a.svg("circle",{"class-beacon-inner":!0,"attrs-fill":e,"attrs-cx":"12","attrs-cy":"12","attrs-r":"6"}),a.svg("circle",{"class-beacon-outer":!0,class:t,"attrs-stroke":e,"attrs-stroke-width":"2","attrs-cx":"12","attrs-cy":"12","attrs-r":"11"})))}function Mg(e={}){if(e.iconType==="question")return Ug(e);const t=e.iconType==="hidden"?"hidden":"visible";return Hg({visibility:t,...e})}function $g(e){const t=e.styling||{},n=e.color||t.globalBeaconColor||"#FF765C",r=e[e.settledKey]&&!e.willClose&&e.stepVisible&&e.isElementVisible;let i=e.zIndexOverride||(!e.fixed&&(e.zIndex==="auto"||e.zIndex==="")?Rn-1:e.zIndex||"");i=e.backdrop?Rn-1:i;const o={position:e.fixed?"fixed":"absolute",left:`${e.x}px`,top:`${e.y}px`,zIndex:i},s=e.callbacks||{},c=()=>{!e.isActivated&&s.onFirstInsert&&window.requestAnimationFrame(()=>s.onFirstInsert(e.id,e.isFirst))},l=m=>{if(m.key==="Tab"){const _=document.documentElement.querySelector(`#${br}-${e.id}`).querySelector(".appcues-tooltip-container").contentDocument,{activeElement:S}=_,A=ui(_.documentElement);S===_.body&&A.length===0&&e.callbacks.onClickOut(e.isLast)}},u=m=>{if(s.onBeaconClick){const T=m.target.ownerDocument.documentElement.querySelector(`#${br}-${e.id} iframe`);let _=null;T&&T.contentDocument&&(_=T.contentDocument.documentElement.querySelector(".tooltip")),s.onBeaconClick(e.id,_,e.isLast,e.isLastUnexpanded),m.stopPropagation(),e.callbacks.onClickOut&&T.contentDocument.addEventListener("keydown",l)}},d={[t.hotspotClass||"hotspot"]:!0},f={[t.globalHotspotAnimation||"hotspot-animation-none"]:!0},p=e.beaconStyle||t.globalBeaconStyle||"hotspot",y=p==="hidden",h=m=>{(m.key===" "||m.key==="Enter")&&(m.preventDefault(),u(m))};return a.html("div",{class:d,"class-apc-hidden":!r,"class-apc-beacon-hidden":y,"attrs-id":`${br}-${e.id}`,"attrs-aria-haspopup":cr.HASPOPUP_TOOLTIP,role:cr.ROLE_TOOLTIP,"attrs-aria-label":"Hotspot (open by clicking or pressing space/enter)","hook-insert":c},a.html("div",{"attrs-tabindex":"0",classNames:"beacon-container",style:o,"on-keydown":h,"on-mouseup":u},a.html(Mg,{iconType:p,color:n,outerBeaconClasses:f,zIndex:i})),a.html(wa,{...e,zIndex:i,hidden:!e.expanded||!e.cssLoaded}))}const wr=1500,Bg=e=>{const t="apc-spotlight",n=Math.max(document.documentElement.scrollHeight,document.documentElement.clientHeight,window.innerHeight),r=Math.max(document.documentElement.scrollWidth,document.documentElement.clientWidth),i=document&&document.body&&document.body.scrollTop?document.body.scrollTop:0,o=e.backdropSolidEdgeBorderRadius||0,s=e.backdropSolidEdgeXPadding||0,c=e.backdropSolidEdgeYPadding||0,l=e.elementBoundingRect||{height:0,width:0},u=(p,y,h,m)=>({top:`${p}px`,left:`${y}px`,width:`${h}px`,height:`${m}px`,background:`rgba(0,0,0,${e.backdropSolidEdgeOpacity})`,position:"absolute",pointerEvents:"all"}),d=e.boundingRect||{top:0,left:0},f={container:{position:e.fixed?"fixed":"absolute",zIndex:Rn-1e3,top:"0",left:"0",pointerEvents:"none",height:`${n}px`,width:`${r}px`},elemContainer:{position:"absolute",top:`${d.top-c}px`,left:`${d.left-s}px`,width:`${l.width+2*s}px`,height:`${l.height+2*c}px`,overflow:"hidden",pointerEvents:"none"},elemWrapper:{position:"relative",width:`${l.width+2*s}px`,height:`${l.height+2*c}px`,boxShadow:`0px 0px 0px 2000px rgba(0,0,0,${e.backdropSolidEdgeOpacity})`,borderRadius:`${o}px`,pointerEvents:"none"},backdropLeftPanel:u(0,0,d.left-s,n+i),backdropTopPanel:u(0,d.left-s,l.width+2*s,d.top-c),backdropRightPanel:u(0,d.right+s,r-(d.right+s),n+i),backdropBottomPanel:u(d.bottom+c,d.left-s,l.width+2*s,n+i-(d.bottom+c))};return a.html("div",{style:f.container,classNames:"apc-solid-edge apc-sequential-backdrop",key:e.id},a.html("div",{style:f.elemContainer},a.html("div",{style:f.elemWrapper,classNames:"apc-spotlight"})),a.html("div",{style:f.backdropLeftPanel,classNames:t}),a.html("div",{style:f.backdropRightPanel,classNames:t}),a.html("div",{style:f.backdropTopPanel,classNames:t}),a.html("div",{style:f.backdropBottomPanel,classNames:t}))},Wg=({annotation:e,isScrollingToAnnotation:t})=>{const{backdrop:n,backdropSolidEdge:r,backdropSolidEdgeOpacity:i,cssLoaded:o,isActivated:s,isElementVisible:c}=e;if(!n)return a.html(le,null);if(t)return a.html("div",{className:"apc-full-backdrop apc-sequential-backdrop","data-testid":"full-backdrop",style:{top:"0",left:"0",width:"100vw",height:"100vh",background:`rgba(0,0,0,${i})`,position:"fixed",pointerEvents:r?"all":"none",zIndex:Rn}});const l=e.boundingRect||{top:0,left:0},u=e.elementBoundingRect||{height:0,width:0},d={position:e.fixed?"fixed":"absolute",pointerEvents:"none",top:"0px",left:"0px",overflow:"hidden",height:`${Math.max(document.documentElement.scrollHeight,document.documentElement.clientHeight,window.innerHeight)}px`,width:`${Math.max(document.documentElement.scrollWidth,document.documentElement.clientWidth)}px`,zIndex:Rn-1e3},f=u.width?u.width+2*wr:0,p=u.height?u.height+2*wr:0,y={position:"relative",top:`${l.top-wr}px`,left:`${l.left-wr}px`,height:`${p}px`,width:`${f}px`,boxSizing:"border-box",border:`${wr}px solid transparent`,pointerEvents:"none",borderImage:`radial-gradient(transparent 2%, rgba(0, 0, 0, ${i}) 28%) 49% 49% 49% 49%`,boxShadow:`0 0 0 2500px rgba(0, 0, 0, ${i})`,zIndex:Rn-1e3};return o&&s&&c?r?Bg(e):a.html("div",{style:d},a.html("div",{style:y,classNames:"apc-animated-backdrop apc-spotlight apc-sequential-backdrop"})):a.html(le,null)};function Vg(e){return e.annotations.map(t=>{let n=t;if(n={...n,...e.annotationsState[n.id],html:n.html,showPoweredBy:di(e.settings),accountId:e.settings.accountId,styling:n.style||e.settings.styling},e.activeAnnotations.includes(n.id)&&!n.error)switch(n.type){case"hotspot":return a.html("div",{classNames:"apc-sequential-hotspot"},a.html(Wg,{annotation:n,isScrollingToAnnotation:e.isScrollingToAnnotation}),a.html($g,{...n,key:n.id,callbacks:e.callbacks,previousActiveElement:e.previousActiveElement,shouldForceFocus:e.shouldForceFocus}));case"tooltip":default:return a.html(wa,{...n,key:n.id,callbacks:e.callbacks})}return null}).filter(t=>t!==null)}const Oa=".appcues-beacon-outline-styling",ns=({key:e})=>{const t=document.documentElement.querySelector(Oa);e==="Tab"&&(t.innerHTML="",document.removeEventListener("keydown",ns))},Gg=()=>{document.addEventListener("keydown",ns)},jg=()=>{document.removeEventListener("keydown",ns)},qg=`
  .beacon-container:focus, .beacon:focus {
    outline: none;
  }
`;function Kg(){return a.html("style",{selector:Oa,"attrs-type":"text/css","hook-insert":Gg,"hook-destroy":jg},qg)}function ka(e,t){const n=Bn(e);return n.length===1&&n.indexOf(t)===0}function Yg(e){const t=Bn(e),n=At(e);return t.filter(r=>n[r]&&!n[r].activatedAt)}function Ra(e,t,n){if(t){const r=i=>{const o=i.target.ownerDocument.documentElement.querySelector("appcues-layer .hotspots");o&&!o.contains(i.target)&&t(ka(n,st(n)))};e.data.onClickOut=r,document.addEventListener("click",r)}}function La(e){e.data.onClickOut&&document.removeEventListener("click",e.data.onClickOut)}function xa(e,t,n){const r=ye(e),i=Be(e),o=e.settings||{},s=Rc(e)||o.styling||{},c=Mc(e),l=Xe(e).map(f=>({id:f.id,type:"hotspot",beaconStyle:r.attributes.beacon_style,skippable:r.attributes.skippable,skippableDisplayType:r.attributes.skippable_display_type,backdrop:r.attributes.backdrop,backdropSolidEdge:r.attributes.backdrop_solid_edge,backdropSolidEdgeBorderRadius:f.backdrop_solid_edge_border_radius,backdropSolidEdgeXPadding:f.backdrop_solid_edge_x_padding,backdropSolidEdgeYPadding:f.backdrop_solid_edge_y_padding,backdropSolidEdgeOpacity:r.attributes.backdrop_solid_edge_opacity,stepVisible:i===Q.SHOWING,tooltipAlignment:f.tooltip_alignment,skipText:f.skip_text,html:f.html,style:s,isActivated:Eo(e,f.id),settledKey:r.attributes.sequential?"isTooltipSettled":"isBeaconSettled",zIndexOverride:f.z_index_override,formatVersion:c,...n(f)})),u=f=>{Ra(f,t.onClickOut,e),window.requestAnimationFrame(t.onShow)},d=(f,p)=>{La(f),Ra(p,t.onClickOut,e)};return a.html("appcues-layer",{classNames:`appcues--theme-${ho(e)||s.id||"-default"}`},a.html("style",{classNames:"appcues-global-hotspot-styling","attrs-type":"text/css"},s.globalHotspotStyling||""),a.html("style",null,`
          .apc-sequential-hotspot ~ .apc-sequential-hotspot .apc-sequential-backdrop {
            opacity: 0;
            visibility: hidden;
            display: none;
          }
          `),a.html(Kg,null),a.html("div",{classNames:"hotspots appcues-hotspots","hook-insert":u,"hook-destroy":f=>{La(f)},"hook-update":d},a.html(Vg,{annotations:l,previousActiveElement:Oc(e),shouldForceFocus:cf(e),annotationsState:At(e),activeAnnotations:Bn(e),callbacks:t,settings:o,isScrollingToAnnotation:_f(e)})))}function zg(e){const t=Yg(e);return xa(e,e.views.callbacks[z.HOTSPOTS],n=>({isLast:ka(e,n.id),isLastUnexpanded:t.length===1&&t.indexOf(n.id)===0}))}function Pa(e,t){return Wt(e,t)===Xe(e).length-1}function Xg(e){return xa(e,e.views.callbacks[z.SEQUENTIAL_HOTSPOTS],t=>{const n=t.next_text||(Pa(e,t.id)?"Close":"Next");return{stepsInGroup:Cf(e),buttonText:t.hide_next_button?null:n,isLast:Pa(e,t.id),isFirst:Wt(e,t.id)===0}})}function Jg(e){const t=ye(e);return Fn(t)?Xg(e):zg(e)}const Qg={click:e=>{e.stopPropagation(),e.preventDefault(),e.target.control.checked=!0,e.target.form.requestSubmit()}};function Zg(e){const{optionNumber:t,ctaStyles:n}=e,r=`option-#${t}`;return a.html("div",{classNames:"nps-number-option"},a.html("input",{name:"nps-options",classNames:"nps-number-input",id:r,value:t,type:"radio"}),a.html("label",{classNames:"nps-number-link",style:n,test:"test",attrs:{for:r},on:Qg},t))}const Da={click:e=>{e.stopPropagation(),e.preventDefault()}};function ey(e){const{onNextStep:n,onStartCollapsing:r,onCollapse:i,onQuantitativeQuestionSubmitted:o,onAskMeLaterSelected:s,step:c,askMeLaterTextOverride:l,notLikelyTextOverride:u,veryLikelyTextOverride:d,doCollapseBeforeNextStep:f}=e,p=l||"Ask Me Later",y=u||"Not likely",h=d||"Very likely",m=I=>{f&&r(),o(I),n()},T=I=>{I.preventDefault();const k=new FormData(I.target).get("nps-options");k!==null&&m(Number.parseInt(k,10))},_={click:()=>{i(),s()},keydown:I=>{(I.key===" "||I.key==="Enter")&&(i(),s())}},S=[];for(let I=0;I<=10;I++)S.push(I);const A=c.question_text;return a.html("div",null,a.html("div",null,a.html("a",{"attrs-role":"button",classNames:"ask-me-later",id:"ask-me-later",on:_,"attrs-tabindex":"0"},a.html("div",{classNames:"close-icon"},""),a.html("div",{classNames:"ask-me-later-text"},p))),a.html("div",{classNames:"quantitative-question",id:"quantitative-question"},a.html("div",{classNames:"question-text",id:"quantitative-question-text"},A),a.html("form",{name:"NPS options","on-submit":T},a.html("fieldset",{classNames:"nps-options","attrs-aria-labelledby":"quantitative-question-text",role:"radiogroup",on:{change:I=>{I.type!=="submit"&&(I.preventDefault(),I.stopPropagation())}}},S.map(I=>a.html(Zg,{...e,optionNumber:I})),a.html("input",{type:"submit",value:"Submit",hidden:!0}))),a.html("div",{classNames:"context-hints"},a.html("label",{classNames:"not-likely-hint",htmlFor:"option-#0",on:Da},y),a.html("label",{classNames:"very-likely-hint",htmlFor:"option-#10",on:Da},h))))}function ty(e){const{onPrevStep:t,onCollapse:n,onQualitativeQuestionSubmitted:r,onFeedbackTextChanged:i,onStartCollapsing:o,ctaStyles:s,step:c,updateTextOverride:l,cancelTextOverride:u,submitTextOverride:d,textAreaStyles:f,feedbackText:p,accountId:y,showBadge:h,isCollapsed:m}=e,T=l||"Update Your Score",_=u||"Close",S=d||"Submit",A={click:()=>{t()},keydown:G=>{(G.key===" "||G.key==="Enter")&&t()}},I={click:()=>{n()},keydown:G=>{(G.key===" "||G.key==="Enter")&&n()}},C={click:()=>{r(p),o()},keydown:G=>{G.repeat||(G.key===" "||G.key==="Enter")&&(r(p),o())}},k={change:G=>{i(G.target.value)},keyup:G=>{i(G.target.value)}},L=500,H=!p||p.trim().length<=0,R=p?p.length:0,K=R>L;return a.html("div",null,a.html("div",null,a.html("a",{"attrs-role":"button",classNames:"ask-me-later",tabIndex:m?"-1":"0",on:I},a.html("div",{classNames:"close-icon"},""),a.html("div",{classNames:"ask-me-later-text"},_)),a.html("a",{"attrs-role":"button",tabIndex:m?"-1":"0",classNames:"back-to-nps",id:"back-to-nps",on:A},T)),a.html("div",{classNames:"qualitative-question",id:"qualitative-question"},a.html("div",{classNames:"question-text",id:"qualitative-question-text"},c.question_text),a.html("div",null,a.html("textarea",{tabIndex:m?"-1":"0","attrs-aria-labelledby":"qualitative-question-text",id:"feedback-box",style:f,value:p,on:k})),a.html("div",{classNames:"buttons"},a.html("div",{classNames:"appcues-powdered-by-wrapper"},h?a.html(qo,{isNPS:!0,accountId:y}):a.html(le,null)),a.html("div",null,a.html("div",{classNames:"character-count"},a.html("span",{classNames:`numerator-character-count ${K||H?"disabled":""}`},R)," ","/ ",L),a.html("a",{"attrs-role":"button",tabIndex:m?"-1":"0",on:C,classNames:`submit-button ${K?"disabled":""}`,style:s},S)))))}function ny(e){const{lastSubmitted:t,inlineStyles:n,toastMessage:r,show:i}=e,o="Thanks!",s={quantitative:" Thanks! Have any additional feedback?",qualitative:o},c=a.html("span",null," ",r||s[t]||o," ");return a.html("div",{classNames:"confirmation-toast",id:"confirmation-toast",style:i?{...n,opacity:"0",transition:"opacity 0.4s",delayed:{opacity:"1"}}:{...n,transition:"opacity 0.2s",delayed:{opacity:"0"}}},c)}function ry(e){const{accountId:t,step:n,onNextStep:r,onPrevStep:i,onStartCollapsing:o,onCollapse:s,onUpdate:c,onExpand:l,onShowToast:u,onHideToast:d,onQuantitativeQuestionSubmitted:f,onQualitativeQuestionSubmitted:p,onFeedbackTextChanged:y,onAskMeLaterSelected:h,currentState:m,showBadge:T}=e,_=n.background_color||"#FFFFFF",S=n.foreground_color||"#000000",A=Number.parseInt(_.replace("#",""),16),I=Number.parseInt(S.replace("#",""),16),C=A<I,k={backgroundColor:_,color:S},L={color:C?"#FFFFFF":"#000000"},H={backgroundColor:n.foreground_color||"#FFFFFF",color:n.background_color||"#000000"},G={onNextStep:()=>r(n.id),onPrevStep:()=>i(n.id),onStartCollapsing:o,onCollapse:s,onExpand:l,onShowToast:u,onHideToast:d,onQuantitativeQuestionSubmitted:f,onQualitativeQuestionSubmitted:p,onFeedbackTextChanged:y,onAskMeLaterSelected:h,collapsed:m.surveyCollapsed,step:n,accountId:t,doCollapseBeforeNextStep:n.collapse_before_next_step,updateTextOverride:n.update_text_override,cancelTextOverride:n.cancel_text_override,submitTextOverride:n.submit_text_override,askMeLaterTextOverride:n.ask_me_later_text_override,notLikelyTextOverride:n.not_likely_text_override,veryLikelyTextOverride:n.very_likely_text_override,inlineStyles:k,ctaStyles:H,textAreaStyles:L,showBadge:T};let ue=!1,w;switch(n.step_number){case 1:ue=!1,w=a.html(ey,{...G});break;case 2:ue=!0,w=a.html(ty,{...G,feedbackText:m.feedbackText,isCollapsed:m.surveyCollapsed});break;default:w=null}const J={click:l,keydown:de=>{(de.key===" "||de.key==="Enter")&&l()}};return a.html("cue",{classNames:"active"},a.html("div",null,a.html("section",null,a.html("div",{classNames:"appcues-nps","hook-update":c,style:m.surveyCollapsed?{...k,opacity:"0",delayed:{"transform-origin":"100% 100%",animation:"nps-complete 0s cubic-bezier(0.42, 0, 0.04, 1.03) forwards"}}:{...k,display:"block",opacity:0,delayed:{animation:"nps-enter 0.2s ease-out forwards"}}},a.html("div",{classNames:`nps-modal ${ue?"qualitative":""}`,id:"nps-modal"},w))),a.html("div",{classNames:`feedback-tab ${m.surveyCollapsed?"collapsed":""}`},m.lastSubmitted==="quantitative"?a.html("a",{"attrs-tabindex":"0","hook-insert":de=>{window.requestAnimationFrame(()=>ct(de.elm))},classNames:"feedback-link",on:J},a.html("div",{classNames:"satisfaction-feedback",id:"satisfaction-overlay",style:m.surveyCollapsed?{...k,display:"block",opacity:0,delayed:{animation:"nps-enter 0.2s ease-out forwards"}}:{...k,opacity:"1",delayed:{"transform-origin":"100% 100%",animation:"nps-complete 0.4s cubic-bezier(0.42, 0, 0.04, 1.03) forwards"}}},"Feedback")):"",a.html(ny,{...G,show:m.toastVisible,lastSubmitted:m.lastSubmitted,toastMessage:n.completion_toast_copy}))))}const iy="/generic/main/7.7.5/satisfaction-survey.5f4099830587e6584504e8ee75172b2f2fc9baf4.css",oy="LCTGoWhoNncfzk7b8jDhPPF8b0PTs04uNa7LjCILym4=",rs=Pt(iy);let Fa,_i;function sy(e){const t=ye(e),n=pr(e),r=Be(e),i=Xe(e),o=st(e),s=Wt(e,o),c=i[s],l=t.attributes.pattern_type,{position:u}=t.attributes,d=e.views.callbacks[z.SATISFACTION_SURVEY],f=n.cssLoaded,p=di(e.settings),y=r!==Q.SHOWING;let h={};const m=f&&ne.inArray([Q.SHOWING,Q.WILL_CLOSE],r);m||(h={display:"none"}),h={...h,position:"fixed",bottom:"0px",left:"0px",width:"100%"};let T="0px",_="100%",S="0px";const{askMeLaterSelected:A,surveyCollapsed:I,toastVisible:C,lastSubmitted:k}=n,L=!A&&I;L&&(T="40px",C||(_="125px",S="296px"),!C&&k==="qualitative"&&(T="0px",_="0px"));const H=J=>{Fa=J.elm,window.requestAnimationFrame(()=>{d.onShow(),ct(J.elm)})},R=J=>{if(J){const de=J.getBoundingClientRect().height,pe=Number.parseInt(n.height,10);Math.abs(de-pe)>2&&d.onContentChange&&window.requestAnimationFrame(()=>d.onContentChange(t.id,J))}},K=J=>{if(A||k==="qualitative"||L||!m)return;const de=J.elm.scrollHeight,pe=window.innerHeight;if(de){_i=_i||de+15;const Ce=de>pe?pe:_i;Fa.style.height=`${Ce}px`,J.elm.children[0].style.height=`${Ce}px`}},G=(J,de)=>{(J==="next"?d.onNextStep:d.onPrevStep)(de),_i=null},ue=(J,de)=>{const pe=J.target.ownerDocument;ai(pe,rs,()=>{d.onCSSLoaded(t.id,rs,!0),Zo(pe,t.id,"survey-container",d.onContentChange)})},w=a.html(ry,{step:c,key:`survey-step-${s}`,currentState:n,showBadge:p,accountId:e.settings.accountId,isFirst:s===0,isLast:s===i.length-1,onNextStep:J=>G("next",J),onPrevStep:J=>G("prev",J),onCollapse:d.onCollapse,onStartCollapsing:d.onStartCollapsing,onExpand:d.onExpand,onShowToast:d.onShowToast,onHideToast:d.onHideToast,onJumpStep:d.onJumpStep,onLinkClick:d.onLinkClick,onQuantitativeQuestionSubmitted:d.onQuantitativeQuestionSubmitted,onQualitativeQuestionSubmitted:d.onQualitativeQuestionSubmitted,onFeedbackTextChanged:d.onFeedbackTextChanged,onAskMeLaterSelected:d.onAskMeLaterSelected,onStepChildActivated:d.onStepChildActivated,onStepChildDeactivated:d.onStepChildDeactivated,onFormSubmission:d.onFormSubmission,onUpdate:K,onSkip:d.onSkip});return a.html("appcues-container",{"attrs-data-pattern-type":l,"attrs-data-position":u,"class-appcues-ontop":!0,"class-apc-hidden":y,style:h},a.html("iframe",{style:{position:"fixed",bottom:"0",border:"none",height:T,width:_,right:"0",marginRight:S},"hook-insert":H,"hook-destroy":()=>{},"attrs-aria-label":"NPS Survey","style-color-scheme":"none"},a.html("link",{"attrs-href":rs,"attrs-integrity":oy,"attrs-crossorigin":"anonymous","attrs-type":"text/css","attrs-rel":"stylesheet","on-load":J=>{ue(J)},"on-error":J=>{ue(J)}}),a.html("appcues",{"class-active":!0,"class-apc-hidden":y,"attrs-data-pattern-type":l,"attrs-data-position":u},a.html("survey-container",{"hook-update":J=>{R(J.elm)}},w))))}const cy=b(ae.INVALIDATE_FORM),ly=b(ae.LOADED_CSS),ay=b(ae.RESIZE_CONTENT,(e,t,n)=>({id:e,height:t.height,width:t.width,ts:n})),uy=b(ae.ACTIVATED_STEP_CHILD,(e,t)=>({stepChildId:e,timestamp:t})),dy=b(ae.DEACTIVATED_STEP_CHILD),mn=b(ae.SET_CURRENT_STEP_CHILD),fy=b(ae.CLEAR_CURRENT_STEP_CHILD),py=b(ae.SET_CURRENT_STEP),Ua=b(ae.ADVANCE_STEP_CHILD,(e,t,n,r,i=!1)=>({contentType:e,step:t,childId:n,nextChildId:r,shouldEndFlow:i})),hy=b(ae.RUN_PREV_STEP_CHILD,(e,t)=>({step:e,stepChildId:t})),my=b(ae.CLOSE_STEP,(e,t)=>({flowId:e,stepId:t})),En=b(ae.CLOSE_FLOW,(e,t)=>({flowId:e,type:t})),Ey=b(ae.CANCEL_STEP,(e,t)=>({flowId:e,stepId:t})),Ha=b(ae.SET_PREVIOUS_ACTIVE_ELEMENT,e=>({element:e})),gy=b(ae.SET_FORCE_FOCUS,e=>({forceFocus:e})),Ma=b(ae.SET_NEXT_CONTENT_ID_COOKIE,e=>({nextContentId:e})),is=b(ae.CLEAR_CONTENT_STATE_CHILD),yy=b(pi.PREPARE_MODAL),Sy=b(pi.RESIZE_MODAL_CONTENT,(e,t)=>({id:e,height:t.height,width:t.width}));function Te(e,t,n){return{type:e,params:{stepId:t,...n}}}function pt(e,t,n,r){return Te(e,t,{stepChildId:n,...r})}function qt(e,t,n,r,i={}){return pt(q.STEP_INTERACTED,e,t,{interactionType:"click",interaction:{category:n,destination:r,...i}})}const Ty=(e,t)=>n=>{e(ce(pt(q.CHILD_DEACTIVATED,se(t()),n,{ts:Date.now()})))};function $a(e,t,n,r={}){return qt(se(e),t,"internal",n,r)}function Ii(e,t){const n=Ty(e,t);return{onContentChange(r,i){ko(i)&&e(ay(r,i.getBoundingClientRect(),Ar()))},onShow(){const r=t();e(er(se(r))),e(ce(Te(q.STEP_SHOWN,se(r))))},onCSSLoaded(r,i,o=!0){if(o){const s=t();e(ly(r)),e(ce(Te(q.CSS_LOADED,se(s))))}else if(se(t())===r){const s=new Error("Failed to load CSS.");s.extra={url:i},e(er(s)),e(ce(Te(q.STEP_ERRORED,r,{error:s,details:JSON.stringify({url:i})})))}},onStepChildActivated(r){e(ce(pt(q.CHILD_ACTIVATED,se(t()),r,{ts:Date.now()})))},onStepChildDeactivated:n,onComplete(r){const i=t(),o=st(i),s={text:vt(r)};e(ce($a(i,o,"end",s))),n(o),e(ce(Te(q.STEP_COMPLETED,se(t())))),e(ce(Te(q.STEP_END,se(i))))},onCompleteFlow(r){const i=t(),o=st(i),s={text:vt(r)};e(ce($a(i,o,"end-flow",s))),n(o),e(ce(Te(q.STEP_COMPLETED,se(t()),{shouldEndFlow:!0}))),e(ce(Te(q.STEP_END,se(i),{shouldEndFlow:!0})))},onSkip(){const r=t();e(ce(pt(q.STEP_SKIPPED,se(r),st(r))))},onLinkClick(r,i,o){e(ce(qt(se(t()),r,"link",i,o)))},onHandleUserEvent(r,i={}){e(we({},[Gt(r,i)],!0))},onHandleProfileUpdate(r){const i=r;i.userId&&delete i.userId;const o=be(t()).userId||null;ne.defined(o)&&e(Zn(o,i))},onSetNextContentIdCookie(r){e(Ma(r))}}}function Cy(e){return e===""||!ne.defined(e)}function _y(e,{value:t,minSelection:n,maxSelection:r,required:i}){switch(e){case"number":return/^\d+$/.test(t)||"This field should be a number.";case"date":return/^\d{4}(?:-\d{1,2}){2}$/.test(t)||"Please enter a valid date.";case"email":return/^[\w%+.-]+@[\d.A-Za-z-]+\.[A-Za-z]{2,}$/.test(t)||"This field should be an email address.";case"tel":return/^(?!\b(0)\1+\b)(\+?\d{1,3}[ .-]?)?\(?\d{3}\)?([ .-]?)\d{3}\3\d{4}$/.test(t)||"This field should be a phone number.";case"url":return/^(?:https?:\/\/)?[\d.a-z-]+\.[.a-z]{2,6}(?:[\w ./-]*)*\/?(?:\?[\w&/=-]*)?(?:#[\w/-]*)?$/.test(t)||"This field should be a URL.";case"checkbox":{if(t){const o=t.split(`
`),s=Number.parseInt(n,10),c=Number.parseInt(r,10);if(!i&&o.length>c)return`Select a maximum of ${c} items`;if(s>o.length&&s>0||o.length>c)return`Select between ${s} and ${c} items`}return!0}default:return!0}}function Ba(e){const t=[];return e.forEach(n=>{const r=[],i=Cy(n.value);n.required&&i&&r.push("This field is required.");const o=n.validation,s=_y(o,n);s!==!0&&(o!=="date"&&(!i||i&&n.required)||o==="date"&&i&&!n.required)&&r.push(s),r.length>0&&t.push({fieldId:n.fieldId,messages:r})}),t.length>0?{result:!1,errors:t}:{result:!0}}function os(e,t,n,r={}){return qt(se(e),t,"internal",n,r)}function Iy(e){const t=e.querySelectorAll("input, textarea, select"),n=[];for(const r of t)r.type.search(/^(?:checkbox|radio)$/)>-1?r.checked&&n.push(r):n.push(r);return n}const Ay=e=>e.length>1?e.map(t=>t.value).join(`
`):e[0]?.value||null;function vy(e,t){const n=Ii(e,t);function r(i,o){const s=t(),c={text:vt(i)};e(ce(os(s,o,"next",c))),n.onStepChildDeactivated(o);const l=Lc(s,o);l&&(e(mn(l)),n.onStepChildActivated(l))}return{onSkip:n.onSkip,onStepChildActivated:n.onStepChildActivated,onStepChildDeactivated:n.onStepChildDeactivated,onCSSLoaded:n.onCSSLoaded,onHandleUserEvent:n.onHandleUserEvent,onHandleProfileUpdate:n.onHandleProfileUpdate,onCompleteFlow:n.onCompleteFlow,onComplete:n.onComplete,onSetNextContentIdCookie:n.onSetNextContentIdCookie,onNextStep:r,onShow(){n.onShow(),n.onStepChildActivated(st(t()))},onFormSubmission(i,o,s,c,l=!1,u=!1){const d=o.map((p,y)=>{const h=Iy(p)||{},m=p.querySelector(".form-field");let T=null,_=!1,S=null;m&&(T=m.getAttribute("data-appcues-validation"),_=m.getAttribute("data-appcues-required")==="true",S=m.getAttribute("data-custom-reporting-label"),(!S||S==="undefined")&&(S=null));const A=p.querySelector(".field-label label"),I=m.getAttribute("data-min-selection"),C=m.getAttribute("data-max-selection");let k=h[0]?.name??null,L=null;const H=A?.textContent?.trim()==="*"?null:A?.textContent;if((p.getAttribute("data-form-field")||!k)&&(k=p.getAttribute("data-field-id")),A&&H)L=H,k=k||A.getAttribute("for");else{const[,R]=(m.getAttribute("class")||"").split(" ");L=R.replace("form-field-",""),R.includes("radio")&&m.querySelector(".rating-options")&&(L=L.replace("radio","rating")),L+=`-${p.getAttribute("data-field-id")}`}return{required:_,validation:T,fieldId:k,label:L,value:Ay(h),formFieldIndex:y,customReportingLabel:S,minSelection:I,maxSelection:C}}),f=()=>{if(c)n.onComplete();else if(s)s();else{const p=st(t());r(null,p)}};if(u){(Ba(d).result||l)&&s();return}e(om(i,d,f,l))},onPrevStep(i,o){const s=t(),c={text:vt(i)};e(ce(os(s,o,"previous",c))),n.onStepChildDeactivated(o);const l=mo(s,o);l&&(e(mn(l)),n.onStepChildActivated(l))},onJumpStep(i,o,s){const c=t(),l={text:vt(i)};e(ce(os(c,o,`step_${s}`,l))),n.onStepChildDeactivated(o);const u=Zr(c,s);u&&(e(mn(u)),n.onStepChildActivated(u))},onLinkClick(i,o,s){const c={text:vt(i)};n.onLinkClick(o,s,c)},onContentChange(i,o){e(Sy(i,o.getBoundingClientRect()))}}}const by=b(Vt.EXPAND_HOTSPOT),wy=b(Vt.PREPARE_HOTSPOTS),Ny=b(Vt.SET_BEACON_SETTLED,(e,t)=>({id:e,isBeaconSettled:t})),Ai=b(Vt.CLOSE_LAST_HOTSPOT,(e,t,n={})=>({stepId:e,childId:t,params:n})),Oy=b(he.ADD_ACTIVE_ANNOTATIONS),ky=b(he.REMOVE_ACTIVE_ANNOTATIONS),ss=b(he.HIDE_AND_REMOVE_ACTIVE_ANNOTATIONS),Ry=b(he.SET_ACTIVE_ANNOTATIONS_WILL_CLOSE),Ly=b(he.START_CALCULATE_POSITIONS),Wa=b(he.START_HANDLE_POSITION_UPDATES),xy=b(he.SET_ANNOTATIONS_POSITIONS),Py=b(he.SET_ANNOTATIONS_READY),Va=b(he.SET_IS_SCROLLING_TO_ANNOTATION,(e,t)=>({annotationId:e,isScrolling:t})),Dy=b(he.SAVE_POSITION_DETAILS),Fy=b(he.REPORTED_ANNOTATIONS_ERRORS),Uy=b(he.REPORTED_ANNOTATIONS_RECOVERY),Hy=b(he.SET_EXISTING_ANNOTATIONS_ERRORS),My=b(he.SET_TOOLTIP_SETTLED,(e,t)=>({id:e,isTooltipSettled:t})),$y=b(he.GO_TO_STEP,(e,t,n)=>({stepId:e,currentStepChildId:t,nextStepChildIndex:n}));function Ga(e,t){const n=Ii(e,t);function r(){const s=t(),c=st(s);return c&&Eo(s,c)?c:null}function i(s){s&&(e(ss([s])),e(fy()),n.onStepChildDeactivated(s))}const o=(s={})=>()=>{const c=r(),l=se(t());e(ce(Te(q.STEP_COMPLETED,l,s))),i(c),ne.defined(c)&&e(Ai(l,c,s))};return{onSkip:n.onSkip,onLinkClick:n.onLinkClick,onCSSLoaded:n.onCSSLoaded,onContentChange:n.onContentChange,onShow:n.onShow,onHandleUserEvent:n.onHandleUserEvent,onHandleProfileUpdate:n.onHandleProfileUpdate,onSetNextContentIdCookie:n.onSetNextContentIdCookie,onActivate(s){e(by(s)),n.onStepChildActivated(s),e(Va(s,!1))},onBeaconClick(s,c,l,u){const d=r(),f=d!==s,p=se(t());f&&e(ce(qt(p,s,"beacon",s))),i(d),f?(e(mn(s)),this.onActivate(s),setTimeout(()=>{n.onContentChange(s,c)},50),u&&e(ce(Te(q.STEP_COMPLETED,se(t()))))):l&&e(Ai(p,d))},onClickOut(s){const c=r();i(c),s&&ne.defined(c)&&e(Ai(se(t()),c))},onComplete:o({shouldEndFlow:!1}),onCompleteFlow:o({shouldEndFlow:!0})}}function By(e,t){const n=Ga(e,t),r=Ii(e,t),i=(o,s={})=>(c,l)=>{const u=t(),d=se(u),f=ze(u),p=d?ot(f,d):null,y={text:vt(c)};e(ce(qt(d,l,"internal",o,y))),e(Ua(z.SEQUENTIAL_HOTSPOTS,p,l,null,s.shouldEndFlow))};return{onSkip:r.onSkip,onLinkClick:r.onLinkClick,onCSSLoaded:r.onCSSLoaded,onContentChange:r.onContentChange,onHandleUserEvent:r.onHandleUserEvent,onHandleProfileUpdate:r.onHandleProfileUpdate,onSetNextContentIdCookie:r.onSetNextContentIdCookie,onShow:()=>{},onNextButtonClick(o,s,c){const l=t(),u=se(l),d={text:vt(o)};e(ce(qt(u,s,"internal",c?"end":"next",d))),e(ce(pt(q.CHILD_NEXT,u,s)))},onComplete:i("end",{shouldEndFlow:!1}),onCompleteFlow:i("end-flow",{shouldEndFlow:!0}),onFirstInsert(o,s){s&&r.onShow(),n.onActivate(o)},onPrevButtonClick(o,s){const c=t(),l=se(c),u={text:vt(o)};e(ce(qt(l,s,"internal","previous",u))),e(hy(l,s))},onJumpStep:(o,s,c)=>{const l=t(),u=se(l),d={text:vt(o)};e(ce(qt(u,s,"internal",`step_${c}`,d))),e($y(u,s,c))},onHandleBlur(o,s){e(gy(o.target===s))}}}const Wy=b(Ae.PREPARE_SATISFACTION_SURVEY),Vy=b(Ae.START_COLLAPSING_SATISFACTION_SURVEY),ja=b(Ae.COLLAPSE_SATISFACTION_SURVEY),Gy=b(Ae.EXPAND_SATISFACTION_SURVEY),qa=b(Ae.SHOW_SATISFACTION_SURVEY_TOAST),Ka=b(Ae.HIDE_SATISFACTION_SURVEY_TOAST),jy=b(Ae.QUANTITATIVE_QUESTION_SUBMITTED,e=>({score:e})),qy=b(Ae.CLICKED_UPDATE_NPS_SCORE),Ky=b(Ae.QUALITATIVE_QUESTION_SUBMITTED,e=>({feedback:e})),Yy=b(Ae.FEEDBACK_TEXT_CHANGED,e=>({feedback:e})),zy=b(Ae.ASK_ME_LATER_SELECTED);function Xy(e,t){const n=Ii(e,t);function r(m){const T=t(),_=Lc(T,m);_&&e(mn(_))}function i(m){e(jy(m))}function o(m){e(Ky(m))}function s(m){e(Yy(m))}function c(){e(zy())}function l(){e(ja())}function u(){e(Vy())}function d(){e(Gy())}function f(){e(qa())}function p(){e(Ka())}function y(m){const T=t(),_=mo(T,m);_&&(bc(ye(T),_).step_type==="quantitative-question"&&e(qy()),e(mn(_)))}function h(){n.onShow(),n.onStepChildActivated(st(t()))}return{onShow:h,onNextStep:r,onPrevStep:y,onStartCollapsing:u,onCollapse:l,onExpand:d,onShowToast:f,onHideToast:p,onQuantitativeQuestionSubmitted:i,onQualitativeQuestionSubmitted:o,onFeedbackTextChanged:s,onAskMeLaterSelected:c,onSkip:n.onSkip,onStepChildActivated:n.onStepChildActivated,onStepChildDeactivated:n.onStepChildDeactivated,onLinkClick:n.onLinkClick,onCSSLoaded:n.onCSSLoaded}}const Ya=b(re.START_CHECKLIST),gn=b(re.SET_CHECKLIST_STATUS,(e,t)=>({id:e,status:t})),za=b(re.UPDATE_CHECKLISTS),vi=b(re.HIDE_CHECKLISTS),Nr=b(re.UNHIDE_CHECKLISTS),Xa=b(re.ANIMATE_IN_CHECKLIST),Or=b(re.EXPAND_CHECKLIST,e=>({checklistId:e})),yn=b(re.COLLAPSE_CHECKLIST,e=>({checklistId:e})),Ja=b(re.SET_EXPAND_CHECKLIST_LATER,(e,t)=>({checklistId:e,shouldTryExpandChecklist:t})),Jy=b(re.SHOW_DISMISS_CONFIRMATION,e=>({checklistId:e})),Qy=b(re.CANCEL_DISMISS_CONFIRMATION,e=>({checklistId:e})),Zy=b(re.CONFIRM_DISMISS_CHECKLIST,(e,t,n)=>({checklistId:e,checklistName:t,didCompleteChecklist:n})),eS=b(re.LOADED_CHECKLIST_CSS,e=>({checklistId:e})),Qa=b(re.SEND_CHECKLIST_ERROR),Za=b(re.START_CHECKLIST_ITEM,(e,t,n=0,r={})=>({checklistId:e,itemId:t,actionIndex:n,checklist:r})),tS=b(re.START_CHECKLIST_ACTION,(e,t,n,r)=>({action:e,checklistId:t,itemId:n,actionIndex:r})),cs=b(re.COMPLETED_CHECKLIST_ACTION,(e,t,n)=>({checklistId:e,itemId:t,actionIndex:n})),nS=b(re.SET_CHECKLIST_HEIGHT,(e,t)=>({checklistId:e,height:t})),rS=b(re.SET_CHECKLIST_WIDTH,(e,t)=>({checklistId:e,width:t})),iS=b(re.CLEAR_FORCE_SHOWN_CHECKLIST),eu=b(re.SEND_CHECKLIST_SHOWN_EVENT,e=>({checklist:e}));function oS(e,t){let n=!1;return{onBeaconClicked(r){const i=t(),o=ln(i,r);o.viewState===Bt.EXPANDED?e(yn(r)):(e(Or(r)),o.attributes.open_behavior==="closed"&&!n&&(n=!0,e(eu(o))))},onOutsideClicked(r){const i=t();ln(i,r).viewState===Bt.EXPANDED&&e(yn(r))},onItemClicked(r,i){e(Za(r,i))},onDismissClicked(r){e(Jy(r))},onDismissCanceled(r){e(Qy(r))},onDismissConfirmed(r,i,o=!1){e(Zy(r,i,o))},onMinimizedClicked(r){e(yn(r))},onCSSLoaded(r,i,o=!0){if(o)e(eS(r));else{const s=new Error(`Failed to load CSS for checklist ${r}`);s.extra={url:i},e(Qa(s))}},onExpandChecklistResize(r,i){e(nS(r,i))},onCollapseBeaconResize(r,i){e(rS(r,i))}}}function sS(e){return{onCancelClicked(){e({type:Qn.CANCEL_TEST})},onResetClicked(){e({type:Qn.RESET_TEST})},onCssLoaded(){e({type:Qn.LOADED_TEST_MODE_CSS})}}}const cS=b(bt.LOADED_LAUNCHPAD,({selector:e,position:t,header:n,footer:r,icon:i})=>({selector:e,position:t,header:n,footer:r,icon:i})),lS=b(bt.UPDATED_WIDGET_HISTORY,e=>({history:e})),aS=b(bt.UPDATED_WIDGET_FLOWS,e=>({flows:e})),ls=b(bt.TOGGLED_WIDGET,e=>({expanded:e}));function uS(e,t){function n(){if(yo(t())){e(ls(!1));const i={id:"widget_closed",timestamp:Date.now()};e(Ue("widget_closed",i)),e(we({},[Ve(i)],!1))}}function r(){if(yo(t())){e(ls(!1));const i={id:"widget_closed",timestamp:Date.now()};e(Ue("widget_closed",i)),e(we({},[Ve(i)],!1))}else{e(ls(!0));const i={id:"widget_opened",timestamp:Date.now()};e(Ue("widget_opened",i)),e(we({},[Ve(i)],!1))}}return{onClose:n,onToggled:r,onItemClicked(i,o,s){r(),i.preventDefault(),i.stopPropagation();try{window.Appcues.show(o);const c={id:"widget_item_clicked",flowId:o,hasBeenSeen:s,timestamp:Date.now()};e(Ue("widget_item_clicked",c)),e(we({},[Ve(c)],!1))}catch(c){Lt(t())(c,{extra:c.extra})}}}}function dS({settings:e,sagas:t,onStateChange:n}){const r=wh(),i=qh(),o=qE({orderedContent:[],content:{},currentContent:null,session:{},settings:e,transport:{initialized:!1},user:{},views:{callbacks:{},renderers:{}},reporter:null,styles:{},tasks:{},test:{},widget:{}},t);if(o.dispatch(Pl({[z.MODAL]:vy(o.dispatch,o.getState),[z.HOTSPOTS]:Ga(o.dispatch,o.getState),[z.SEQUENTIAL_HOTSPOTS]:By(o.dispatch,o.getState),[z.SATISFACTION_SURVEY]:Xy(o.dispatch,o.getState),[z.CHECKLIST]:oS(o.dispatch,o.getState),[z.TEST_MODE]:sS(o.dispatch,o.getState),[z.WIDGET]:uS(o.dispatch,o.getState)})),o.dispatch(Em({[z.MODAL]:vg,[z.HOTSPOTS]:Jg,[z.SATISFACTION_SURVEY]:sy})),o.subscribe(()=>{const s=o.getState();switch(Be(s)){case Q.PENDING:o.dispatch(em());break;case Q.ERROR:o.dispatch(Ul()),o.dispatch(kl(window.location.href,!1,null));break}r(s),i(s),n&&n(s)}),Er(document))o.dispatch($l());else{const s=()=>{Er(document)&&(o.dispatch($l()),document.removeEventListener("readystatechange",s))};document.addEventListener("readystatechange",s)}return o}var kr=e=>typeof e=="function"?e:function(){return e},fS=typeof self<"u"?self:null,Rr=typeof window<"u"?window:null,Sn=fS||Rr||Sn,pS="2.0.0",wt={connecting:0,open:1,closing:2,closed:3},hS=1e4,mS=1e3,lt={closed:"closed",errored:"errored",joined:"joined",joining:"joining",leaving:"leaving"},Ht={close:"phx_close",error:"phx_error",join:"phx_join",reply:"phx_reply",leave:"phx_leave"},as={longpoll:"longpoll",websocket:"websocket"},ES={complete:4},bi=class{constructor(e,t,n,r){this.channel=e,this.event=t,this.payload=n||function(){return{}},this.receivedResp=null,this.timeout=r,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}resend(e){this.timeout=e,this.reset(),this.send()}send(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}receive(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}reset(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}matchReceive({status:e,response:t,_ref:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}cancelRefEvent(){this.refEvent&&this.channel.off(this.refEvent)}cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}startTimeout(){this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this.cancelRefEvent(),this.cancelTimeout(),this.receivedResp=e,this.matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}trigger(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}},tu=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=null,this.tries=0}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}},gS=class{constructor(e,t,n){this.state=lt.closed,this.topic=e,this.params=kr(t||{}),this.socket=n,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new bi(this,Ht.join,this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new tu(()=>{this.socket.isConnected()&&this.rejoin()},this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError(()=>this.rejoinTimer.reset())),this.stateChangeRefs.push(this.socket.onOpen(()=>{this.rejoinTimer.reset(),this.isErrored()&&this.rejoin()})),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this.joinPush.receive("error",()=>{this.state=lt.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.hasLogger()&&this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=lt.closed,this.socket.remove(this)}),this.onError(r=>{this.socket.hasLogger()&&this.socket.log("channel",`error ${this.topic}`,r),this.isJoining()&&this.joinPush.reset(),this.state=lt.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.joinPush.receive("timeout",()=>{this.socket.hasLogger()&&this.socket.log("channel",`timeout ${this.topic} (${this.joinRef()})`,this.joinPush.timeout),new bi(this,Ht.leave,kr({}),this.timeout).send(),this.state=lt.errored,this.joinPush.reset(),this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.on(Ht.reply,(r,i)=>{this.trigger(this.replyEventName(i),r)})}join(e=this.timeout){if(this.joinedOnce)throw new Error("tried to join multiple times. 'join' can only be called a single time per channel instance");return this.timeout=e,this.joinedOnce=!0,this.rejoin(),this.joinPush}onClose(e){this.on(Ht.close,e)}onError(e){return this.on(Ht.error,t=>e(t))}on(e,t){let n=this.bindingRef++;return this.bindings.push({event:e,ref:n,callback:t}),n}off(e,t){this.bindings=this.bindings.filter(n=>!(n.event===e&&(typeof t>"u"||t===n.ref)))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,n=this.timeout){if(t=t||{},!this.joinedOnce)throw new Error(`tried to push '${e}' to '${this.topic}' before joining. Use channel.join() before pushing events`);let r=new bi(this,e,function(){return t},n);return this.canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}leave(e=this.timeout){this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=lt.leaving;let t=()=>{this.socket.hasLogger()&&this.socket.log("channel",`leave ${this.topic}`),this.trigger(Ht.close,"leave")},n=new bi(this,Ht.leave,kr({}),e);return n.receive("ok",()=>t()).receive("timeout",()=>t()),n.send(),this.canPush()||n.trigger("ok",{}),n}onMessage(e,t,n){return t}isMember(e,t,n,r){return this.topic!==e?!1:r&&r!==this.joinRef()?(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:e,event:t,payload:n,joinRef:r}),!1):!0}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(e))}trigger(e,t,n,r){let i=this.onMessage(e,t,n,r);if(t&&!i)throw new Error("channel onMessage callbacks must return the payload, modified or unmodified");let o=this.bindings.filter(s=>s.event===e);for(let s=0;s<o.length;s++)o[s].callback(i,n,r||this.joinRef())}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===lt.closed}isErrored(){return this.state===lt.errored}isJoined(){return this.state===lt.joined}isJoining(){return this.state===lt.joining}isLeaving(){return this.state===lt.leaving}},wi=class{static request(e,t,n,r,i,o,s){if(Sn.XDomainRequest){let c=new Sn.XDomainRequest;return this.xdomainRequest(c,e,t,r,i,o,s)}else{let c=new Sn.XMLHttpRequest;return this.xhrRequest(c,e,t,n,r,i,o,s)}}static xdomainRequest(e,t,n,r,i,o,s){return e.timeout=i,e.open(t,n),e.onload=()=>{let c=this.parseJSON(e.responseText);s&&s(c)},o&&(e.ontimeout=o),e.onprogress=()=>{},e.send(r),e}static xhrRequest(e,t,n,r,i,o,s,c){return e.open(t,n,!0),e.timeout=o,e.setRequestHeader("Content-Type",r),e.onerror=()=>c&&c(null),e.onreadystatechange=()=>{if(e.readyState===ES.complete&&c){let l=this.parseJSON(e.responseText);c(l)}},s&&(e.ontimeout=s),e.send(i),e}static parseJSON(e){if(!e||e==="")return null;try{return JSON.parse(e)}catch{return null}}static serialize(e,t){let n=[];for(var r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;let i=t?`${t}[${r}]`:r,o=e[r];typeof o=="object"?n.push(this.serialize(o,i)):n.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}return n.join("&")}static appendParams(e,t){if(Object.keys(t).length===0)return e;let n=e.match(/\?/)?"&":"?";return`${e}${n}${this.serialize(t)}`}},yS=e=>{let t="",n=new Uint8Array(e),r=n.byteLength;for(let i=0;i<r;i++)t+=String.fromCharCode(n[i]);return btoa(t)},Lr=class{constructor(e){this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.reqs=new Set,this.awaitingBatchAck=!1,this.currentBatch=null,this.currentBatchTimer=null,this.batchBuffer=[],this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(e),this.readyState=wt.connecting,setTimeout(()=>this.poll(),0)}normalizeEndpoint(e){return e.replace("ws://","http://").replace("wss://","https://").replace(new RegExp("(.*)/"+as.websocket),"$1/"+as.longpoll)}endpointURL(){return wi.appendParams(this.pollEndpoint,{token:this.token})}closeAndRetry(e,t,n){this.close(e,t,n),this.readyState=wt.connecting}ontimeout(){this.onerror("timeout"),this.closeAndRetry(1005,"timeout",!1)}isActive(){return this.readyState===wt.open||this.readyState===wt.connecting}poll(){this.ajax("GET","application/json",null,()=>this.ontimeout(),e=>{if(e){var{status:t,token:n,messages:r}=e;this.token=n}else t=0;switch(t){case 200:r.forEach(i=>{setTimeout(()=>this.onmessage({data:i}),0)}),this.poll();break;case 204:this.poll();break;case 410:this.readyState=wt.open,this.onopen({}),this.poll();break;case 403:this.onerror(403),this.close(1008,"forbidden",!1);break;case 0:case 500:this.onerror(500),this.closeAndRetry(1011,"internal server error",500);break;default:throw new Error(`unhandled poll status ${t}`)}})}send(e){typeof e!="string"&&(e=yS(e)),this.currentBatch?this.currentBatch.push(e):this.awaitingBatchAck?this.batchBuffer.push(e):(this.currentBatch=[e],this.currentBatchTimer=setTimeout(()=>{this.batchSend(this.currentBatch),this.currentBatch=null},0))}batchSend(e){this.awaitingBatchAck=!0,this.ajax("POST","application/x-ndjson",e.join(`
`),()=>this.onerror("timeout"),t=>{this.awaitingBatchAck=!1,!t||t.status!==200?(this.onerror(t&&t.status),this.closeAndRetry(1011,"internal server error",!1)):this.batchBuffer.length>0&&(this.batchSend(this.batchBuffer),this.batchBuffer=[])})}close(e,t,n){for(let i of this.reqs)i.abort();this.readyState=wt.closed;let r=Object.assign({code:1e3,reason:void 0,wasClean:!0},{code:e,reason:t,wasClean:n});this.batchBuffer=[],clearTimeout(this.currentBatchTimer),this.currentBatchTimer=null,typeof CloseEvent<"u"?this.onclose(new CloseEvent("close",r)):this.onclose(r)}ajax(e,t,n,r,i){let o,s=()=>{this.reqs.delete(o),r()};o=wi.request(e,this.endpointURL(),t,n,this.timeout,s,c=>{this.reqs.delete(o),this.isActive()&&i(c)}),this.reqs.add(o)}},Ni={HEADER_LENGTH:1,META_LENGTH:4,KINDS:{push:0,reply:1,broadcast:2},encode(e,t){if(e.payload.constructor===ArrayBuffer)return t(this.binaryEncode(e));{let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}},decode(e,t){if(e.constructor===ArrayBuffer)return t(this.binaryDecode(e));{let[n,r,i,o,s]=JSON.parse(e);return t({join_ref:n,ref:r,topic:i,event:o,payload:s})}},binaryEncode(e){let{join_ref:t,ref:n,event:r,topic:i,payload:o}=e,s=this.META_LENGTH+t.length+n.length+i.length+r.length,c=new ArrayBuffer(this.HEADER_LENGTH+s),l=new DataView(c),u=0;l.setUint8(u++,this.KINDS.push),l.setUint8(u++,t.length),l.setUint8(u++,n.length),l.setUint8(u++,i.length),l.setUint8(u++,r.length),Array.from(t,f=>l.setUint8(u++,f.charCodeAt(0))),Array.from(n,f=>l.setUint8(u++,f.charCodeAt(0))),Array.from(i,f=>l.setUint8(u++,f.charCodeAt(0))),Array.from(r,f=>l.setUint8(u++,f.charCodeAt(0)));var d=new Uint8Array(c.byteLength+o.byteLength);return d.set(new Uint8Array(c),0),d.set(new Uint8Array(o),c.byteLength),d.buffer},binaryDecode(e){let t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;switch(n){case this.KINDS.push:return this.decodePush(e,t,r);case this.KINDS.reply:return this.decodeReply(e,t,r);case this.KINDS.broadcast:return this.decodeBroadcast(e,t,r)}},decodePush(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),o=t.getUint8(3),s=this.HEADER_LENGTH+this.META_LENGTH-1,c=n.decode(e.slice(s,s+r));s=s+r;let l=n.decode(e.slice(s,s+i));s=s+i;let u=n.decode(e.slice(s,s+o));s=s+o;let d=e.slice(s,e.byteLength);return{join_ref:c,ref:null,topic:l,event:u,payload:d}},decodeReply(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),o=t.getUint8(3),s=t.getUint8(4),c=this.HEADER_LENGTH+this.META_LENGTH,l=n.decode(e.slice(c,c+r));c=c+r;let u=n.decode(e.slice(c,c+i));c=c+i;let d=n.decode(e.slice(c,c+o));c=c+o;let f=n.decode(e.slice(c,c+s));c=c+s;let p=e.slice(c,e.byteLength),y={status:f,response:p};return{join_ref:l,ref:u,topic:d,event:Ht.reply,payload:y}},decodeBroadcast(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),o=this.HEADER_LENGTH+2,s=n.decode(e.slice(o,o+r));o=o+r;let c=n.decode(e.slice(o,o+i));o=o+i;let l=e.slice(o,e.byteLength);return{join_ref:null,ref:null,topic:s,event:c,payload:l}}},SS=class{constructor(e,t={}){this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=t.timeout||hS,this.transport=t.transport||Sn.WebSocket||Lr,this.primaryPassedHealthCheck=!1,this.longPollFallbackMs=t.longPollFallbackMs,this.fallbackTimer=null,this.sessionStore=t.sessionStorage||Sn&&Sn.sessionStorage,this.establishedConnections=0,this.defaultEncoder=Ni.encode.bind(Ni),this.defaultDecoder=Ni.decode.bind(Ni),this.closeWasClean=!1,this.disconnecting=!1,this.binaryType=t.binaryType||"arraybuffer",this.connectClock=1,this.transport!==Lr?(this.encode=t.encode||this.defaultEncoder,this.decode=t.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder);let n=null;Rr&&Rr.addEventListener&&(Rr.addEventListener("pagehide",r=>{this.conn&&(this.disconnect(),n=this.connectClock)}),Rr.addEventListener("pageshow",r=>{n===this.connectClock&&(n=null,this.connect())})),this.heartbeatIntervalMs=t.heartbeatIntervalMs||3e4,this.rejoinAfterMs=r=>t.rejoinAfterMs?t.rejoinAfterMs(r):[1e3,2e3,5e3][r-1]||1e4,this.reconnectAfterMs=r=>t.reconnectAfterMs?t.reconnectAfterMs(r):[10,50,100,150,200,250,500,1e3,2e3][r-1]||5e3,this.logger=t.logger||null,!this.logger&&t.debug&&(this.logger=(r,i,o)=>{}),this.longpollerTimeout=t.longpollerTimeout||2e4,this.params=kr(t.params||{}),this.endPoint=`${e}/${as.websocket}`,this.vsn=t.vsn||pS,this.heartbeatTimeoutTimer=null,this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new tu(()=>{this.teardown(()=>this.connect())},this.reconnectAfterMs)}getLongPollTransport(){return Lr}replaceTransport(e){this.connectClock++,this.closeWasClean=!0,clearTimeout(this.fallbackTimer),this.reconnectTimer.reset(),this.conn&&(this.conn.close(),this.conn=null),this.transport=e}protocol(){return location.protocol.match(/^https/)?"wss":"ws"}endPointURL(){let e=wi.appendParams(wi.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return e.charAt(0)!=="/"?e:e.charAt(1)==="/"?`${this.protocol()}:${e}`:`${this.protocol()}://${location.host}${e}`}disconnect(e,t,n){this.connectClock++,this.disconnecting=!0,this.closeWasClean=!0,clearTimeout(this.fallbackTimer),this.reconnectTimer.reset(),this.teardown(()=>{this.disconnecting=!1,e&&e()},t,n)}connect(e){e&&(this.params=kr(e)),!(this.conn&&!this.disconnecting)&&(this.longPollFallbackMs&&this.transport!==Lr?this.connectWithFallback(Lr,this.longPollFallbackMs):this.transportConnect())}log(e,t,n){this.logger&&this.logger(e,t,n)}hasLogger(){return this.logger!==null}onOpen(e){let t=this.makeRef();return this.stateChangeCallbacks.open.push([t,e]),t}onClose(e){let t=this.makeRef();return this.stateChangeCallbacks.close.push([t,e]),t}onError(e){let t=this.makeRef();return this.stateChangeCallbacks.error.push([t,e]),t}onMessage(e){let t=this.makeRef();return this.stateChangeCallbacks.message.push([t,e]),t}ping(e){if(!this.isConnected())return!1;let t=this.makeRef(),n=Date.now();this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:t});let r=this.onMessage(i=>{i.ref===t&&(this.off([r]),e(Date.now()-n))});return!0}transportConnect(){this.connectClock++,this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=()=>this.onConnOpen(),this.conn.onerror=e=>this.onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this.onConnClose(e)}getSession(e){return this.sessionStore&&this.sessionStore.getItem(e)}storeSession(e,t){this.sessionStore&&this.sessionStore.setItem(e,t)}connectWithFallback(e,t=2500){clearTimeout(this.fallbackTimer);let n=!1,r=!0,i,o,s=c=>{this.log("transport",`falling back to ${e.name}...`,c),this.off([i,o]),r=!1,this.replaceTransport(e),this.transportConnect()};if(this.getSession(`phx:fallback:${e.name}`))return s("memorized");this.fallbackTimer=setTimeout(s,t),o=this.onError(c=>{this.log("transport","error",c),r&&!n&&(clearTimeout(this.fallbackTimer),s(c))}),this.onOpen(()=>{if(n=!0,!r)return this.primaryPassedHealthCheck||this.storeSession(`phx:fallback:${e.name}`,"true"),this.log("transport",`established ${e.name} fallback`);clearTimeout(this.fallbackTimer),this.fallbackTimer=setTimeout(s,t),this.ping(c=>{this.log("transport","connected to primary after",c),this.primaryPassedHealthCheck=!0,clearTimeout(this.fallbackTimer)})}),this.transportConnect()}clearHeartbeats(){clearTimeout(this.heartbeatTimer),clearTimeout(this.heartbeatTimeoutTimer)}onConnOpen(){this.hasLogger()&&this.log("transport",`${this.transport.name} connected to ${this.endPointURL()}`),this.closeWasClean=!1,this.disconnecting=!1,this.establishedConnections++,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach(([,e])=>e())}heartbeatTimeout(){this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.triggerChanError(),this.closeWasClean=!1,this.teardown(()=>this.reconnectTimer.scheduleTimeout(),mS,"heartbeat timeout"))}resetHeartbeat(){this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,this.clearHeartbeats(),this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs))}teardown(e,t,n){if(!this.conn)return e&&e();let r=this.connectClock;this.waitForBufferDone(()=>{r===this.connectClock&&(this.conn&&(t?this.conn.close(t,n||""):this.conn.close()),this.waitForSocketClosed(()=>{r===this.connectClock&&(this.conn&&(this.conn.onopen=function(){},this.conn.onerror=function(){},this.conn.onmessage=function(){},this.conn.onclose=function(){},this.conn=null),e&&e())}))})}waitForBufferDone(e,t=1){if(t===5||!this.conn||!this.conn.bufferedAmount){e();return}setTimeout(()=>{this.waitForBufferDone(e,t+1)},150*t)}waitForSocketClosed(e,t=1){if(t===5||!this.conn||this.conn.readyState===wt.closed){e();return}setTimeout(()=>{this.waitForSocketClosed(e,t+1)},150*t)}onConnClose(e){let t=e&&e.code;this.hasLogger()&&this.log("transport","close",e),this.triggerChanError(),this.clearHeartbeats(),!this.closeWasClean&&t!==1e3&&this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(([,n])=>n(e))}onConnError(e){this.hasLogger()&&this.log("transport",e);let t=this.transport,n=this.establishedConnections;this.stateChangeCallbacks.error.forEach(([,r])=>{r(e,t,n)}),(t===this.transport||n>0)&&this.triggerChanError()}triggerChanError(){this.channels.forEach(e=>{e.isErrored()||e.isLeaving()||e.isClosed()||e.trigger(Ht.error)})}connectionState(){switch(this.conn&&this.conn.readyState){case wt.connecting:return"connecting";case wt.open:return"open";case wt.closing:return"closing";default:return"closed"}}isConnected(){return this.connectionState()==="open"}remove(e){this.off(e.stateChangeRefs),this.channels=this.channels.filter(t=>t!==e)}off(e){for(let t in this.stateChangeCallbacks)this.stateChangeCallbacks[t]=this.stateChangeCallbacks[t].filter(([n])=>e.indexOf(n)===-1)}channel(e,t={}){let n=new gS(e,t,this);return this.channels.push(n),n}push(e){if(this.hasLogger()){let{topic:t,event:n,payload:r,ref:i,join_ref:o}=e;this.log("push",`${t} ${n} (${o}, ${i})`,r)}this.isConnected()?this.encode(e,t=>this.conn.send(t)):this.sendBuffer.push(()=>this.encode(e,t=>this.conn.send(t)))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}sendHeartbeat(){this.pendingHeartbeatRef&&!this.isConnected()||(this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef,join_ref:""}),this.heartbeatTimeoutTimer=setTimeout(()=>this.heartbeatTimeout(),this.heartbeatIntervalMs))}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:r,payload:i,ref:o,join_ref:s}=t;o&&o===this.pendingHeartbeatRef&&(this.clearHeartbeats(),this.pendingHeartbeatRef=null,this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)),this.hasLogger()&&this.log("receive",`${i.status||""} ${n} ${r} ${o&&"("+o+")"||""}`,i);for(let c=0;c<this.channels.length;c++){const l=this.channels[c];l.isMember(n,r,i,s)&&l.trigger(r,i,o,s)}for(let c=0;c<this.stateChangeCallbacks.message.length;c++){let[,l]=this.stateChangeCallbacks.message[c];l(t)}})}leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n.isJoined()||n.isJoining()));t&&(this.hasLogger()&&this.log("transport",`leaving duplicate topic "${e}"`),t.leave())}};function Oi(){let e=Date.now();return typeof Date.now()!="number"&&(e=new Date().getTime()),window.performance&&ne.function(window.performance.now)&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const r=Math.trunc((e+Math.random()*16)%16);return e=Math.floor(e/16),(n==="x"?r:r&3|8).toString(16)})}function TS(e,t,n={}){return new Promise((r,i)=>{const o=new XMLHttpRequest;o.addEventListener("readystatechange",({currentTarget:s})=>{const c=s||o;if(c.readyState===4)switch(c.status){case 200:try{r(JSON.parse(c.responseText))}catch(l){i(l)}break;case 404:r(null);break;default:{const l=new Error(`${c.status} ${c.statusText}`);l.extra={url:t,response:c.responseText},i(l)}}}),o.open(e,t),n.headers&&Object.entries(n.headers).forEach(([s,c])=>o.setRequestHeader(s,c)),o.send()})}function tr(e,t){return TS("GET",e,t)}const us=e=>t=>{const n=Array.isArray(t)?[]:{};let r,i,o;for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r=e[i],o=typeof r,n[i]=o==="function"?r(t[i]):r&&o==="object"?us(r)(t[i]):t[i]);return n},CS=e=>t=>t.map(e),_S=(e,t,n)=>n?t.reduce((r,i)=>r[i]||e,n):e,nr=e=>e.split("?")[0],IS=us({attributes:{url:nr,_identity:{_lastPageUrl:nr,_currentPageUrl:nr}},context:{url:nr}}),AS=us({profile_update:{_lastPageUrl:nr,_currentPageUrl:nr},events:CS(IS)}),vS=(e,t)=>_S(!1,["account","stripQueryParams"],e)?AS(t):t,xr=P(()=>window.AppcuesBundleSettings.API_HOSTNAME&&`https://${window.AppcuesBundleSettings.API_HOSTNAME}/v1`,"https://api.appcues.net/v1"),bS=P(()=>window.AppcuesBundleSettings.GENERIC_BUNDLE_DOMAIN&&`${window.AppcuesBundleSettings.GENERIC_BUNDLE_DOMAIN}/v1`,"https://fast.appcues.com/v1"),Pr=()=>{const e=window[$i]||{};let t={};return e.userIdSignature&&(t={Authorization:`Bearer ${e.userIdSignature}`}),t},Dr={UserActivity:"USER_ACTIVITY"};function wS(e,t,n,r){return new Promise((i,o)=>{try{n.create(e,t,r,(s,c)=>{c?o(c):i(s)})}catch(s){o(s)}})}function nu(e){return e.transport.module.isConfigured(e)}function NS(e){return new Promise((t,n)=>{e.transport.module.configure(e,(r,i)=>{i?n(i):t(r)})})}function ru(e,t,n,r="event"){return new Promise((i,o)=>{try{e.transport.module.send(e,t,n,(s,c)=>{c?o(c):i(s)},r)}catch(s){o(s)}})}const OS=(e,t,n)=>ru(e,Dr.UserActivity,n,t);function kS(e,t,n,r,i=null,o=null,s=null,c={}){const l=r?Oi():null;return ru(e,Dr.UserActivity,vS(window.AppcuesBundleSettings,{source:"web",request_id:l,user_id:e.user.userId,group_id:i,session_id:o,account_id:e.settings.accountId,profile_update:t,group_update:s,events:n,context:c})).then(()=>l)}function iu(e,t){return e.transport.module.sendMetrics(e,Dr.UserActivity,t)}function ou(e,t){const{settings:{accountId:n},user:{userId:r,_localId:i}}=e;return tr(`${xr()}/accounts/${encodeURIComponent(n)}/users/${encodeURIComponent(r||i)}/content/${encodeURIComponent(t)}`,{headers:Pr()})}function RS(e,t){const{settings:{accountId:n},user:{userId:r,_localId:i}}=e;return tr(`${xr()}/accounts/${encodeURIComponent(n)}/users/${encodeURIComponent(r||i)}/experience_content/${encodeURIComponent(t)}`,{headers:Pr()})}function LS(e,t){const{settings:{accountId:n},user:{userId:r,_localId:i}}=e;return tr(`${xr()}/accounts/${encodeURIComponent(n)}/users/${encodeURIComponent(r||i)}/checklist/${encodeURIComponent(t)}`,{headers:Pr()})}function xS(e,t){return tr(`${bS()}/accounts/${encodeURIComponent(e.settings.accountId)}/styles/${encodeURIComponent(t)}`)}function PS(e){const{userId:t,_localId:n}=be(e);return tr(`${xr()}/accounts/${encodeURIComponent(e.settings.accountId)}/users/${encodeURIComponent(t||n)}/history`,{headers:Pr()})}function DS(e){const{userId:t,_localId:n}=be(e);return tr(`${xr()}/accounts/${encodeURIComponent(e.settings.accountId)}/users/${encodeURIComponent(t||n)}/widget?url=${encodeURIComponent(window.location.href)}`,{headers:Pr()})}const FS="access forbidden",US="unauthorized",HS=P(()=>window.AppcuesBundleSettings.API_HOSTNAME&&`wss://${window.AppcuesBundleSettings.API_HOSTNAME}/v1/socket`,"wss://api.appcues.net/v1/socket"),ds=[{endpoint:Dr.UserActivity,name:e=>`sdk:${e.settings.accountId}:${e.user.userId}`}];function ki(e,t){let n;for(const r of ds)if(r.endpoint===t){n=r;break}try{return e.transport.details.channels[n.name(e)]}catch{return null}}function MS(e,t){let n=null;return e&&e.channels&&e.channels.forEach(r=>{r.topic===t&&(n=r)}),n}function su(e){window.APPCUES_TEST_IDENTITY_VERIFICATION&&window.console.log(`Appcues Identity Verification Test: ${e}`)}function $S(e,t,n,r){function i(){const o=window[$i]||{},s={response_format:r};return window.APPCUES_TEST_IDENTITY_VERIFICATION||o.userIdSignature!==void 0&&o.userIdSignature!==null?{...s,token:o.userIdSignature||""}:s}return new Promise((o,s)=>{let c=MS(t,n);function l(u,d){u.receive("ok",()=>{u.channel.state!=="errored"?(su("Succeeded - sent update to API using User ID Signature"),o({topic:n,channel:u.channel})):s(new Error("Channel is in an errored state."))}).receive("error",f=>{if(f===FS||f===US){const{token:p}=i();su(`Failed - ${p?`invalid User ID Signature ${p}`:"no User ID Signature present"}`),!u.channel.isLeaving()&&!u.channel.isClosed()&&u.channel.leave(),d&&d()}else s(new Error(f))})}c&&c.canPush()?o({topic:n,channel:c}):c&&!c.canPush()?l(c.joinPush,()=>{l(t.channel(n,i).join())}):(c=t.channel(n,i),l(c.join()))})}const BS={create:(e,t,n,r)=>{const i=new SS(HS(),{reportError:n});i.onOpen(()=>{r({type:"WS",details:{socket:i,onMessage:e,onTimeout:t}})}),i.onError(()=>{r(null,new Error("Error connecting to WebSocket."))}),i.connect()},send:(e,t,n,r,i="event")=>{const o=ki(e,t);if(o&&o.canPush())o.push(i,n).receive("ok",s=>e.transport.details.onMessage({request_id:n.request_id,type:i,...s})).receive("timeout",()=>e.transport.details.onTimeout(n.request_id)).receive("error",s=>e.transport.details.onMessage({request_id:n.request_id,type:i,status:"error",...s})),r(n);else{const s=new Error("Channel was not configured.");s.extra={endpoint:t,message:n},r(null,s)}},subscribeToError:(e,t,n)=>{ki(t,n).onError(e)},sendMetrics:(e,t,n)=>{const r=ki(e,t);r&&r.canPush()&&r.push("sdk_metrics",n)},isConfigured:e=>ds.every(t=>{const n=ki(e,t.endpoint);return n?n.canPush():!1}),configure:(e,t)=>{const n=Af(e);n.isConnected()||n.connect();const r=hf(e)?"v2":"v1";return Promise.all(ds.map(i=>$S(e.transport,n,i.name(e),r))).then(i=>{const o={};i.forEach(s=>{o[s.topic]=s.channel}),t({channels:o})},i=>{t(null,i)})}},Ke={init:()=>"apc_init",request:e=>`apc_req_start_${e}`,attempt:e=>`apc_attempted_${e}`,response:e=>`apc_resp_end_${e}`,render:e=>`apc_rendered_${e}`,css:e=>`apc_css_loaded_${e}`,shown:e=>`apc_shown_${e}`},cu="apc_flow_performance";function Tn(e){try{document.visibilityState==="visible"&&window.performance.mark(e)}catch{}}function Cn(e,t){try{return window.performance.measure(cu,{start:e,end:t,detail:`${e} to ${t}`}).duration}catch{return Number.NaN}}const WS=()=>Tn(Ke.init()),VS=e=>Tn(Ke.request(e)),GS=e=>Tn(Ke.response(e)),jS=e=>Tn(Ke.attempt(e)),qS=e=>Tn(Ke.render(e)),KS=e=>Tn(Ke.css(e)),YS=e=>Tn(Ke.shown(e));function zS(e){return!(e.css_load_time<0||["api_response_duration","time_to_attempt","time_to_render","css_load_time","time_to_reveal","time_to_show"].some(n=>Number.isNaN(e[n])))}function XS(e){try{Object.values(Ke).forEach(t=>{window.performance.clearMarks(t(e))}),window.performance.clearMeasures(cu)}catch{}}function JS(e,t){try{const n=Ke.request(e),r=Ke.response(e),i=Ke.attempt(e),o=Ke.render(e),s=Ke.css(e),c=Ke.shown(e);let l=Number.NaN;try{l=Cn(0,Ke.init())}catch{}const u={...Number.isNaN(l)?{}:{init_time:l},api_response_duration:Cn(n,r),time_to_attempt:Cn(r,i),time_to_render:Cn(i,o),css_load_time:Cn(o,s),time_to_reveal:Cn(s,c),time_to_show:Cn(n,c),step_type:t,request_id:e};return XS(e),zS(u)?u:null}catch{return null}}function QS(e){return{onMessage(t){t.request_id&&GS(t.request_id),e.dispatch(Yh(t))},onTimeout(t){e.dispatch(zh(t))}}}function ZS(e,t){return()=>{}}const eT=b(qe.TOGGLE_ROW_DETAILS),tT=b(qe.TOGGLE_COLLAPSED),nT=b(qe.SET_CURRENT_PAGE),lu=b(qe.TRACK_PAGE),rT=b(qe.ADD_CONTENT_ERROR,(e,t)=>({contentId:e,errorMessage:t})),iT=b(qe.ADD_CHILD_ERROR,(e,t,n)=>({contentId:e,childId:t,errorMessage:n})),au=b(qe.CLOSE_DEBUGGER),oT=b(Je.PAUSE_EXPERIENCE),sT=b(Je.RESUME_EXPERIENCE),fs=b(Je.SHOW_EXPERIENCES),Fr=b(Je.SAVE_ON_HOLD_LAUNCHPADS),Ur=b(Je.UNHIDE_LAUNCHPADS),uu=b(Je.HIDE_LAUNCHPADS),du="EVENTS_TRIGGERED",cT=b(du),ps=b(yt.SET_SESSION),hs=b(yt.START_SESSION),lT=b(yt.SESSION_STARTED);function*fu(){let e=null;try{const t=yield v(ut);e=yield E(PS,t)}catch(t){const n=yield v(Lt);yield E(n,t,{extra:t.extra})}e&&(yield g(lS(e.journeys)))}function*pu(){let e=null;try{const t=yield v(ut);e=yield E(DS,t)}catch(t){const n=yield v(Lt);yield E(n,t,{extra:t.extra})}e&&(yield g(aS(e.contents)))}function*aT(){yield F(te,bt.LOADED_LAUNCHPAD,fu),yield F(te,bt.LOADED_LAUNCHPAD,pu)}function He(e,t,n){try{window[e].setItem(t,n)}catch{}}function ke(e,t){try{return window[e].getItem(t)}catch{return null}}function Me(e,t){try{window[e].removeItem(t)}catch{}}function uT(e,t){try{Object.keys(window[e]).forEach(r=>{r.startsWith(t)&&window[e].removeItem(r)})}catch{}}function dT(e){return z.ANNOTATION.includes(e)}function*Ri(){const e=yield E(ke,Fe,Wr);try{return JSON.parse(e)}catch{return null}}function fT(e,t,n,r){let i=e;return(i/=r/2)<1?n/2*i*i+t:-n/2*(--i*(i-2)-1)+t}function*pT(e,t){if(window.document?.documentMode){const n=e,r=n.scrollTop;if(r!==t){const i=yield E(Jp,t,r);let o=0;for(;o<i;)o+=$s,n.scrollTop=fT(Math.min(o,i),r,t-r,i),yield E(ve,$s)}return!0}return e.scroll({top:t,behavior:"smooth"}),!0}function*hT(e,t,n,r){for(;;){const i=hl(e,t,n);if(i.some((s,c)=>s.scrollTop!==r[c].scrollTop))return i;yield E(ve,200)}}function*mT(e,t,n,r){const i=[];if(r.every(s=>s.visibleInContainer))return{doneScrolling:r.map(()=>!0)};for(const{el:s,scrollTop:c}of r)i.push(E(pT,s,c));return yield Ge({doneScrolling:i,scrollTargetsChanged:E(hT,e,t,n,r)})}function*ET({payload:e}){yield g(Ry(e)),yield E(ve,Xi),yield g(ky(e))}function*gT(e){const t=yield*Ri();yield E(He,Fe,Wr,JSON.stringify({...t,...e}))}function*hu(e,t,n){if(Object.keys(e).length>0){const r=yield v(ei),i=Object.keys(e).filter(o=>!r[o]||!r[o].errorReported);if(i.length>0){const o={};i.forEach(s=>{o[s]=e[s]}),yield g(ce(Te(q.CHILDREN_ERRORED,t,{errors:o}),n)),yield g(Fy(i)),yield E(gT,i.reduce((s,c)=>({...s,[c]:{ts:Date.now()}}),{}))}}}function*yT(e){const t=yield*Ri();t&&Object.keys(t).length>0&&(e.forEach(n=>{delete t[n]}),yield E(He,Fe,Wr,JSON.stringify(t)))}function*ST(e){const t=yield v(ei),r=Object.keys(t).filter(i=>t[i].errorReported||t[i].existingError).filter(i=>e[i]&&!e[i].error&&t[i]&&!t[i].recoveryReported);if(r.length>0){const i=yield v(se);yield g(ce(Te(q.CHILDREN_RECOVERED,i,{children:r}))),yield g(Uy(r)),yield E(yT,r)}}function*TT(){let e,t=Ar();for(;(e=yield v(Be))&&e!==Q.ERROR;){const n=yield v(Xe),r=yield v(At),o=(yield n.map(c=>E(fl,(r[c.id]||{}).element||null,uo(c)))).reduce((c,l,u)=>(c[n[u].id]=l,c),{});let s=!1;if(Object.keys(o).forEach(c=>{const l=o[c],{_prevPosition:u}=r[c]||{};th(l,u||{})||(s=!0)}),s){yield g(Wa(o)),yield g(Dy(o)),t=Ar();const c=Object.keys(o).filter(u=>o[u].error).reduce((u,d)=>Object.assign(u,{[d]:o[d].errorMessage}),{}),l=yield v(se);yield E(hu,c,l),yield E(ST,o)}else{const c=Ar();c-t>1e3&&(yield g(Wa(o)),t=c);for(const l in r)if(Object.prototype.hasOwnProperty.call(r,l)){const u=r[l];if(u.isBeaconSettled||c-u.lastRepositionedTs>Zt&&(yield g(Ny(l,!0))),u.expanded&&!u.isTooltipSettled){const d=c-u.lastResizeTs>Zt,f=c-u.lastExpandedTs>vd;(d||f)&&(yield g(My(l,!0)))}}}yield E(ve,Zt)}}function*CT(){const e=yield v(Be);ne.inArray([Q.READY,Q.WILL_SHOW,Q.SHOWING,Q.WILL_CLOSE],e)||(yield g(Py()))}function*_T(){const e=yield*Ri();if(e){const t=Date.now(),n=Object.keys(e).reduce((r,i)=>(e[i].ts+gd>t&&(r[i]=e[i]),r),{});yield E(He,Fe,Wr,JSON.stringify(n))}}function*IT(e){let t=yield v(At);const n=yield v(Xe);let r=t[e]||{};const i=it(n,y=>y.id===e);let{element:o,error:s}=r;const{offset_y_percentage:c}=i,l=1-Number.parseFloat(c);for(;!o||s;)yield V(he.SET_ANNOTATIONS_POSITIONS),t=yield v(At),r=t[e]||{},o=r.element,s=r.error;const u=yield E(eh,o);if(ci(o)){if(window.document?.documentMode)return;setTimeout(()=>{o.scrollIntoView({behavior:"smooth",block:"center"})},0);return}let f=yield E(hl,o,l,u),p={};for(;!p.doneScrolling;)p=yield E(mT,o,l,u,f),f=p.scrollTargetsChanged}function*AT({payload:e}){dT(e.type)&&(yield g(sm(Kl(Bs.CALCULATE,e.id))))}function*vT(){const e=(yield E(Ri))||{};Object.keys(e).length>0&&(yield g(Hy(e)))}function*bT({payload:e}){let t=yield v(Bn);const{annotationId:n,isScrolling:r}=e;if(r)yield g({type:he.CONFIRM_SCROLLING,payload:r});else{for(;t.length>1&&t[0]!==n;)yield E(ve,200),t=yield v(Bn);yield E(ve,Xi),yield g({type:he.CONFIRM_SCROLLING,payload:!1})}}function*wT(){yield[F(te,$.CLEANUP_STEP,AT),F(Yl,he.START_CALCULATE_POSITIONS,TT,function*(){const e=yield v(se);return Kl(Bs.CALCULATE,e)}),F(te,he.SET_IS_SCROLLING_TO_ANNOTATION,bT),F(te,he.HIDE_AND_REMOVE_ACTIVE_ANNOTATIONS,ET),F(_T),F(vT)]}function mu(e){const t={};if(e){const n=e.replace(/^\?/,"").split("&");for(let r=0,i=n.length;r<i;r++){const o=n[r].split("=");try{t[o[0]]=decodeURIComponent(o[1])}catch{const[,s]=o;t[o[0]]=s}}}return t}function Eu(e){return mu(e.location.search).appcuesTestContentId||null}function Hr(e,t="appcue"){return mu(e.location.search)[t]||null}function _n(e,t="appcue"){if(!e)return e;const n=new RegExp(`(\\?)?(&)?((?:${t})=[^&#]+)(&)?`);return e.replace(n,(r,i,o,s,c)=>i&&c?"?":o&&c?"&":"")}const NT=e=>["Enter"," "].includes(e.key);function*gu(e){const t=yield e.map(r=>E(fl,null,r)),n=t.filter(r=>r.error);return n.length===t.length?{result:!1,failures:n.map(r=>r.errorMessage)}:{result:!0}}function*OT(e){for(;!(yield E(gu,e)).result;)yield E(ve,Zt);return{result:!0}}function*kT(e,t,n=null){const{promise:r,listener:i}=yield E(uh,e,t,n);let o,s;try{o=yield E(()=>r),s=!0}finally{return!s&&i&&(yield Kr())&&(yield E([e,e.removeEventListener],t,i)),o}}function Li(e,t=null,n=null){return{result:e,task:t,failures:n}}function*RT(e){const{result:t,failures:n}=yield E(gu,e);if(t)return Li(!0);const r=yield _t(OT,e);return Li(!1,r,n)}function*yu(e,t,n){let r,i;for(;;)try{const o=yield E(Oo,t);if(o.error)yield E(ve,Zt);else{if((r!==o||!i)&&(i&&(yield rt(i)),r=o,i=yield F(kT,r,e,n)),i&&i.result())return{result:!0};const{eventOccurred:s}=yield Ge({timeout:E(ve,Zt),eventOccurred:tn(i)});if(s)return{result:!0}}}catch{yield E(ve,Zt)}}function*LT(e){return(yield Ge([E(yu,e.params.event,e.params.selector),E(yu,"keydown",e.params.selector,NT)])).find(n=>n&&n.result)}function*Su(e){switch(e?e.type:null){case Ln.WAIT_FOR_ONE_ELEMENT:return yield E(RT,e.params.selectors);case Ln.WAIT_FOR_MOUSE_EVENT:{const n=yield _t(LT,e);return Li(!1,n)}default:return Li(!0)}}function*xT(e,t,...n){const{result:r,task:i}=yield E(Su,e);let o=r;if(!r&&i)try{o=(yield tn(i)).result}finally{i.isRunning()&&(yield Kr())&&(yield rt(i))}o&&(yield _t(t,...n))}function PT(e,t,n){return{type:e,params:t,context:n}}function ms(e,t){return PT(Ln.WAIT_FOR_ONE_ELEMENT,{selectors:e},t)}function DT(e){let t="unknown",n={};switch(e.type){case Ln.WAIT_FOR_MOUSE_EVENT:t=e.params.event,n={category:"element",element:e.params.selector};break;case Ln.WAIT_FOR_ONE_ELEMENT:t="ui_modified",n={category:"insertion",elements:e.params.selectors};break}return{interactionType:t,interaction:n}}function*ht(e,t){for(const n of t)yield g(Ue(e,n));yield g(we({},t.map(n=>Ve(n))))}function*Tu(e,t,n){const r=yield*Kt();yield*Mt({...r,flowId:e.id,stepId:t.id,status:n})}function*FT(...e){for(const t of e)yield g(ce(t))}function*UT(e,t,n){(yield V(({type:i,payload:o})=>i===ae.ACTIVATED_STEP_CHILD&&o.stepChildId===n.id||i===ae.CLOSE_FLOW&&o.flowId===e.id)).type===ae.ACTIVATED_STEP_CHILD&&(yield Ge({wait:E(xT,n.ui_conditions.next,FT,pt(q.STEP_INTERACTED,t.id,n.id,DT(n.ui_conditions.next)),pt(q.CHILD_NEXT,t.id,n.id)),cancel:V(({type:i,payload:o})=>i===ae.CLOSE_FLOW&&o.flowId===e.id)}))}function Cu(e,t){return t?{...e,_sdkMetrics:t}:e}function*HT(e,t,n){const r=yield v(It);for(;;){const i=yield V(t),o=i.params||{},s=o.stepId?ot(e,o.stepId):null;let c,l;const u=s?(c=Rt(e,0))&&c.id===s.id:!1,f=(s?(l=Rt(e,vc(e)-1))&&l.id===s.id:!1)||o.shouldEndFlow;switch(i.type){case q.STEP_ATTEMPTED:if(s&&Un(s)){if(on(s)){const y=[];u&&y.push(Xl(e,r)),y.push(Jl(e,s,r)),yield*ht(e.id,y);const{page_check_limit:h}=s.attributes.params,m=yield*Kt(),{remainingPagesToCheck:T}=m||{};yield*Mt({...m,remainingPagesToCheck:typeof T=="number"?T:typeof h=="number"?h:Ki})}const p=[];u&&p.push(oE(e,r)),p.push(uE(e,s,r)),yield*ht(e.id,p),yield*Tu(e,s,q.STEP_ATTEMPTED)}break;case q.STEP_SHOWN:if(s){if(Un(s)){const p=yield*Kt(),y=u||!p?Oi():p.submissionId,h=u||!p?yield E(Hr,window,"appcue"):p.fromPermalink;yield*Mt({...p,submissionId:y,status:q.STEP_SHOWN,fromPermalink:!!h})}u&&!of(s)&&n&&(yield E(qS,n))}break;case q.STEP_COMPLETED:if(s){const p=[dE(e,s,r)];f&&p.push(cE(e,r)),yield*ht(e.id,p),yield*Tu(e,s,q.STEP_COMPLETED)}break;case q.STEP_SKIPPED:s&&(yield*ht(e.id,[fE(e,s,o.stepChildId,r),lE(e,o.stepId,r)]),yield*Yt(e,s),yield g(En(e.id,kt.SKIPPED)),yield g(Nr()),yield g(Ur()));break;case q.STEP_END:if(s){const p=yield v(se);if(p===s.id&&(yield*Yt(e,s)),f)yield g(En(e.id,kt.COMPLETED));else{const y=Rt(e,Hn(e,s.id)+1);y.type===z.HOTSPOTS&&(yield g(Nr()),yield g(Ur())),p===s.id&&(yield g(t,Te(q.STEP_ATTEMPTED,y.id)),yield g(Rl(y,document.location.href)))}}break;case q.STEP_INTERACTED:if(s){const p=[],y=o.interaction||{};if(o.interactionType==="submit"&&y.category==="form"){const h={category:y.category,formId:y.formId};p.push(Ql(e,s,o.stepChildId,"submit",{...h,response:y.fields},r),TE(e,s,o.stepChildId,{...h,submissionId:y.submissionId,response:y.fields},r),...y.fields.map(m=>CE(e,s,o.stepChildId,{...h,submissionId:y.submissionId,...m},r)))}else p.push(Ql(e,s,o.stepChildId,o.interactionType,y,r));yield*ht(e.id,p)}break;case q.STEP_ERRORED:if(s){const p=[gE(e,s,o.error,o.details,r),pE(e,s,r),aE(e,r)];u&&p.splice(1,0,EE(e,o.error,o.details,r)),yield*ht(e.id,p)}break;case q.CHILD_ACTIVATED:yield g(uy(o.stepChildId,o.ts)),s&&Un(s)&&(yield*ht(e.id,[hE(e,s,o.stepChildId,r)]));break;case q.CHILD_DEACTIVATED:{const{stepChildId:p}=o,y=yield v(xc,p);yield g(dy(p)),s&&Un(s)&&(yield*ht(e.id,[mE(e,s,p,o.ts-y,r)]));break}case q.CHILDREN_ERRORED:{const p=Object.keys(o.errors||{});p.length>0&&(yield*ht(e.id,p.map(y=>yE(e,s,y,o.errors[y],r))));break}case q.CHILDREN_RECOVERED:{const p=o.children||[];p.length>0&&(yield*ht(e.id,p.map(y=>SE(e,s,y,r))));break}case q.CHILD_NEXT:if(s){const p=rn(s,o.stepChildId);let y=null;p>-1&&(y=(ao(s,p+1)||{}).id||null);let h=s.type;h===z.HOTSPOTS&&Fn(s)&&(h=z.SEQUENTIAL_HOTSPOTS,yield g(Va(y,!0))),yield g(Ua(h,s,o.stepChildId,y))}break;case q.CHILD_RUN:{const p=ao(s,rn(s,o.stepChildId));yield g(mn(o.stepChildId)),p&&p.ui_conditions&&p.ui_conditions.next&&(yield _t(UT,e,s,p));break}case q.CSS_LOADED:{u&&n&&KS(n);break}case q.STEP_REVEALED:{if(s){let p=null;u&&n&&(yield E(YS,n),p=yield E(JS,n,s.type));const y=[];Un(s)?(u&&y.push(Cu(Xl(e,r),p)),y.push(Jl(e,s,r)),yield*ht(e.id,y)):u&&(y.push(Cu(sE(e,r),p)),yield*ht(e.id,y))}break}}}}function Es(e){Me("localStorage",e),Me("localStorage",`${e}_timeout`)}function _u(e){if(!e)return!1;const t=ke("localStorage",e),n=JSON.parse(ke("localStorage",`${e}_timeout`))??0;return Date.now()>n||!t?(Es(e),!1):!0}function MT(e){return!e||!_u(e)?null:ke("localStorage",e)}function Iu(e,t,n){He("localStorage",e,t),He("localStorage",`${e}_timeout`,Date.now()+n)}function*$T(e,t){yield V(n=>n.type===ae.CANCEL_STEP&&n.payload.flowId===e),yield rt(t)}function*Au(e,t){const n=yield E(xn.expanding,5),r=yield E(Ic,n),i=yield _t(HT,e,r,t);return yield _t($T,e.id,i),r}function BT(e){if(e.uiConditions&&e.uiConditions.start)return e.uiConditions;let t;switch(e.type){case z.HOTSPOTS:{const n=nn(e);if(Fn(e)){const[r]=n;if(r){const i=[r.id],o=[uo(r)];t=ms(o,{stepChildIds:i})}else t=ms([],{stepChildIds:[]})}else{const r=n.reduce((i,o)=>[...i,uo(o)],[]);t=ms(r,{stepChildIds:n.map(i=>i.id)})}break}case z.MODAL:default:t=null}return{...e.uiConditions,start:t}}function*WT(e,t,n,r,i){let o=!1;try{o=(yield tn(e)).result,o&&(yield g(gi(n,tt.FLOWS)),yield g($o(n,r,i,t)))}finally{(yield Kr())&&(yield rt(e)),o||(yield g(t,lr))}}function*xi(e){for(;(yield v(Ef,e)).length>0;)yield V($.FINISHED_EVENT)}function*vu(e,t,n,r,i=!0){const o=yield E(Au,e,r),s=t?ot(e,t):Rt(e,0);Un(s)&&s.attributes.action_type!==mt.WAIT_FOR_PAGE&&(yield g(o,Te(q.STEP_ATTEMPTED,s.id)));const l=BT(s).start,{result:u,task:d,failures:f}=yield E(Su,l);if(u)return yield g(Am(e.id)),yield g(gi(e.id,tt.FLOWS)),yield g($o(e.id,s.id,n,o)),!0;const p=(l.context||{}).stepChildIds||[];if(f&&f.length>0&&p.length===f.length){const h=f.reduce((m,T,_)=>T?Object.assign(m,{[l.context.stepChildIds[_]]:T}):m,{});yield E(hu,h,s.id,o)}const y=[$.START_FLOW];return i!==!1&&y.push($.CANCEL_ATTEMPTS),yield _t(tE,{wait:E(WT,d,o,e.id,s.id,n),cancel:V(y)}),!1}function*bu(e,t,n,r){const i=yield E(Au,e,null);yield g($o(e.id,t,n,i,r))}function*VT(e){const{flowId:t,stepId:n,url:r,eventChannel:i,status:o}=e.payload,s=yield v(po,t),c=ot(s,n);c&&(c.type===z.HOTSPOTS&&(yield g(Nr()),yield g(Ur())),yield g(Rl(c,r,o)));const{payload:l}=yield V(u=>u.type===ae.CLOSE_FLOW&&u.payload.flowId===t);yield E(Me,Ie,Jt),yield g(cm(i)),yield Ge({wait:E(xi,t),cancel:E(ve,Ji)}),!s.redirect_url&&!s.next_content_id&&(yield g(Nr()),yield g(Ur())),l.type===kt.COMPLETED&&(s.redirect_url?(s.next_content_id&&(yield E(Iu,Nn,s.next_content_id,Ws)),yield E(jt,window,s.redirect_url,s.redirect_new_tab)):s.next_content_id&&(yield g(Sr(s.next_content_id))))}function*Kt(){try{return JSON.parse(yield E(ke,Ie,Jt))}catch{return{}}}function*Mt(e){yield E(He,Ie,Jt,JSON.stringify(e))}function*gs(e,t){const n=yield v(se);yield g(er(e)),yield g(ce(Te(q.STEP_ERRORED,n,{error:e.message,details:t})))}function*GT(e){const{step:t,status:n}=e.payload;switch(t.type){case z.MODAL:case z.HOTSPOTS:case z.SATISFACTION_SURVEY:yield g(n?ce(Te(q.STEP_END,t.id)):py(t.id));break;case z.ACTION:if(n)yield g(Hl(t,n));else if(t.attributes.action_type===mt.WAIT_FOR_PAGE){const r=yield*Kt(),i=n||r&&r.status||q.STEP_ATTEMPTED;yield g(Hl(t,i))}else yield g(_m(t));break;default:yield E(gs,new Error("Unknown step type."),JSON.stringify({type:t.type}))}}function*Yt(e,t){if(!t)return;(yield v(Be))===Q.SHOWING&&(yield g(hm()),yield E(ve,bd)),yield g(tm(t)),yield g(my(e.id,t.id))}function*jT({payload:e}){const t=e.eventChannel||(yield v(Tf));t&&(yield g(t,e.event))}function*qT({payload:e}){yield E([e,e.close])}function*KT(){yield[F(et,$.START_FLOW,VT),F(et,$.START_STEP,GT),F(te,$.SEND_LIFECYCLE_EVENT,jT),F(te,$.CLOSE_CHANNEL,qT)]}function YT(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return null}}function zT(e,t,n={}){let r=n;r=r===null?{}:r;const i=e.location.href;let o=r._sessionPageviews||0;(r._currentPageUrl!==i||t)&&(o+=1);const s=Eu(e),c=e.navigator,l=c.languages?c.languages[0]:c.language||c.userLanguage;let{referrer:u}=e.document,d=Math.floor(Math.random()*100);t?u||(u=r._currentPageUrl):(u=r._currentPageUrl===i?r._lastPageUrl:r._currentPageUrl,r._sessionRandomizer&&(d=r._sessionRandomizer));const f={_hostname:e.location.hostname,_lastBrowserLanguage:l,_lastPageTitle:r._currentPageTitle||"",_lastPageUrl:u||"",_updatedAt:Date.now(),_lastSeenAt:Date.now(),_userAgent:e.navigator.userAgent,_currentPageTitle:e.document.title,_currentPageUrl:i,_sessionRandomizer:d,_sessionPageviews:o,_timezoneCode:YT(),_timezoneOffset:new Date().getTimezoneOffset(),_appId:e.AppcuesBundleSettings?.defaultAppId||null};return s?(f._testContentId=s,f._testContentUrl=i,He(Ie,ji,!0)):r._testContentId&&r._testContentUrl&&(f._testContentId=r._testContentId,f._testContentUrl=r._testContentUrl),ke(Ie,ji)||(f._testContentId=null,f._testContentUrl=null),f}function wu(){return{_lastSeenAt:Date.now()}}function XT(e){return Object.keys(e).reduce((t,n)=>(hd.includes(n)&&(t[n]=e[n]),t),{})}const Ct={OVERLAY:"overlay",BACKGROUND:"background",FLOATING:"floating"};function JT(e){const{type:t,attributes:n}=e;return n&&n.steps||t==="nps"||t==="flow"?Ct.OVERLAY:t==="banner"||t==="persistent"?Ct.BACKGROUND:t==="launchpad"?Ct.FLOATING:Ct.OVERLAY}function QT(e){return e.reduce((t,n)=>{const r=JT(n);return t[r]||(t[r]=[]),t[r].push(n),t},{[Ct.OVERLAY]:[],[Ct.BACKGROUND]:[],[Ct.FLOATING]:[]})}function ys(e){const t=QT(e);return Object.keys(t).reduce((n,r)=>{const i=t[r]||[];if(i.length===0)return n;switch(r){case Ct.OVERLAY:{const{attributes:o}=i[0];o&&o.steps?n.contents=i.filter(s=>s.attributes&&s.attributes.steps):n.experiences=[...n.experiences,i[0]];break}case Ct.BACKGROUND:n.experiences=[...n.experiences,...i];break;case Ct.FLOATING:n.experiences=[...n.experiences,...i];break}return n},{contents:[],experiences:[]})}const ZT=Gn([Yn,Kn,jn,qn,zn],ii.createApi({clean:!0,trustedTypesPolicy:window.trustedTypes?.defaultPolicy})),eC=e=>{if(Wp(e)){if(!Ne(e,"autoplay"))return;const{autoplay:n,...r}=e.data.attrs;e.data.attrs=r}};function*Nu(e){const t=[];let n,r;const i=new Error("Invalid HTML.");i.extra={};const o="";for(const[s,c]of e.entries()){r=c;try{ZT(document.createElement("div"),Dt(`<div>${r.html}</div>`,{hooks:{create:eC}}))}catch(l){n||(n=yield v(se)),t.push({childNumber:s,stepChildId:r.id,error:l})}}return t.length===0?!0:(yield E(gs,Object.assign(i,{extra:{stepId:n,errors:t}}),o),!1)}function*tC({payload:{nextContentId:e}}){yield E(Iu,Nn,e,Ws)}const nC=()=>{const{sessionDuration:e=Nd}=window.AppcuesSettings||{};return{id:Oi(),timestamp:Date.now(),duration:e*6e4}};function*rC(){try{const e=yield E(ke,Fe,Gr),t=JSON.parse(e);if(!t.id||!t.timestamp)throw yield E(Me,Fe,Gr),new Error("Invalid session");return t}catch{return{}}}function*iC(){const e=nC();yield g(ps(e)),yield g(lT())}function*oC(){const e=yield v(be);(!e||!e.userId)&&(yield V(U.IDENTIFY));const t=yield E(rC);if(!t.id||t?.id?.includes("NaN")){yield g(hs());return}yield g(ps(t))}function*sC(){const e=yield v(Mn);yield E(He,Fe,Gr,JSON.stringify(e))}function*Ou(){const e=yield v(Mn);return!e.id||Date.now()-e.duration>e.lastEventTimestamp}function*cC(){if(yield E(Ou)){yield g(hs()),yield V(({type:n})=>n===yt.SESSION_STARTED);const e=yield v(Mn);return Ve(OE(e))}return null}function*lC({payload:e}){(yield v(kc))||(yield V(U.COMPLETED_IDENTIFY)),(yield v(Mn)).id||(yield V(yt.SET_SESSION));const{userId:r}=e,i=yield v(be),s=(i&&i.userId&&i.userId.toString())!==r.toString(),c=yield E(Ou);(s||c)&&(yield g(hs()))}function*aC(){return yield[F(et,U.INITIALIZE,oC),F(et,yt.SET_SESSION,sC),F(et,yt.START_SESSION,iC),F(te,$.START_IDENTIFY,lC)]}function*Pi(){return yield v(Pc)}function*Ss(e=!1){if(yield v(ff))return null;let n=yield E(ke,Ie,Xt);try{n=JSON.parse(n)}catch{n=null}const r=yield E(zT,window,e,n);if(yield E(He,Ie,Xt,JSON.stringify(r)),(yield E(Eu,window))&&window.history&&window.location){const l=yield E(_n,window.location.href,"appcuesTestContentId");yield E([window.history,window.history.replaceState],window.history.state,"",l),window.location.reload()}let o=yield E(ke,Fe,Wi);o||(o=yield E(Oi),yield E(He,Fe,Wi,o));const s=yield v(af),c=XT({_localId:o,_appcuesId:s,...r});return yield g(Tr(c,!0)),c}function*ku(){yield g(dm()),yield E(Me,Ie,Xt),yield E(Me,Fe,Wi),yield E(Me,Fe,Bi),yield E(Me,Fe,Br),yield E(Es,Nn),yield E(Me,Ie,Jt),yield E(Me,Fe,Gr),yield E(uT,Ie,Gi),yield E(Ss,!0)}function*Ru(e){const{properties:t,events:n}=e.payload,{_isAnonymous:r}=t,{userId:i}=e.payload,o=yield v(be),s=o&&o.userId&&o.userId.toString(),c=s!==i.toString();s&&c&&!r&&(yield E(ku)),yield g(um(i)),ne.defined(i)&&(yield E(He,Fe,Bi,i)),yield g(Tr({_doNotTrack:`${window.navigator&&window.navigator.doNotTrack}`[0]==="1",...t},!0));const l=yield v(be);yield g(we(l,n,!0))}function*Lu(){const e=yield v(ut);try{const t=yield E(NS,e);yield g(xl(t))}catch(t){yield g(xl(t))}}function*uC(){const e=yield V($.START_IDENTIFY);yield F(te,$.START_IDENTIFY,Ru),yield E(Ru,e),yield g(ym())}function*xu(){yield F(Lu);let e=yield V(U.CONFIGURE_TRANSPORT),t=0;for(;e.error&&t<5;)yield E(ve,100),yield F(Lu),e=yield V(({type:n})=>n===U.CONFIGURE_TRANSPORT),t+=1}function*dC(e){const t=e.filter(n=>n?.attributes?._builderButtonEvent);yield at(t.map(n=>g(Ue(n.id,n))))}function*Ts({properties:e,events:t,trigger:n,groupId:r=null,groupProperties:i=null}){let o=yield v(ut);(yield E(nu,o))||(yield E(xu),o=yield v(ut));const c=yield v(be),{id:l}=yield v(Mn),u={url:window.location.href,sdk_version:window.AppcuesBundleSettings&&window.AppcuesBundleSettings.VERSION},d=t.map(p=>({...p,context:u,attributes:{...p.attributes,sessionId:l,_identity:c}})),f=t.find(p=>p.name===Qt.PAGE_VIEW);try{const p=yield E(kS,o,e,d,n,r,l,i,u);p&&(yield g(Ll(p,f)),VS(p)),yield g(ps({lastEventTimestamp:t[t.length-1].timestamp})),yield g(Im())}catch(p){yield g(Ll(p))}}function Cs(e){for(const t of e)if(t.name===Qt.PAGE_VIEW)try{if(ne.string(t.attributes.url)&&t.attributes.url.length>0)return t}catch{}return null}function Pu(e){return on(e)&&Tt(e.attributes.params.url,window.location.href)}function*Du(e){let t=e,n=null,r=null,i=null,o=null,s=null;const c=yield v(ze);if(t&&(!c||c.id!==t&&(!c.migrated_from_step_id||c.migrated_from_step_id!==t))){if(r=window.location.href,yield g(Ei()),c&&ne.defined(c.id)){const u=yield v(se),d=ot(c,u);d&&(yield*Yt(c,d)),yield g(En(c.id,kt.SHOWING_OTHER_CONTENT))}const l=yield v(fr);if(l&&l[t])n=l[t];else{yield g(mm(t,r));const u=yield v(ut),d=yield v(Lt);try{n=yield E(ou,u,t)}catch(f){yield E(d,f,{extra:f.extra}),n=null}if(!n)try{i=yield E(LS,u,t),o=i?i.checklist:null}catch(f){yield E(d,f,{extra:f.extra}),i=null}if(!n&&!o)try{s=yield E(RS,u,t)}catch(f){yield E(d,f,{extra:f.extra}),s=null}}n&&(t=n.id),yield g(Bo([t],{[t]:n})),!n&&!o&&!s?yield g(er(new Error("No content returned."))):n&&(n=yield v(po,t))}return{shownUrl:r,content:n,checklistContent:o,experience:s}}function fC(e){return dr(e)&&Tt(e.attributes.params.url,window.location.href)}function pC(e,t){return!dr(e)&&t===q.STEP_COMPLETED}function*hC(){const e=JSON.parse(yield E(ke,Ie,Jt));if(e){const t=yield v(ze),n=t&&t.id===e.flowId,r=ot(t,e.stepId);let i=window.location.href;if(on(r)){if(yield E(Pu,r))return yield dt(bu,t,r.id,i,null),!0;const l=e.remainingPagesToCheck;return l===1?(yield g(Ei()),yield E(Yt,t,r),yield g(En(t.id,kt.CLEAR)),!1):(yield E(Mt,{...e,remainingPagesToCheck:l-1}),!0)}e.fromPermalink||(yield E(Me,Ie,Jt));let s;if(n)s=t,i=window.location.href;else{const c=yield E(Du,e.flowId);s=c.content,i=c.shownUrl,s&&(yield g(Ul()))}if(s){const c=ot(s,e.stepId),l=e.status,u=fC(c),d=on(c),f=e.navByADTT;if(u||f||d){let p=c,y=l;if(pC(c,l)&&(p=Rt(s,Hn(s,e.stepId)+1),y=q.STEP_ATTEMPTED),dr(p)||on(p)){if(y===q.STEP_COMPLETED&&(p=Rt(s,Hn(s,p.id)+1),y=null),on(p)){const{flowId:T,remainingPagesToCheck:_}=e,{page_check_limit:S}=p.attributes.params,A=typeof _=="number"?_:typeof S=="number"?S:Ki;yield E(Mt,{...e,flowId:T,stepId:p.id,status:q.STEP_ATTEMPTED,remainingPagesToCheck:A-1})}n&&(yield g(Ey(s.id,c.id)),yield E(Yt,s,c));const{flowId:h,submissionId:m}=e;return yield E(Mt,{...e,flowId:h,submissionId:m}),yield dt(bu,s,p.id,i,y),!0}}}}return!1}function*Fu(){yield g(Ml(window.location.href,!1));const e=yield v(ze);if(e){const r=JSON.parse(yield E(ke,Ie,Jt)),i=r?ot(e,r.stepId):null;i&&Pu(i)&&(yield E(Mt,{...r,status:q.STEP_SHOWN}))}const t=yield E(hC);let n=t;if(!t){let r;if(yield E(Hr,window,"showappcue")){if(r=yield E(Hr,window,"showappcue"),window.history){const i=yield E(_n,window.location.href,"showappcue");yield E([window.history,window.history.replaceState],window.history.state,"",i)}}else(yield E(Hr,window,"appcue"))&&(r=yield E(Hr,window,"appcue"));(yield E(_u,Nn))&&(r||(r=yield E(MT,Nn)),yield E(Es,Nn)),r&&(yield g(Sr(r)),n=!0)}return yield g(Ml(window.location.href,!0)),n}function*mC(e){const t=yield v(ze),n=yield v(se),r=ot(t,n),i=Cs(e);if(i&&i.attributes.url&&t!==null){const o=yield v(Sf);_n(i.attributes.url)!==_n(o)&&(r&&(yield*Yt(t,r)),yield g(En(t.id,kt.CLEAR)))}}function*EC({properties:e,events:t,groupProperties:n,groupId:r}){let i=e,o=n;if(Cs(t)){const s=yield E(Ss);i={...i,...s},r!=null&&(o={...o,...wu()});const c=yield v(fo);if(!Tt(c.url,window.location.href)){(yield v(Be))===Q.WILL_CLOSE&&(yield V(ae.CLOSE_STEP)),yield g(Ei());const d=yield v(So);d&&d.stopAll(),(yield E(Fu))||(yield E(mC,t)),(yield v(Hc))&&(yield at([E(fu),E(pu)]))}}return[i,o]}function*gC({properties:e,events:t,trigger:n,groupId:r,groupProperties:i}){(yield E(Pi))||(yield V(U.INITIALIZE),yield V(yt.SET_SESSION),yield V(U.CHECKED_FOR_INITIAL_CONTENT));const s=yield E(ke,Fe,Br),[c,l]=yield*EC({properties:e,events:t,groupProperties:i,groupId:r??s});let u=t;const d=yield E(cC);if(d){const f=t[0];f&&(d.timestamp=f.timestamp),u=[d,...t]}yield E(Ts,{properties:c,events:u,trigger:n,groupId:r??s,groupProperties:l})}function*yC(){const e=yield E(xn.expanding,10),t=yield Bd([$.START_ACTIVITY,$.START_GROUP_ACTIVITY],e),n=yield v(be);(!n||!n.userId)&&(yield V(U.IDENTIFY));let r=[];yield F(function*(){for(;;){const{payload:o}=yield V($.START_IDENTIFY),s=yield v(be);o.userId!==s?.userId&&r.length>0&&(yield rt(...r),r=[])}});let i;for(;;){i=yield V(t),yield E(ve,wd);const o=yield Wd(t);let s=i.payload.properties||{},c=i.payload.events||[],l=i.payload.trigger||!1,u=i.payload.groupId||null,d=i.payload.groupProperties||null;o.forEach(y=>{const{payload:h}=y;s={...s,...h.properties},h.events&&(c=[...c,...h.events]),h.trigger&&(l=!0),h.groupId!=null&&(u=h.groupId),h.groupProperties&&(d={...d,...h.groupProperties})});let f=!1,p=!1;if(c=c.filter(y=>Cs([y])?_n(y.attributes.url)!==_n(window.location.href)||f?!1:(f=!0,!0):(p=l,!0)),l=f||p,Object.keys(s).length>0||c.length>0||Object.keys(d??{}).length>0||u!=null){const y=yield F(gC,{properties:s,events:c,trigger:l,groupId:u,groupProperties:d}),h=yield F(dC,c);r.push(y,h)}}}function*Uu(e,t){const n=yield v(uf,e);if(n&&n.length>0)for(const r of n){let i=[t];e==="all"&&(i=[t.id,...i]),yield E([r.context||window,r.callback],...i)}}function*SC({payload:e}){const{flowId:t,event:n}=e,r=yield dt(Uu,n.id,n),i=yield dt(Uu,"all",n);yield tn(r,i),yield g(Jh(t,n))}function*TC({payload:e}){const t=yield E(Ba,e.fields);if(t.result||e.ignoreValidation){if(!e.fields.some(c=>c.value)){yield E(e.onSuccess);return}const r=yield v(se),i=yield v(st),{submissionId:o}=yield*Kt();yield g(ce(pt(q.STEP_INTERACTED,r,i,{interactionType:"submit",interaction:{category:"form",formId:e.formId,submissionId:o,fields:e.fields.map(c=>({fieldId:c.fieldId,fieldType:c.validation,fieldRequired:c.required,label:c.label,value:c.value,formFieldIndex:c.formFieldIndex,customReportingLabel:c.customReportingLabel}))}}))),yield E(e.onSuccess);const s=e.fields.reduce((c,l)=>{if(l.label){const u=Ed+rE(l.label);return Object.assign(c,{[u]:l.value})}return c},{});Object.keys(s).length>0&&(yield g(we(s,[],!1)))}else yield g(cy(t.errors))}function*CC({payload:e}){const{shownUrl:t,content:n,checklistContent:r,experience:i}=yield E(Du,e);if(i&&(yield g(fs([i]))),n&&(yield E(vu,n,null,t,null,!1)),r&&!(yield v(go,Q.SHOWING)).map(c=>c.id).includes(r.id)){const{userId:c}=yield v(be);yield E(Me,Ie,`${Gi}${r.id}`),yield g(Zn(c,{_showChecklist:r.id}))}}function*_C(){const e=yield v(Be);if(ne.inArray([Q.READY,Q.WILL_SHOW],e)){if(e!==Q.WILL_SHOW&&(yield V(U.WILL_SHOW_CONTENT)).error)return;yield E(ve,Xi),yield g(pm());const t=yield v(se);yield g(ce(Te(q.STEP_REVEALED,t)))}}function*IC(){const e=yield Ge({cancel:V($.CANCEL_ATTEMPTS),result:E(_C)}),t=yield v(Be);if(e.cancel&&t===Q.WILL_SHOW){const n=yield v(ze);if(n&&ne.defined(n.id)){const r=yield v(se),i=ot(n,r);i&&(yield*Yt(n,i)),yield g(En(n.id,kt.SHOWING_OTHER_CONTENT))}}}function*AC(){if(yield v(sn)){(yield v(ye)).type===z.HOTSPOTS||(yield g(vi()),yield g(uu()));const r=yield v(ho),i=yield v(yf);if(r&&!i[r]){let o;try{const s=yield v(ut);o=yield E(xS,s,r)}catch(s){const c=yield v(Lt);yield E(c,s.message,{extra:s.extra})}o&&(yield g(fm({[r]:o})))}yield g(nm())}}function*vC(){let e=yield v(be);const{_localId:t}=e;t||(yield V(({type:r,payload:i})=>r===U.UPDATE_USER&&ne.defined(i.profile._localId)),e=yield v(be));const{_localId:n}=e;yield g(Zn(`anon:${n}`,{_isAnonymous:!0},[Gt(Qt.PAGE_VIEW,{url:window.location.href})]))}function*bC({payload:e}){(yield v(kc))||(yield V(U.COMPLETED_IDENTIFY));let n=yield v(be),{_appcuesId:r}=n;for(;!r;)yield V(U.UPDATE_USER),n=yield v(be),{_appcuesId:r}=n;try{n=JSON.parse(JSON.stringify(n))}catch{}yield E(e,n)}function*wC({payload:e}){const t=yield v(Qr,e);t&&t.length>0&&(yield g(Tm(e)),yield t.map(n=>rt(n)))}function NC(e){return e===null||e===Q.ERROR}function OC(e,t){return!!(e&&t)}function*kC(){const e=yield v(ze),t=yield v(se),n=ot(e,t);yield g(Ei()),yield E(Yt,e,n),yield g(En(e.id,kt.CLEAR))}function*RC(e){const{currentUrl:t,shouldOverrideCurrentFlow:n,requestId:r}=e.payload,i=yield v(gf),o=yield v(Be),s=yield v(sn);if(!(!i||i.length===0)&&(NC(o)||OC(o,n))){let c=!0;const l=yield v(fr);for(const u of i){const d=l[u];if(s===d.id)return;const f=yield E(ea,d.id,tt.FLOWS);if(f&&(yield g(gi(d.id,tt.FLOWS))),o&&n&&(yield E(kC)),!f){if(yield E(vu,d,null,t,r)){c&&(yield E(jS,r));return}c=!1}}}}function*Hu(e,t,n,r){const i=yield v(ut),o=e.getEntriesByType("resource").filter(s=>s.name.match(/fast\.appcues\./)).map(s=>s.toJSON());yield E(iu,i,{api_request_start:Math.round(n-t),api_response_duration:Math.round(r-n),timing:o,sdk_version:window.AppcuesBundleSettings.VERSION})}function*LC(){try{yield V(yt.SET_SESSION);const e=window.performance,n=(yield v(Mn)).timestamp%100===0;if(e.getEntriesByName){const r=e.getEntriesByName("apc-init","mark")[0].startTime,{payload:{requestId:i}}=yield V(u=>u.type===U.SENT_REQUEST&&u.payload),o=e.now(),{payload:s}=yield V(u=>u.type===$.START_HANDLE_MESSAGE&&u.payload.request_id===i),c=e.now();(s.contents&&s.contents.length>0||(s.content&&s.content.length>0?ys(s.content).contents.length>0:!1))&&document.visibilityState==="visible"&&(yield V($.START_CHECK),yield dt(function*(){const d=yield Ge({imm:V(U.STARTED_FLOW_IMM),show:V(U.SHOW_CONTENT),start:V($.START_FLOW),check:V($.START_CHECK)});if(!d.imm)return;const f=yield v(po,d.imm.payload),p=Rt(f,0);if(on(p)||dr(p)||(yield V(U.WILL_SHOW_CONTENT)).error)return;const m=e.now();yield V(ae.LOADED_CSS);const T=e.now();yield V(U.SHOW_CONTENT);const _=yield v($n),S=yield v(ut);yield E(iu,S,{render_time:Math.round(m-c),css_load_time:Math.round(T-m),time_to_show:Math.round(e.now()-r),content_type:_,sdk_version:window.AppcuesBundleSettings.VERSION}),n||(yield*Hu(e,r,o,c))})),n&&(yield*Hu(e,r,o,c))}}catch{}}function*xC(){const e=JSON.parse(yield E(ke,Ie,Vr));if(e){const{checklistId:t,itemId:n,actionIndex:r,checklist:i}=e;yield E(Me,Ie,Vr),yield g(Za(t,n,r+1,i))}return!1}function*PC(){const e=yield V($.START_INITIALIZE);if(!(yield E(Pi))){const n=yield E(ke,Fe,Bi);n!==null&&(yield g(Zn(n,{},[Gt(Qt.PAGE_VIEW,{url:window.location.href})])));const r=yield E(wS,e.payload.dispatchMessage.onMessage,e.payload.dispatchMessage.onTimeout,e.payload.transportModule);yield E(Ss,!0),yield g(am({type:r.type,module:e.payload.transportModule,details:r.details})),yield E(Fu),yield E(xC)}}function*DC({payload:{groupId:e,groupProperties:t}}){const n={...t,...wu()};yield g(Qh(e,n)),yield E(He,Fe,Br,e),yield g(Om({groupId:e,groupProps:n}))}function*FC({payload:e}){const t=yield v(fr);if(Object.prototype.hasOwnProperty.call(t,e))return;const n=yield v(ut),r=yield E(ou,n,e);yield g(Bo([e],{[e]:r}))}function*UC(){yield[dt(PC),dt(uC),dt(LC),F(te,$.START_EVENT,SC),F(yC),F(te,$.START_ANONYMOUS,vC),F(te,$.START_FORM_SUBMISSION,TC),F(et,$.START_SHOW,CC),F(et,ae.LOADED_CSS,IC),F(te,$.PREPARE_CONTENT,AC),F(te,$.START_RESET,ku),F(te,U.WAIT_IDENTIFY,bC),F(te,$.STOP_TASKS,wC),F(et,$.START_CHECK,RC),F(te,ae.SET_NEXT_CONTENT_ID_COOKIE,tC),F(te,$.START_IDENTIFY_GROUP,DC),F(te,U.PREFETCH_FLOWS,FC)]}function Mu(e,t){return e.innerText==null?!1:t?e.innerText.replace(/\r\n|\r|\n/g," ").toLowerCase().trim()===t.toLowerCase().trim():!0}function $u(e,t){if(Object.prototype.hasOwnProperty.call(t,"order_filter")){const n=Oo(t);return e===n}return!0}function HC(e,t){try{return!e.includes("|shadow-root|")&&!e.includes("|iframe|")&&(t.matches?t.matches(e):t.msMatchesSelector(e))?t:it(oi(e),n=>n.contains(t))}catch{return null}}function _s({events:e,$element:t,eventType:n}){return e.map(r=>{const{targets:i}=r;for(const{event:o,selector:s}of i)if(o===n){const{selector:c,text_filter:l}=s,u=HC(c,t);if(u&&Mu(u,l)&&$u(u,s))return[r,u]}return null}).filter(r=>r)}function Is({events:e,matchSelector:t}){try{return e.flatMap(n=>n.targets).filter(({selector:n})=>t(n.selector)).flatMap(({selector:n})=>{const{selector:r,text_filter:i}=n;return oi(r).filter(o=>Mu(o,i)&&$u(o,n))})}catch{return[]}}function Di(e){return e.composedPath?e.composedPath():[e.target]}function MC({events:e,onEventsTriggered:t,stopPropagation:n}){const r=e.filter(({targets:s})=>s.some(({event:c})=>c==="click")),i=s=>{const[c]=Di(s),l=_s({events:r,$element:c,eventType:"click"}).map(([u])=>u);n&&l.length>0&&(s.preventDefault(),s.stopImmediatePropagation()),t(l)},o=s=>{(s.key===" "||s.key==="Enter")&&i(s)};try{const s=Is({events:r,matchSelector:c=>c.includes("|iframe|")});return s.forEach(c=>{c.addEventListener("click",i,!0),c.addEventListener("keyup",o,!0)}),document.addEventListener("click",i,!0),document.addEventListener("keyup",o,!0),()=>{s.forEach(c=>{c.removeEventListener("click",i,!0),c.removeEventListener("keyup",o,!0)}),document.removeEventListener("click",i,!0),document.removeEventListener("keyup",o,!0)}}catch{return null}}const $C=(e,t)=>e.includes(t);function BC({events:e,onEventsTriggered:t}){const n=e.filter(({targets:s})=>s.some(({event:c})=>c==="input"));let r=[];const i=s=>{const[c]=Di(s),u=_s({events:n,$element:c,eventType:"input"}).map(([d])=>d).filter(d=>!$C(r,d));r=[...r,...u],t(u)},o=()=>{r=[]};try{const s=Is({events:n,matchSelector:c=>c.includes("|iframe|")});return s.forEach(c=>{c.addEventListener("input",i),c.addEventListener("blur",o,!0)}),document.addEventListener("input",i),document.addEventListener("blur",o,!0),()=>{s.forEach(c=>{c.removeEventListener("input",i),c.removeEventListener("blur",o,!0)}),document.removeEventListener("input",i),document.removeEventListener("blur",o,!0)}}catch{return null}}function Bu(e,t){let n;const r=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,i=>i.shadowRoot&&i.nodeName!=="APPCUES-EXPERIENCE-CONTAINER"&&i.nodeName!=="APPCUES-EXPERIENCE-CONTAINER-BUILDER"&&i.nodeName!=="APPCUES-BUILDER"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT);for(;(n=r.nextNode())!==null;)t(n.shadowRoot)}function WC({events:e,onEventsTriggered:t}){const n=e.filter(({targets:o})=>o.some(({event:s})=>s==="hover")),r=new Set,i=o=>{const[s]=Di(o),c=_s({events:n,$element:s,eventType:"hover"});c.length>0&&c.reduce((u,[d,f])=>(u.has(f)?u.set(f,[...u.get(f),d]):u.set(f,[d]),u),new Map).forEach((u,d)=>{if(r.has(d))return;r.add(d);const f=window.setTimeout(()=>{t(u)},500),p=y=>{const[h]=Di(y);h===d&&(window.clearTimeout(f),r.delete(d),d.removeEventListener("mouseleave",p))};d.addEventListener("mouseleave",p)})};if(n.length>0)try{document.addEventListener("mouseover",i);const o=Is({events:n,matchSelector:s=>s.includes("|iframe|")});return o.forEach(s=>{s.addEventListener("mouseover",i)}),Bu(document.body,s=>s.addEventListener("mouseover",i)),()=>{document.removeEventListener("mouseover",i),o.forEach(s=>{s.removeEventListener("mouseover",i)}),Bu(document.body,s=>s.removeEventListener("mouseover",i))}}catch{return null}return()=>{}}const Wu="appcues/click-to-track";function VC({name:e,timestamp:t,attributes:{url:n,interaction:r,selector:i}}){return{source:Wu,id:e,name:e,timestamp:t,url:n,interaction:r,...Object.keys(i).reduce((o,s)=>({...o,[`selector.${s}`]:i[s]}),{})}}const Vu=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function*GC(e=[],t=!1){const n=ag(),r=e.filter(({urls:o})=>o.some(s=>s==="*"||Tt(s,n))),i=ar(o=>{const s=MC({events:r,onEventsTriggered:o,stopPropagation:t}),c=BC({events:r,onEventsTriggered:o}),l=WC({events:r,onEventsTriggered:o});return()=>{s(),c(),l()}},xn.expanding(5));try{for(;;){const o=yield V(i);o.length>0&&(yield g(cT(o.map(({name:s,targets:[{event:c,selector:l}]})=>Gt(s,{url:n,interaction:c,selector:{css:l.selector,...Vu(l,"text_filter")?{textFilter:l.text_filter}:{},...Vu(l,"order_filter")?{orderFilter:l.order_filter}:{}}})))))}}finally{(yield Kr())&&i.close()}}function*jC(e=[]){const[t,n]=yield[F(function*(){try{if(!e||e.length===0)return;for(;;){const i=yield F(GC,e);yield V(({type:o,payload:s})=>o===$.START_ACTIVITY&&s.events.some(c=>c.name===Qt.PAGE_VIEW)),yield rt(i)}}catch{}}),F(ur,du,function*({payload:i}){try{(yield E(Pi))||(yield V(U.INITIALIZE));const s=yield E(ke,Fe,Br);yield E(Ts,{properties:{},events:i,trigger:!0,groupId:s??null}),(yield v(pf))&&(yield i.map(l=>{const u=VC({...l,name:l.name.replace("appcues_custom:","")});return g(Ue(u.id,u))}))}catch{}})];t.isRunning()||n.cancel()}function Gu({attributes:e}){return e?!!e._builderButtonEvent:!1}function qC(e){const t=Gu(e),n=md.some(i=>e?.id?.startsWith(i)),r=e?.source===Wu;return!t&&!n&&!r}function KC(e){return`${e.name} (Appcues)`}function YC(e,t){return{...e,user:t}}function As(e,t,n,r,i){e(t,"event",n,r,i,{nonInteraction:!0})}function zC(e,t={}){switch(e){case"Form Field Submitted (Appcues)":{const{user:n,interaction:r,interaction:{category:i,destination:o,formId:s,fieldId:c,label:l,value:u}={},...d}=t;return{...d,category:i,destination:o,formId:s,fieldId:c,label:l,value:u}}case"Form Submitted (Appcues)":case"Step Interacted (Appcues)":default:return t}}function XC(e){if(!e.user)return e;const t=Object.entries(e.user).reduce((n,[r,i])=>{if(r.startsWith("_")){const o=r.slice(1);n[o]=i}else n[r]=i;return n},{});return{...e,user:t}}const ju=e=>{const t=new Set(["string","boolean","number"]);return Array.isArray(e)?e.every(n=>t.has(typeof n)):t.has(typeof e)};function JC(e){const{user:t,...n}=e,r=Object.entries(n).reduce((o,[s,c])=>(ju(c)&&(o[s]=c),o),{});if(!t)return r;const i=Object.entries(t).reduce((o,[s,c])=>(ju(c)&&(o[`user.${s}`]=c),o),{});return{...r,...i}}function QC(e,t){const{settings:n}=t(),r=i=>()=>{e.on("all",(o,s)=>{if(qC(s))return;const c=KC(s),l=Gu(s)?s.name:o;try{if(l&&c){const u=YC(s,t().user);i(l,c,u)}}catch{}})};return{initMixpanel:r((i,o,s)=>{window.mixpanel.track(o,s)}),initHeap:r((i,o,s)=>{const c=zC(o,s);window.heap.addUserProperties({appcuesUserID:be(t()).userId}),window.heap.track(o,c,"appcues")}),initIntercom:r((i,o,s)=>{window.Intercom("trackEvent",o,s)}),initCIO:r((i,o,s)=>{window._cio.track(o,s)}),initVero:r((i,o,s)=>{window._veroq.push(["track",o,s])}),initWoopra:r((i,o,s)=>{window.woopra.track(o,s)}),initAmplitude:r((i,o,s)=>{window.amplitude.logEvent(o,s)}),initKlaviyo:r((i,o,s)=>{window._learnq.push(["track",o,s])}),initTD:r((i,o,s)=>{window.td.trackEvent(o,s)}),initLl:r((i,o,s)=>{window.ll("tagEvent",o,s)}),initCalq:r((i,o,s)=>{window.calq.action.track(o,s)}),initKM:r((i,o,s)=>{window._kmq.push(["record",o,s])}),initGA:r((i,o,s)=>{const{flowId:c,checklistId:l,name:u}=s,d=c||l||u,f="appcues";let p="";try{p=n.integrations.ga.trackerName||""}catch{}if(d){const y=window[window.GoogleAnalyticsObject];ne.function(y)?y(h=>{if(p)As(y,`${p}.send`,f,i,d);else if(h)As(y,"send",f,i,d);else{const m=y.getAll().reduce((T,_)=>({...T,[_.get("trackingId")]:_.get("name")}),{});Object.keys(m).forEach(T=>{As(y,`${m[T]}.send`,f,i,d)})}}):window._gaq?window._gaq.push(["_trackEvent",f,i,d,void 0,!0]):window.gtag&&(s.checklistName?window.gtag("event",o,{appcues_event_id:i,appcues_checklist_id:s.checklistId,appcues_checklist_name:s.checklistName}):window.gtag("event",o,{appcues_event_id:i,appcues_flow_id:d,appcues_flow_name:s.flowName}))}}),initGTM:r((i,o,s)=>{window.dataLayer.push({event:o,appcues_event_id:i,appcues_flow_id:s.flowId,appcues_flow_name:s.flowName})}),initSegment:r((i,o,s)=>{window.analytics.track(o,s,{integrations:{Appcues:!1}})}),initRudderstack:r((i,o,{id:s,timestamp:c,...l})=>{window.rudderanalytics.track(o,l,{integrations:{Appcues:!1}})}),initBraze:r((i,o,s)=>{window.braze.logCustomEvent(o,s)}),initFullStory:r((i,o,s)=>{const c=XC(s);window.FS.event(o,c)}),initHotjar:r((i,o)=>{window.hj("event",o)}),initLogRocket:r((i,o,s)=>{const c=JC(s);window.LogRocket.track(o,c)})}}function qu(e,t){const n={...t,url:e};return Gt(Qt.PAGE_VIEW,n)}function ZC({dispatch:e,getState:t}){const n={identify(i,o={}){let s=i,c=o;if(!ne.object(c)){c={};try{Lt(t())(new Error("Appcues.identify() called with invalid user properties"))}catch{}}ne.object(s)?(c=s,s=c.userId||be(t()).userId||null):(ne.undefined(s)||s===null)&&(s=c.userId||be(t()).userId||null),delete c.userId,ne.defined(s)?e(Zn(s,c,[qu(window.location.href)])):e(Tr(c,!0))},track(i,o={}){i&&e(we({},[Gt(i,o)],!0))},page(i,o={}){let s=o;ne.object(i)?s=i:ne.string(i)&&(s={...s,name:i}),e(we({},[qu(window.location.href,s)],!0))},anonymous(){e(Zh())},show(i){e(Sr(i))},clearShow(){e(iS())},on(i,o,s){e(Dl(i,o,s))},off(i,o,s){e(Fl(i,o,s))},once(i,o,s){const c=function(...u){o.apply(this,u),e(Fl(i,c,s))};e(Dl(i,c,s))},reset(){e(rm())},debug(i=!0){e(i?im():au())},loadLaunchpad(i,o){e(cS({selector:i,...o}))},group(i,o){let s=i,c=o;if(!ne.object(c)){c={};try{Lt(t())(new Error("Appcues.group() called with invalid group properties"))}catch{}}ne.object(s)&&(c=s),(ne.object(s)||s==null||s==="")&&(s=c.groupId||be(t()).groupId||null),delete c.groupId,s==null&&(c={}),e(lm(s,c))}};Object.assign(n,{user(i=!0){if(i)return new Promise(s=>{e(gm(s))});const o=be(t());try{return JSON.parse(JSON.stringify(o))}catch{return o}},settings(){return{...t().settings}},content(){const i=t();return{content:{...i.content},orderedContent:[...i.orderedContent],currentContent:{...i.currentContent,...ye(i)}}}});const r=QC(n,t);return Object.assign(n,r),Object.assign(n,{start(){n.page()},experience:{pause:i=>e(oT(i)),resume:i=>e(sT(i)),show:i=>e(fs([i]))}}),n}const Ku="https://studio.appcues.com",e_=e=>{switch(e.type){case z.MODAL:switch(e.attributes.pattern_type){case"shorty":return"Slideout Group";case"fullscreen":return"Full Screen Modal Group";case"left":return"Sidebar Group";case"flow":default:return"Modal Group"}case z.HOTSPOTS:return e.attributes.sequential?"Tooltip Group":"Hotspot Group";case z.ACTION:return e.attributes.action_type===mt.WAIT_FOR_PAGE?"Wait For Matching Page":null;default:return null}};function t_(e){return!!(e&&e.attributes&&e.attributes.params&&e.attributes.params.url)}function n_(e){return!!(e&&e.type===z.ACTION&&e.attributes.action_type===mt.WAIT_FOR_PAGE)}const Yu=(e,t,n)=>{const r=ot(e||{},t),i=rn(r,n);return a.html("div",null,a.html("div",null,`${(e||{}).name}, Step ${Hn(e,t)+1} (${e_(r||{})})${i>-1?`, Part ${i+1}`:""}`),n_(r)&&t_(r)?a.html("div",null,`Page to match: ${r.attributes.params.url}`):"")};function r_(e){const{lastTrackedPage:t,currentPage:n,currentContent:r,currentFlow:i,currentContentStatus:o,currentStepId:s,currentStepChildId:c,stepChildErrors:l,user:u,group:d,settings:f,isTransportInitialized:p,rowState:y,onToggleRowDetails:h,onToggleCollapsed:m,onCloseDebugger:T}=e,_=t&&n,S=t===n,A=u&&ne.defined(u.userId),I=d&&ne.defined(d.groupId),C=Object.keys(l||{}).reduce((L,H)=>{const R=l[H];return R.errorReported&&!R.recoveryReported?[...L,{...R,stepChildId:H}]:L},[]),k=f.accountId&&u.userId;return a.html("debugger",null,a.html("div",{"class-header":!0,"on-click":m},a.html("div",{"class-logo":!0},a.html("a",{"attrs-href":Ku,"attrs-target":"_blank"},a.html(oa,{width:"20px",height:"20px"}))),a.html("div",{"class-title":!0},"Appcues Status"),a.html("div",{"class-version":!0},f.VERSION?`SDK Version: ${f.VERSION}`:"SDK Version Pending"),a.html("div",{"class-close-button":!0},a.html("a",{"on-click":T,role:"button","aria-label":"Close debugger"},""))),a.html("div",{"class-panel":!0},a.html(In,{status:f&&f.accountId?"check":"alert",category:"Installed",description:`Account ID: ${f&&f.accountId?f.accountId:"Unknown"}`}),a.html(In,{status:p?"check":"alert",category:`${p?"":"Not "}Connected to Appcues`}),a.html(In,{status:_?S?"check":"alert":"pending",category:"Tracking Pages",description:_?S?"Current URL matches last tracked":"URL has changed since last tracked":"Navigate to another page to test",showDetails:(y||{})["track-data"],onToggleRowDetails:()=>h("track-data"),details:a.html("span",null,a.html("b",null,"Last Tracked URL:"),a.html("br",null),t,a.html("br",null),a.html("br",null),a.html("b",null,"Current URL:"),a.html("br",null),n)}),a.html(In,{status:A?"check":"alert",category:`User ${A?"":"Not "}Identified`,description:A?u._isAnonymous?"Anonymous User":`User ID: ${u.userId}`:"Have you called `identify`?",showDetails:(y||{})["user-data"],onToggleRowDetails:()=>h("user-data"),details:A?a.html(zu,{user:u}):a.html("span",null,"Please identify the current user by providing a userId and tracked properties")}),I?a.html(In,{status:"check",category:"Group Identified",description:`Group ID: ${d.groupId}`,showDetails:(y||{})["group-data"],onToggleRowDetails:()=>h("group-data"),details:a.html(zu,{user:d.groupProps})}):a.html(le,null),r?a.html(In,{status:o==="SHOWING"?"check":"pending",category:"Showing Flow",description:i.name,showDetails:(y||{})["flow-details"],onToggleRowDetails:()=>h("flow-details"),details:Yu(i,s,c)}):a.html(le,null),C.length>0?a.html(In,{status:"warn",category:"Content Omitted",description:"Some content isn't showing",showDetails:(y||{})["omit-content"],onToggleRowDetails:()=>h("omit-content"),details:a.html("div",null,"Some of the content this user is eligible for isn't showing. If there are dynamic elements on your page, this may be expected. Otherwise, please double-check your selectors.",a.html("ul",null,C.map(L=>{const{stepChildId:H,flow:R}=L,K=Nc(Dn(R),H)||{};return a.html("li",null,Yu(R,K.id,H))})))}):a.html(le,null)),a.html("div",{"class-footer":!0},a.html("a",{href:`${Ku}/diagnostics?view_as=${f.accountId}&context=${window.btoa(JSON.stringify({userId:u.userId,url:t}))}`,classNames:k?"":"disabled",target:"_blank",rel:"noreferrer"},a.html("div",{"class-launch-diagnostics":!0},k?"View Flow Eligibility for User":"Identify User to View Flow Eligibility"))))}function In({status:e,active:t,category:n,description:r,details:i,showDetails:o,onToggleRowDetails:s}){return a.html("div",{classNames:`row ${t?"active":""}`},a.html("div",{classNames:`category-container ${e}`},a.html("div",{"class-icon":!0}),a.html("div",{"class-name":!0},n),r?a.html("div",{"class-description":!0},r):a.html(le,null),i?a.html("div",{classNames:`toggle-details ${o?"open":"closed"}`,"on-click":s},"DETAILS"):a.html(le,null)),o?a.html("div",{"class-details":!0},i):a.html(le,null))}function zu({user:e}){const t=/^_.*/,n=Object.keys(e).map(i=>({name:i,value:e[i]})),r=(i,o)=>{if(!t.test(i.name)||!t.test(o.name)){if(t.test(i.name))return-1;if(t.test(o.name))return 1}else return i.name.toLowerCase()<o.name.toLowerCase()?-1:1;return 0};return a.html("table",null,a.html("thead",null,a.html("tr",null,a.html("th",null,"Property"),a.html("th",null,"Value"))),a.html("tbody",null,n.sort(r).map(i=>a.html("tr",null,a.html("td",null,i.name),a.html("td",null,JSON.stringify(i.value))))))}const i_="/generic/main/7.7.5/debugger.5f4099830587e6584504e8ee75172b2f2fc9baf4.css",o_="ahFr2ozGgr3TQI5KHlN9wZPypwaSYoQUyVsCyMv8vgg=",s_=Pt(i_),vs=Gn([Yn,Kn,jn,qn,zn],ii.createApi({clean:!0,trustedTypesPolicy:window.trustedTypes?.defaultPolicy}));let An=null;const c_=e=>{const t=fr(e)||{},n=ei(e);return Object.keys(n||{}).reduce((r,i)=>{const o=sf(t,i);return o?{...r,[i]:{...n[i],flow:o}}:r},{})},l_=(e,t)=>a.html(r_,{lastTrackedPage:Uc(e),currentPage:Fc(e),currentContent:ye(e),currentFlow:ze(e),currentStepId:se(e),currentStepChildId:st(e),currentContentStatus:Be(e),stepChildErrors:c_(e),user:be(e),group:df(e),settings:mf(e),isTransportInitialized:Pc(e),rowState:vf(e),onToggleRowDetails:t.onToggleRowDetails,onToggleCollapsed:t.onToggleCollapsed,onCloseDebugger:t.onCloseDebugger});function a_(e){if(Er(document)){const t=e.views.callbacks[z.DEBUGGER],n=Dc(e),r=n&&n.isCollapsed;if(!An){const i=document.createElement("appcues-debugger");document.body.appendChild(i),An=vs(i,a.html("appcues-debugger",null))}Wn(e)&&t?An=vs(An,a.html("appcues-debugger",{classNames:r?"collapsed":"expanded"},a.html("iframe",{"style-border":"none","style-height":"450px","style-width":"600px",scrolling:"no","style-color-scheme":"none"},a.html("link",{"attrs-href":s_,"attrs-type":"text/css","attrs-rel":"stylesheet","attrs-integrity":o_,"attrs-crossorigin":"anonymous"}),l_(e,t)))):An&&(An=vs(An,a.html("div",null)))}}const u_="https://docs.appcues.com/user-experiences-faq/faq-test-mode",d_=e=>{const{testModeCallbacks:t}=e;return a.html("div",{"class-banner-wrapper":!0},a.html("div",{"class-banner-background":!0},a.html("div",{"class-banner-content":!0},a.html("span",{"class-banner-header":!0},"Appcues Test Mode"),a.html("a",{href:u_,"class-clickable":!0,"class-doc-link":!0,target:"_blank",rel:"noreferrer"},"Learn More")),a.html("div",{"class-banner-content":!0},a.html("div",{"class-restart":!0,"class-clickable":!0,"on-click":t.onResetClicked},"Restart"),a.html("div",{"class-clickable":!0,"on-click":t.onCancelClicked},"End Test"))))},f_="/generic/main/7.7.5/test-mode.5f4099830587e6584504e8ee75172b2f2fc9baf4.css",p_="royxrv5ISPWNXk8sIb8ykOuJZkg3+vchIFFlvBuV/2Y=",h_=Pt(f_),bs=Gn([Yn,Kn,jn,qn,zn],ii.createApi({clean:!0,trustedTypesPolicy:window.trustedTypes?.defaultPolicy}));let vn=null;function m_(e){if(Er(document)){const t=e.views&&e.views.callbacks&&e.views.callbacks[z.TEST_MODE],{_testContentId:n}=e.user||{},r=n,i=e.test&&e.test.cssLoaded;if(!vn){const o=document.createElement("appcues-test-banner");document.body.appendChild(o),vn=bs(o,a.html("appcues-test-banner",null))}r&&t?vn=bs(vn,a.html("div",{"class-appcues":!0},a.html("appcues-test-banner",{style:{display:"flex",justifyContent:"center"}},a.html("iframe",{style:{height:"50px",width:"595px",position:"fixed",bottom:"0",border:"0"}},a.html("link",{"attrs-href":h_,"attrs-integrity":p_,"attrs-crossorigin":"anonymous","attrs-type":"text/css","attrs-rel":"stylesheet","on-load":t.onCssLoaded}),i?a.html(d_,{testModeCallbacks:t}):a.html(le,null))))):vn&&(vn=bs(vn,a.html("div",null)))}}function E_(e){return{onToggleRowDetails(t){e(eT(t))},onToggleCollapsed(){e(tT())},onCloseDebugger(){e(au())}}}function*g_(){if((yield v($n))===z.MODAL&&(yield v(Be))===Q.STARTED){const e=yield v(Xe);(yield E(Nu,e))&&(yield g(Ha(document.activeElement)),yield g(yy()))}}function*y_(){yield F(te,$.START_CONTENT,g_)}function*ws(e,t){yield E(IT,t),yield g(ce(pt(q.CHILD_RUN,e,t))),yield g(Oy([t]))}function*S_(){if((yield v($n))===z.HOTSPOTS&&(yield v(Be))===Q.STARTED){const e=yield v(ye),t=nn(e);t.length>0?(yield E(Nu,t))&&(yield g(Ha(document.activeElement)),yield g(wy()),yield g(Ly()),Fn(e)&&(yield*ws(e.id,t[0].id))):yield E(gs,new Error("Trying to show an empty list of hotspots."))}}function*T_({payload:e}){if((yield v($n))===z.HOTSPOTS){const n=(yield v(Xe)).reduce((r,i)=>{let o=e[i.id];if(!o.error){const{viewport:s,fixed:c,zIndex:l,element:u,boundingRect:d,relativeBoundingRect:f,padding:p,iframeParent:y}=o,{left:h,top:m,right:T,bottom:_}=d,S=f.left,A=f.top,I=i.offset_x_percentage*(T-h),C=i.offset_y_percentage*(_-m),{scrollX:k,scrollY:L}=y?window:{scrollX:0,scrollY:0};o={x:h+I+(p?.left||0)+k,y:m+C+(p?.top||0)+L,fixed:c,zIndex:l,element:u,boundingRect:d,elementBoundingRect:u.getBoundingClientRect(),isElementVisible:sh({xOffset:i.offset_x_percentage,yOffset:i.offset_y_percentage,element:u}),...Xp(S+I,A+C,s.width,s.height)}}return r[i.id]=o,r},{});yield g(xy(n)),yield E(CT)}}function*C_(){yield E(ve,1e4);const e=yield*Kt();e&&(delete e.navByADTT,yield*Mt(e))}function*Xu({payload:e}){(yield v(Bn)).length>0&&(yield Ge({continue:V(r=>r.type===he.REMOVE_ACTIVE_ANNOTATIONS&&r.payload[0]===e.childId),cancel:V(r=>r.type===ae.CANCEL_STEP&&r.payload.stepId===e.stepId)})).cancel||(yield g(ce(Te(q.STEP_END,e.stepId,e.params))))}function*__(e){const{contentType:t,step:n,childId:r,nextChildId:i,shouldEndFlow:o}=e.payload;if(t===z.SEQUENTIAL_HOTSPOTS)if(yield g(ss([r])),yield g(ce(pt(q.CHILD_DEACTIVATED,n.id,r,{ts:Date.now()}))),i)yield*ws(n.id,i);else{if(yield g(ce(Te(q.STEP_COMPLETED,n.id,{shouldEndFlow:o}))),wc(n,rn(n,r))){const s=yield*Kt();yield*Mt({...s,navByADTT:!0}),yield F(C_)}yield E(Xu,Ai(n.id,r,{shouldEndFlow:o}))}}function*Ju({stepId:e,currentStepChildId:t,nextStepChildId:n}){yield g(ss([t])),yield g(ce(pt(q.CHILD_DEACTIVATED,e,t,{ts:Date.now()}))),yield g(is({stepChildId:t})),yield g(is({stepChildId:n})),yield g(ce(pt(q.CHILD_ACTIVATED,e,n,{ts:Date.now()}))),yield*ws(e,n)}function*I_(e){const{step:t,stepChildId:n}=e.payload,r=yield v(mo,n);r&&(yield E(Ju,{stepId:t,currentStepChildId:n,nextStepChildId:r}))}function*A_(e){const{stepId:t,currentStepChildId:n,nextStepChildIndex:r}=e.payload,i=yield v(Zr,r);if(!i||n===i)return;yield(yield v(If,n,i)).map(s=>g(is({stepChildId:s}))),yield E(Ju,{stepId:t,currentStepChildId:n,nextStepChildId:i})}function*v_(){yield[F(te,$.START_CONTENT,S_),F(te,he.START_HANDLE_POSITION_UPDATES,T_),F(te,ae.ADVANCE_STEP_CHILD,__),F(te,Vt.CLOSE_LAST_HOTSPOT,Xu),F(te,ae.RUN_PREV_STEP_CHILD,I_),F(te,he.GO_TO_STEP,A_)]}function*b_(){for(;;){const e=window.location.href;(yield v(Fc))!==e&&(yield g(nT(e))),yield E(ro,1e3)}}function*w_(e){let t=null;if(e.payload.events.forEach(n=>{n.name===Qt.PAGE_VIEW&&(t=n)}),t){const n=t.attributes.url,r=yield v(Uc);n!==r&&(yield g(lu(n)),yield E(He,"localStorage",Hs,n))}}function*N_(e){if(e.error){const n=(e.payload&&e.payload.extra?e.payload.extra.id:null)||(yield v(se));yield g(rT(n,e.payload.message))}}function*O_(e){const t=Object.keys(e.payload).filter(n=>e.payload[n].error);if(t.length>0){const n=yield v(se);for(const r of t)yield g(iT(n,r,e.payload[r].errorMessage))}}function*k_(){for(;;){(yield E(ke,"localStorage",Vi))||(yield V($.START_DEBUG)),yield E(He,"localStorage",Vi,!0);const t=yield E(ke,"localStorage",Hs);yield g(lu(t));const n=yield dt(b_),r=yield F(te,[$.START_ACTIVITY,$.START_IDENTIFY],w_),i=yield F(te,U.WILL_SHOW_CONTENT,N_),o=yield F(te,he.SET_ANNOTATIONS_POSITIONS,O_);yield V(qe.CLOSE_DEBUGGER),yield rt(n),yield rt(r),yield rt(i),yield rt(o),yield E(Me,"localStorage",Vi)}}function*R_(){yield F(k_)}function*L_({payload:e}){switch(yield g(ce(Te(q.STEP_SHOWN,e.id))),e.attributes.action_type){case mt.REDIRECT:{const t=window.location.href,{url:n,new_tab:r,initiated_by_user:i}=e.attributes.params;if(i)return;if(Tt(n,t))yield g(ce(Te(q.STEP_COMPLETED,e.id))),yield g(ce(Te(q.STEP_END,e.id)));else{yield Ge({wait:V(U.SENT_ACTIVITY_UPDATE),cancel:E(ve,1500)});const o=yield v(sn);yield Ge({wait:E(xi,o),cancel:E(ve,Ji)}),yield E(jt,window,n,r)}break}default:yield g(er(new Error("Unknown step type.")))}}function*x_({payload:{action:e,status:t}}){switch(e.attributes.action_type){case mt.WAIT_FOR_PAGE:{const n=window.location.href,{url:r}=e.attributes.params,i=yield*Kt(),o=yield v(fo),s=Tt(r,o.url),c=Tt(o.url,n),l=t===q.STEP_SHOWN||s&&c,u=t===q.STEP_ATTEMPTED&&i&&i.remainingPagesToCheck!==Ki;l||u&&Tt(r,n)?(yield g(ce(Te(q.STEP_COMPLETED,e.id))),yield g(ce(Te(q.STEP_END,e.id)))):yield g(ce(Te(q.STEP_ATTEMPTED,e.id)));break}case mt.REDIRECT:{let n=[Te(q.STEP_SHOWN,e.id),Te(q.STEP_COMPLETED,e.id),Te(q.STEP_END,e.id)].filter(r=>t!==r.type);t===q.STEP_ATTEMPTED&&(n=[Te(q.STEP_ATTEMPTED,e.id),...n]);for(const r of n)yield g(ce(r));break}default:yield g(er(new Error("Unknown step type.")))}}function*Qu(e,t){const n=window.location.href;Tt(e,n)?t&&(yield E(t)):(yield E(ve,500),yield E(Qu,e,t))}function*P_({payload:{action:e,checklistId:t,itemId:n,actionIndex:r}}){switch(e.attributes.action_type){case mt.REDIRECT:{const i=window.location.href,{url:o,new_tab:s}=e.attributes.params;if(Tt(o,i))yield g(cs(t,n,r));else{const c=yield v(sn);yield Ge({wait:at([E(xi,c),E(xi,t)]),cancel:E(ve,Ji)});const l=yield v(ln,t);yield E(He,Ie,Vr,JSON.stringify({checklistId:t,itemId:n,actionIndex:r,checklist:l})),yield E(jt,window,o,s),yield E(Qu,o,function*(){yield g(cs(t,n,r)),yield E(Me,Ie,Vr)})}break}case mt.SHOW_FLOW:{const{flowId:i}=e.attributes.params;i&&(yield g(Sr(i))),yield g(cs(t,n,r));break}default:{const i=new Error("Checklist action has an invalid action_type.");i.extra={action:e,checklistId:t,itemId:n,actionIndex:r},yield g(Qa(i))}}}function*D_(){yield[F(te,U.RUN_ACTION,L_),F(te,U.RESUME_ACTION,x_),F(te,re.START_CHECKLIST_ACTION,P_)]}const F_=500,U_=5e3;function*H_(){(yield v($n))===z.SATISFACTION_SURVEY&&(yield v(Be))===Q.STARTED&&(yield g(Wy()))}function*M_(e){const{score:t}=e.payload,n=yield v(ze),r=yield v(It),o=ft(n,r,{score:t,name:"NPS Score",id:"nps_score"});yield g(Ue(o.flowId,o)),yield g(we({[`${wn}MostRecentNPSScore`]:t,[`${wn}NPSLastCollectedAt`]:Date.now()},[Ve(o)],!1))}function*$_(e){const{feedback:t}=e.payload,n=yield v(ze),r=yield v(It),i=ft(n,r,{feedback:t,name:"NPS Feedback",id:"nps_feedback"});yield g(Ue(i.flowId,i)),yield g(we({[`${wn}MostRecentFeedback`]:t,[`${wn}NPSFeedbackLastCollectedAt`]:Date.now()},[Ve(i)],!1))}function*B_(){const e={},t=`${wn}ClickedUpdateNPSScore`;e[t]=Date.now();const n=yield v(ze),r=yield v(It),i=ft(n,r,{clickedUpdateNPSScore:e[t],name:"NPS Clicked Update NPS Score",id:"nps_clicked_update_nps_score"});yield g(Ue(i.flowId,i)),yield g(we(e,[Ve(i)],!1))}function*W_(){const e={},t=`${wn}AskMeLaterSelectedAt`;e[t]=Date.now();const n=yield v(ze),r=yield v(It),i=ft(n,r,{askMeLaterSelectedAt:e[t],name:"NPS Ask Me Later Selected At",id:"nps_ask_me_later_selected_at"});yield g(Ue(i.flowId,i)),yield g(we(e,[Ve(i)],!1))}function*V_(){yield g(ja()),yield ro(F_),yield g(qa()),yield ro(U_),yield g(Ka())}function*G_(){yield[F(te,Ae.QUANTITATIVE_QUESTION_SUBMITTED,M_),F(te,Ae.QUALITATIVE_QUESTION_SUBMITTED,$_),F(te,Ae.ASK_ME_LATER_SELECTED,W_),F(te,Ae.CLICKED_UPDATE_NPS_SCORE,B_),F(te,Ae.START_COLLAPSING_SATISFACTION_SURVEY,V_),F(te,$.START_CONTENT,H_)]}function*Ns(e){yield g(gn(e.id,Q.READY)),yield V(r=>r.type===re.LOADED_CHECKLIST_CSS&&e.id);const t=yield v(ye);yield t&&t.type!==z.HOTSPOTS?g(vi()):g(gn(e.id,Q.SHOWING)),(e.attributes&&e.attributes.progress_state)!==kn.COMPLETED&&(yield g(yn(e.id)))}function*j_({payload:e}){const{open_behavior:t}=e;switch(t){case Yi.CLOSED:{yield E(Ns,e);break}case Yi.OPENED:{yield g(Xa(e));break}case Yi.OPEN_ONCE:default:{const n=`${Gi}${e.id}`;ke(Ie,n)?yield E(Ns,e):(He(Ie,n,"1"),yield g(Xa(e)));break}}}function*q_({payload:e}){yield E(Ns,e),yield E(ve,1e3),yield g(Or(e.id)),yield g(eu(e))}function*K_(e){const{checklist:t}=e.payload,n=yield v(It),r=_E(t,n);yield g(Ue(t.id,r)),yield g(we(null,[Ve(r)],!1))}function*Y_(e){const{checklistId:t,didCompleteChecklist:n}=e.payload,r=yield v(It),i=yield v(ln,t);yield g(gn(i.id,Q.DISMISSED));const o=n?vE(i,r):AE(i,r);yield g(Ue(o.checklistId,o)),yield g(we({},[Ve(o)],!1))}function*z_(){const{userId:e}=yield v(be);yield g(Zn(e,{_showChecklist:null}))}function*X_(e){const{checklistId:t,itemId:n,actionIndex:r}=e.payload;yield g(yn(t));const i=yield v(It);let o,s;if(o=yield v(ln,t),s=yield v(Nf,t,n),s||(o=e.payload.checklist,s=yield E(it,o.attributes.items,({id:c})=>c===n)),r===0){try{const l=s.conditions?.and[0]?.properties,u=`_checklist_item_${n}_completed`;s.state==="incomplete"&&l?.property===u&&l?.value==="true"&&(yield g(we({[`_checklist_item_${n}_completed`]:!0},[],!0)))}catch{}const c=wE(o,s,i);yield g(Ue(c.checklistId,c)),yield g(we({},[Ve(c)],!1))}for(let c=r;c<s.actions.length;c++)yield g(tS(s.actions[c],t,n,c)),yield V(({type:l,payload:u})=>l===re.COMPLETED_CHECKLIST_ACTION&&u.itemId===n)}function*J_(){const e=yield v(cn);e.length>0&&(yield at(e.filter(t=>qi.includes(t.status)).map(t=>g(gn(t.id,Q.HIDING)))))}function*Q_(){const e=yield v(go,Q.HIDING);e.length>0&&(yield at(e.map(t=>g(gn(t.id,Q.READY)))),yield g(gn(e[0].id,Q.SHOWING)),e[0].shouldTryExpandChecklist&&(yield g(Or(e[0].id)),yield g(Ja(e[0].id,!1))))}function*Z_(){yield[F(te,re.START_CHECKLIST,j_),F(te,re.HIDE_CHECKLISTS,J_),F(te,re.UNHIDE_CHECKLISTS,Q_),F(te,re.ANIMATE_IN_CHECKLIST,q_),F(te,re.CONFIRM_DISMISS_CHECKLIST,Y_),F(et,re.START_CHECKLIST_ITEM,X_),F(et,re.CLEAR_FORCE_SHOWN_CHECKLIST,z_),F(te,re.SEND_CHECKLIST_SHOWN_EVENT,K_)]}function*eI({payload:e}){const{type:t,event:n}=e,r=yield v(It),i={...n,sessionId:r};yield g(Ue(t,i))}function*tI(){yield[F(te,$.START_OPEN_BUILDER_EVENT,eI)]}function nI(){const e=ke(Ie,Xt);let t;if(e)try{t=JSON.parse(e)}catch{return{}}if(t){const{_testContentId:n,_testContentUrl:r,...i}=t;return Me(Ie,Xt),Me(Ie,ji),He(Ie,Xt,JSON.stringify(i)),{_testContentId:null}}return{}}function rI(){const e=ke(Ie,Xt);let t;if(e)try{t=JSON.parse(e)}catch{return window.location.href}if(t){const{_testContentUrl:n}=t;return n}return window.location.href}function*iI(){const e=nI();yield g(Tr(e,!0)),yield E(Ts,e,[],!1);const t=_n(window.location.href,"appcuesTestContentId");yield E(jt,window,t)}function*oI(){const e=rI();yield E(jt,window,e)}function*sI(){yield[F(te,Qn.CANCEL_TEST,iI),F(te,Qn.RESET_TEST,oI)]}function*cI(e){if(e.checklists&&e.checklists.length>0){const t=yield v(It),n=[],i=((yield v(cn))||[]).reduce((d,f)=>({...d,[f.id]:f}),{}),o=e.checklists.map(({checklist:d,state:f})=>{if(f.status===kn.DISMISSED)return{checklist:d};const p=i[d.id];if(f.changed&&(f.status===kn.COMPLETED||f.status===kn.SHOWN_MANUALLY&&f.items.every(T=>T.is_completed))){const T=IE(d,t);n.push({checklistId:d.id,event:T})}const y=p&&p.attributes&&p.attributes.progress_state;let h=p&&p.status;if(f.status===kn.SHOWN_MANUALLY&&y!==kn.SHOWN_MANUALLY){const T=bE(d,t);n.push({checklistId:d.id,event:T}),h=null}const m=(d.items||[]).map((T,_)=>{const S=f.items[_];if(S.is_completed&&S.changed){const C=NE(d,T,t);n.push({checklistId:d.id,event:C})}const A=S.is_completed?"complete":"incomplete",I=S.changed?S.is_completed?"incomplete":"complete":A;return{...T,prev_state:I,state:A}});return{...d,status:h,progress_state:f.status,items:m}});for(const d of n)yield(yield v(Of,d.checklistId))===Q.HIDING?g(Ja(d.checklistId,!0)):g(Or(d.checklistId)),yield g(Ue(d.checklistId,d.event)),yield g(we({},[Ve(d.event)],!1));yield g(za(o));let s=e.contents;if(e.content&&e.content.length>0){const{contents:d}=ys(e.content);s=d}if(s&&s.length>0){const d=s[0].attributes&&s[0].attributes.steps,f=it(Object.keys(d||{}),p=>d[p].index===0);d&&d[f]&&d[f].step_type&&d[f].step_type!==z.HOTSPOTS&&(yield V(re.HIDE_CHECKLISTS))}const c=yield v(cn),l=yield v(go,Q.SHOWING),u=l[0]&&l[0].attributes&&l[0].attributes.id;if(c.every(d=>d.status===Q.HIDING))return;c.every(d=>!d.status)&&(yield g(Ya(o[0]))),u&&u!==o[0].id&&(yield g(gn(u,Q.READY)),o[0]&&o[0].status!==Q.SHOWING&&(yield g(Ya(o[0]))))}else yield g(za([]))}function*lI(){let e=[],t={};const n=new Map;yield ur(U.SENT_REQUEST,({payload:{requestId:r,pageViewEvent:i}})=>{e=[r,...e],i&&(t={...t,[r]:i?.attributes?.url})}),yield ur([$.START_HANDLE_MESSAGE,$.MESSAGE_TIMEOUT],function*({type:i,payload:o}){const s=i===$.MESSAGE_TIMEOUT?{request_id:o}:o;if(s.type===Zi){const{type:d,status:f="success",...p}=s;yield g(f==="error"?{type:mi.LAUNCHPAD_SEARCH_ERROR}:{type:mi.LAUNCHPAD_SEARCH_RESPONSE,payload:p})}else i===$.START_HANDLE_MESSAGE&&(yield F(cI,s));const c=yield v(fo),l=s.qualification_reason===Ms.EVENT_TRIGGER;(c.url!==window.location.href||!c.complete)&&!l&&(yield V(d=>d.type===U.CHECKED_FOR_INITIAL_CONTENT&&d.payload.url===window.location.href&&d.payload.complete));const u=s.request_id;u&&(n.set(u,s),yield Ge({cancel:V([$.START_HANDLE_MESSAGE,$.MESSAGE_TIMEOUT]),handleMessage:E(function*(){if(e[0]===u)for(;e.length>0;){const[f,...p]=e;e=p;const y=n.get(f)||{};n.delete(f);const{experiences:h=[],experiments:m=[],profile:T,contents:_,content:S,performed_qualification:A}=y;yield g(Nm(m)),T&&Object.keys(T).length>0&&(yield g(Tr(T,!0)));let I=_,C=h;if(S&&S.length>0){const{contents:R,experiences:K}=ys(S);I=R,C=K}C.some(R=>R.type===On.NPS||R.type===On.FLOW)&&(yield g(vi()),yield g(uu())),C.length>0&&window.location.href===t[f]&&!window.document?.documentMode&&(yield g(fs(C)));const L=y.qualification_reason===Ms.PAGE_VIEW,H=A&&I&&I.length>0;if(L&&H&&window.location.href===t[f]||!L&&H){e=[],n.clear();const R=I.map(G=>G.id),K=I.reduce((G,ue)=>(G[ue.id]=ue,G),{});return yield g(Bo(R,K)),yield g(kl(window.location.href,l,f))}}})}))})}function aI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){aI(e,i,n[i])})}return e}var dI="appcues:checklist_ready",fI="appcues:checklist_close",Os="appcues:toggle_checklist",ks="appcues:confirm_checklist_ready",pI="appcues:launchpad_close",hI="appcues:launchpad_search",mI="appcues:launchpad_search_error",EI="appcues:launchpad_search_response",Rs=function(e,t){return window.addEventListener(e,t),function(){return window.removeEventListener(e,t)}},gI=function(e){var t=e.name,n=e.id,r=e.totalItems,i=e.completedItems,o=new CustomEvent(dI,{detail:{name:t,id:n,totalItems:r,completedItems:i}});window.dispatchEvent(o)},yI=function(){var e=new CustomEvent(fI);window.dispatchEvent(e)},SI=function(e){return Rs(Os,e)},TI=function(e){return Rs(ks,e)},CI=function(){var e=new CustomEvent(pI);window.dispatchEvent(e)},_I=function(e){return Rs(hI,e)},II=function(e,t){var n=new CustomEvent("".concat(EI,":").concat(e),{detail:uI({},t)});window.dispatchEvent(n)},Zu=function(e){var t=new CustomEvent("".concat(mI,":").concat(e));window.dispatchEvent(t)};function*ed(){let e=yield v(ut);return(yield E(nu,e))||(yield E(xu),e=yield v(ut)),e}let Ls=[];const xs=()=>{const[e,...t]=Ls;return Ls=t,e};function*AI(){(yield E(Pi))||(yield V(U.INITIALIZE));const t=yield v(be);ne.defined(t.userId)||(yield V(U.COMPLETED_IDENTIFY));let n=yield E(ed);const r=ar(i=>(_I(o=>{const{experienceId:s,integrationId:c,query:l}=o.detail;Ls.push(s),i({type:Zi,data:{integration_id:c,query:l,experience_id:s}})}),()=>{}));for(n.transport.module.subscribeToError(()=>{const i=xs();Zu(i)},n,Dr.UserActivity);;){const{data:i}=yield V(r);n=yield E(ed),yield E(OS,n,Zi,i)}}function vI({payload:e}){const t=xs();II(t,e)}function bI(){const e=xs();Zu(e)}function*wI(){yield[dt(AI),F(et,mi.LAUNCHPAD_SEARCH_RESPONSE,vI),F(et,mi.LAUNCHPAD_SEARCH_ERROR,bI)]}const Ps={},td={},NI=e=>{const{GENERIC_BUNDLE_DOMAIN:t,VERSION:n,RELEASE_ID:r}=window?.AppcuesBundleSettings??{};return`${t}/generic/main/${n}/${e}.${r}.js`},nd=e=>new Promise(t=>{const n=`appcues-${e}`;function r(){td[n]=!0,t()}if(Ps[n]){if(td[n]){r();return}Ps[n].addEventListener("load",r);return}const i=NI(e),o=window.document.createElement("script");o.type="text/javascript",o.src=i,o.async=!0,o.addEventListener("load",r),o.id=`appcues-${e}`,o.crossOrigin="anonymous",Ps[n]=o,window.document.body.append(o)}),OI="v2",kI=e=>{const t={sendEvent:(n,r)=>{const i=`${OI}:${n}`,o={...r,id:i};e(Xh(i,o)),e(we({},[Ve(o)]))},sendCustomEvent:(n,r)=>{const i={...r,id:n};e(we({},[Gt(n,i)],!0))},updateUserProfile:(n={})=>{Object.keys(n).length!==0&&e(we(n,[],!0))},showFlow({flowId:n,url:r,prefetch:i}){if(i){e({type:U.PREFETCH_FLOWS,payload:n});return}if(!r||Tt(window.location.href,r)){e(Sr(n));return}e(Ma(n)),jt(window,r)}};return window.createAppcues(t)},RI=async()=>(await nd("open-builder"),kI);function*LI(){const e=yield Vd("dispatch"),n=(yield E(RI))(e);yield g(vm(n)),yield g(wm())}function*$t(){const e=yield v(So),t=yield v(Uf);return t&&(yield V(({type:n})=>n===U.OPEN_BUILDER_INITIALIZED)),!e&&!t&&(yield g(bm()),yield V(({type:n})=>n===U.OPEN_BUILDER_INITIALIZED)),yield v(So)}function*Ds({payload:e}){const t=yield E($t);t&&(yield E(t.pause,e))}function*rd({payload:e}){const t=yield E($t);t&&(yield E(t.resume,e))}function*id(e,t){yield g(gi(e.id,tt.EXPERIENCES)),!(yield E(ea,e.id,tt.EXPERIENCES))&&t.show(e)}function Fi(e){const t={experiences:[],launchpads:[]};return e.forEach(n=>{const r=n.type==="launchpad"?"launchpads":"experiences";t[r].push(n)}),t}function*xI({payload:e}){const t=yield E($t);let n=e;const r=n.some(o=>o.type===On.NPS||o.type===On.FLOW),i=n.some(o=>o.type==="launchpad");if(i){yield E(nd,"open-builder-components");const o=yield v(ye);if(!(o?.type===z.HOTSPOTS)&&o){const{experiences:c,launchpads:l}=Fi(n);n=c,yield g(Fr(l))}}if(r&&i){const{experiences:o,launchpads:s}=Fi(n);yield g(Fr(s)),n=o}r&&(yield g(vi())),yield at(n.map(o=>E(id,o,t)))}function*PI(){const e=yield E($t);e&&e.stopAll()}function*DI(e,t){yield(yield E(t.isExperiencePaused,e.id))?E(rd,{payload:e.id}):E(id,e,t)}function*FI(){const e=yield v(Mf);if(e.length<=0)return;const t=yield E($t);yield at(e.map(n=>E(DI,n,t))),yield g(Fr([]))}function*UI(){const e=yield E($t),t=yield E(e.getRunningExperiences),{launchpads:n}=Fi(t);n.length<=0||(yield at(n.map(r=>E(Ds,{payload:r.id}))),yield g(Fr(n)))}function*HI(){if((yield v(ye)).type===z.HOTSPOTS)return;const n=yield E($t),r=yield E(n.getRunningExperiences),{launchpads:i}=Fi(r);i.length<=0||(yield at(i.map(o=>E(Ds,{payload:o.id}))),yield g(Fr(i)))}function*MI({payload:e}){const{type:t,event:n}=e,r=n.experienceType===On.NPS||n.experienceType===On.FLOW,i=yd.includes(t);if(r&&i){const o=yield E($t);yield E(o.stop,n.experienceId),yield g(Ur()),yield g(Nr())}}function*$I(){yield[F(et,U.INITIALIZE_OPEN_BUILDER,LI),F(te,Je.PAUSE_EXPERIENCE,Ds),F(te,Je.RESUME_EXPERIENCE,rd),F(et,Je.SHOW_EXPERIENCES,xI),F(te,$.START_RESET,PI),F(te,Je.UNHIDE_LAUNCHPADS,FI),F(te,Je.HIDE_LAUNCHPADS,UI),F(te,$.PREPARE_CONTENT,HI),F(te,$.START_OPEN_BUILDER_EVENT,MI)]}function*BI(){if(window.AppcuesSettings){let e=window.location.href;const{enableURLDetection:t}=window.AppcuesSettings;for(;t;)window.location.href!==e&&(window.Appcues.page(),e=window.location.href),yield E(ve,500)}}function*WI(){yield[F(BI)]}const od=b(hi.SET_COLLISION_MODE),VI="launchpad-button-wrapper",GI=(e,t)=>e.checklist?e.checklist.payload[0]:t.payload[0],jI=(e,t)=>(e.experiences?e.experiences.payload:t.payload).find(i=>i.type==="launchpad"),qI=e=>{const n=e.steps[0].traits.filter(c=>c.type==="@appcues/floating").find(c=>c.config?.target?.selector===VI),{xPosition:r,yPosition:i,xOffset:o,yOffset:s}=n.config;return{position:`${i} ${r}`,xOffset:o,yOffset:s}};function*sd(e,t){if(!e||!t){yield g(od({collisionMode:!1,checklist:null}));return}const n=e.styles.position.toLowerCase(),{position:r,xOffset:i,yOffset:o}=qI(t);yield g(od({collisionMode:n===r,checklist:e,collisionCoordinates:{x:i,y:o}}))}function*KI(){const e=yield Ge({checklist:V(re.UPDATE_CHECKLISTS),experiences:V(Je.SHOW_EXPERIENCES)}),t=yield e.checklist?V(Je.SHOW_EXPERIENCES):V(re.UPDATE_CHECKLISTS),n=GI(e,t),r=jI(e,t);yield E(sd,n,r)}function*YI({payload:{checklistId:e,forceClose:t}}){const n=yield v(ln,e);if(t){yield g(yn(e));return}const r=n.viewState===Bt.EXPANDED;r||(yield E(CI)),yield g(r?yn(e):Or(e))}function*cd({payload:{collisionMode:e,checklist:t}}){if(!e){yield E(yI);return}const n=t.items.filter(i=>i.state==="complete").length,r=yield Ge({received:at([V(ks),E(gI,{name:t.text_tokens.beacon_text,id:t.id,totalItems:t.items.length,completedItems:n})]),cancel:E(ve,100)});Object.prototype.hasOwnProperty.call(r,"cancel")&&(yield E(cd,{payload:{collisionMode:e,checklist:t}}))}function*zI(){const e=ar(t=>(SI(n=>{t({type:Os,payload:{checklistId:n.detail.checklistId,forceClose:n.detail.forceClose}})}),TI(()=>{t({type:ks})}),()=>{}));for(;;){const t=yield V(e);yield g(t)}}function*XI(){for(yield V(hi.SET_COLLISION_MODE);;){const{payload:[e]}=yield V(re.UPDATE_CHECKLISTS),t=yield E($t);if(!t)return;let n=null,r=0;const i=10;for(;!n&&r<=i;)yield ve(100),n=t.getRunningExperiences().find(s=>s.type==="launchpad"),r+=1;n&&(yield E(sd,e,n))}}function*JI(){yield[F(zI),F(XI),F(KI),F(ur,Os,YI),F(ur,hi.SET_COLLISION_MODE,cd)]}const QI="/generic/main/7.7.5/container.5f4099830587e6584504e8ee75172b2f2fc9baf4.css",ZI="oAzWkIGu2eINiA7AHWZtghnvS5DuvILEICBpL1HdPkY=";window.performance&&window.performance.mark&&window.performance.mark("apc-init"),WS();const Nt=window.AppcuesBundleSettings;[...document.documentElement.querySelectorAll("link")].forEach(e=>{/\/appcues(\.min|\.debug)?\.css$/.test(e.href)&&e.parentElement&&e.parentElement.removeChild(e)});const rr=document.createElement("link");rr.setAttribute("rel","stylesheet"),rr.setAttribute("type","text/css"),rr.setAttribute("integrity",ZI),rr.setAttribute("crossorigin","anonymous"),rr.setAttribute("href",Pt(QI)),document.head.appendChild(rr);const Fs=window[$i];ne.object(Fs)&&ne.defined(Fs.gaTracker)&&Nt.integrations.ga&&(Nt.integrations.ga.trackerName=Fs.gaTracker);let Us=null;const ld=document.documentElement.querySelector('script[src*="fast.appcues"]');ld&&(Us=ld.getAttribute("data-user-id"));const bn=dS({settings:Nt,sagas:[UC,KT,y_,wT,v_,G_,D_,Z_,tI,sI,R_,lI,aT,wI,$I,LE,WI,aC,JI,function*(){yield F(jC,Nt.events)}],onStateChange:e=>{a_(e),m_(e)}});bn.dispatch(Pl({[z.DEBUGGER]:E_(bn.dispatch,bn.getState)})),bn.dispatch(Kh(Nt,QS(bn),BS,ZS(Nt,bn.getState)));const Ui=ZC(bn);Nt&&Nt.integrations&&Object.keys(Nt.integrations).forEach(e=>{if(Nt.integrations[e].isEnabled){const t=Ui[`init${{mixpanel:"Mixpanel",heap:"Heap",intercom:"Intercom",customerio:"CIO",vero:"Vero",woopra:"Woopra",amplitude:"Amplitude",klaviyo:"Klaviyo",calq:"Calq",localytics:"Ll",segment:"Segment",rudderstack:"Rudderstack",braze:"Braze",treasuredata:"TD",kissmetrics:"KM",ga:"GA",gtm:"GTM",fullstory:"FullStory",hotjar:"Hotjar",logrocket:"LogRocket"}[e]}`];t&&t()}}),/hey_appcues/i.test(window.location.search)&&Ui.debug(),Us!==null&&Ui.identify(Us);const ad=window.AppcuesBundleSettings;let Mr;if(window.Appcues&&!window.Appcues.SNIPPET_VERSION)Mr=window.Appcues;else if(window.requestAnimationFrame&&window.WebSocket&&ad.accountId&&/^\d+$/.test(ad.accountId))window.Appcues=Ui,Mr=window.Appcues;else{const e=()=>{};Mr={},Sd.forEach(t=>{Mr[t]=e})}return Mr})();
